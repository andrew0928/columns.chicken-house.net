# [架構師的修練] #3, 刻意練習 - 如何鍛鍊你的抽象化能力

## 摘要提示
- AI與設計能力：AI 擅長生成與拼裝，但人類的設計判斷與抽象化仍是核心價值。
- ChatGPT設計題表現：在折扣規則抽象化與介面設計上，ChatGPT 給出高命中率的解法。
- 折扣計算介面：以單一方法輸入價格/購物車，輸出最終金額、折扣明細與提示，突顯設計關鍵。
- 擴充與替換：以 interface 抽象不同規則，展示如何抽換與串接多組折扣計算器。
- 人機互補：人負責規格、取捨與協調；AI輔助 POC、產碼與加速實驗。
- API First戰略：以正確的 interface/API 為協作中心，放大跨系統/生態影響力。
- 刻意練習：要能看懂、評估與引導 AI，需要長期的抽象化練習與基礎積累。
- 5年展望：AI將成為強大助理，Skill 類工作被大幅接管，規格與WHY更顯重要。
- 規格驅動開發：以規格生程式與測試，用案例自我驗證，效率與品質同步提升。
- 成長路徑：AI是強力武器但不能替你升級，升級仍需練習、反思與經驗累積。

## 全文重點
作者從兩篇舊文與當前 AI 浪潮出發，反思「設計與抽象化」在新工具環境中的價值。透過一個零售折扣規則的面試經典題，作者僅用三句需求就得到 ChatGPT 的介面設計：單一方法輸入原價輸出計算結果，包含最終金額、折扣明細與提示；隨後再請其示範以 interface 擴充與替換兩組折扣規則，AI 也能正確呈現應用面。再進一步將粒度從單品擴至購物車、加入優惠券等條件，ChatGPT 仍能逐輪修正介面、清楚說明差異。雖然細節不若人工「精巧」，但其結構與方向相當到位，足以作為設計與 POC 的快速助力。

作者據此提出人機互補的工作分工：將機械式、重覆性與純技能層（Skill）的工作交給 AI；人專注在控制能力、跨系統協作、取捨決策與經驗沉澱。想要真正駕馭 AI，需要兩件事：一是能問對問題、讀懂答案並持續追問修正；二是具備抽象化與規格化能力，把真實商業需求映射為正確介面與 API，讓生態協作以規格為中心。未來 5 年，AI 仍會以「工具/助理」存在，但會極大幅地接管 HOW/Skill 層面；人的優勢會更集中在 WHY（需求本質、規格定義）與系統性決策。實務上，可用「規格→AI產碼」「規格→AI產測」互相驗證，將人力從低層技術細節解放到抽象與協作。

作者最後回到團隊培訓與個人成長：即使 AI 讓產碼更容易，抽象化能力仍須靠刻意練習來鞏固；否則即使拿到「傳說武器」也無法駕馭。抽象化以上是設計與協作，抽象化以下是大量實作，AI 正在重塑後者的工作形態。掌握資料與 API 的可用性、以 API First 與良好資料管線面向 AI 化，是團隊在 AI 時代放大影響力的關鍵。AI 不會直接取代人，而是會放大能駕馭 AI 之人的價值；學習、練習與反思依舊是升級之道。

## 段落重點
### 前言：AI、介面設計與抽象化的再發現
作者回顧 2016 年對 Microsoft 開放轉型的觀察，連結到當前 AI 的廣泛應用，提出一個在面試中通殺率不到一成的「折扣規則抽象化」設計題來測試 ChatGPT。僅以三句需求就得到合理的 C# 介面：單一方法接受價格輸入、輸出 CalculationResult（含最終金額、折扣清單、提示）。再要求示範可抽換兩組規則的範例程式，AI 能給出正確的使用方式與擴充點。進一步加入購物車、優惠券等條件，AI 能逐輪調整參數與結構並說明差異。作者驚豔於 AI 在抽象層的命中率，但也指出風格細節（如輸出語義）仍需人調整，顯示 AI 強在快速構型與驗證，人則強在判讀、取捨與精緻化。由此引出本文主題：刻意練習與抽象化能力，才是人類在 AI 時代持續放大價值的關鍵。

### 主題: 如何鍛鍊抽象化思考能力
本系列第三篇聚焦「刻意練習」中的抽象化能力鍛鍊。作者區分兩種能力維度：工具/語言/框架屬於「加速」向度；而解題與架構屬於「解法」向度，決定工程師在資深階段的上限。抽象化是將真實需求萃取為概念模型與穩定界面，使系統可擴展、可協作、可測試。AI 能高速提供程式與 POC，但將業務情境準確映射為良好介面與 API，仍仰賴人對需求本質、系統邊界與協作模式的判斷。本文先闡述觀念與方法論；實作細節與練習（如生命遊戲）將在後續篇章展開。讀者可依自身與團隊情境，善用 AI 作為訓練加速器，同時保留人對抽象與規格的主導權。

### 1. 為什麼抽象化很重要?
抽象化的重要性在於：在需求多變與系統互聯的環境中，只有穩定的抽象（interface/API）能讓變動隔離於可控邊界之外。折扣規則案例顯示：好的介面應精準定義輸入/輸出與語義（最終金額、折扣清單、提示），讓未知規則得以插拔擴充、主流程可穩定推進。AI 時代更放大此價值：當下游是人、上游是 AI，抑或跨組織合作，皆需以 API/規格為中心作協作契約。若缺乏抽象化能力，工程師易被工具與細節牽制，難以判讀 AI 回答的優劣，也難以引導其朝正確架構迭代。抽象化同時是思考與溝通語言：可將商業語意轉譯為技術介面，讓測試、實作、監控圍繞同一份規格自動化展開，持續降低溝通成本與變更風險。

### 2. 我想的作法真的都能寫成 code 嗎?
透過與 ChatGPT 的互動，作者驗證「抽象是否可執行」。關鍵在於：用最小、語義明確的 interface 封裝不變核心，讓可變規則以實作類別注入。AI 在此扮演快速展開與比較的角色：你提供需求語句，AI 產出介面與樣例；你再以約束條件逐輪修正（如將單品改為購物車、加入優惠券），AI 能自動調整參數、返回型別並標註差異。這呈現「規格→產碼→驗證」的閉環。而人的價值在於察覺語義瑕疵（例如把輸出當成輸入參數的設計），並提出更合適的界面選擇（如 out 或 tuple）。結論是：設計的「可程式化」高度依賴好的抽象；AI 能把想法落到 code，但抽象邊界與語義精緻化仍需要人來校準。

### 3. 我們團隊過去做過哪些練習?
團隊以刻意練習強化抽象化與設計判斷：挑選可控但有複雜度的題目（例如折扣規則、生命遊戲、規則引擎），先用自然語言寫清需求與邊界，再設計最小可用介面、資料模型與測試用例。練習過程強調對比法：同題多解，評估可讀性、擴充性、測試性與語義一致性；刻意保留「變更情境」來壓力測試抽象的穩定性（加入新規則、跨系統協作、引入優惠券等）。AI 在新環境下成為「加速器」：快速產出範例、替代方案與測試骨架，讓團隊把時間投入在比較、取捨與規格調整；並鼓勵以 API First 方式進行跨人/跨系統合作，讓練習成果能移植到真實專案。

### 4. 現在就開始寫 code 吧!
實作時採「規格驅動」策略：先定義介面與資料結構，再讓 AI 生成基礎實作與測試，形成能自我驗證的開發回路。具體步驟包括：1) 將需求拆為不可變核心與可變規則；2) 以 interface/API 固化不可變核心的輸入輸出與語義；3) 藉由依賴反轉與組態實現規則插拔；4) 建立即時回饋的測試集，含成功、邊界與異常案例；5) 以一兩個真實業務情境進行整合演練。遇到 AI 產物的風格或語義問題（如將輸出以參數傳入），立即在規格層修正，並要求 AI 重新生成。這種做法把 AI 當作高速產生器與對照組，而人則掌控規格、語義與整體一致性，確保架構在變更壓力下仍可持續演進。

### 5. 練習的收穫
收穫主要在三層：一是心智模型清晰化，能將需求迅速映射到介面與資料模型，面對變更也能以穩定抽象吸收衝擊；二是與 AI 的互動能力提升，能問對問題、看懂答案並引導迭代，讓 AI 成為高效 POC 與實作夥伴；三是協作半徑擴大，因為以 API/規格為中心的思維能穿透團隊邊界，強化跨系統聯動。從職涯角度，Skill 層工作將被 AI 大幅接管，能持續提供價值的是 WHY/規格與系統性決策。從工程角度，資料與 API 的可用性是邁向自動化與 AI 化的地基。總結而言，刻意練習讓人保有判斷力與設計掌控力，而 AI 放大執行力與驗證速度，兩者相乘使個人與團隊的產出質量同步上揚。

### 6. 小結
AI 的強大不在於取代人，而在於放大懂得駕馭它的人。要做到「遇強則強」，關鍵是先把抽象化與規格化練起來：以 API First 為協作中樞、以規格驅動程式與測試生成、以反覆提問修正來逼近正確解。當 AI 能快速拼裝與驗證，人的角色更應聚焦在定義問題、釐清語義、做出取捨與推動協作。面向未來五年，Skill 類任務高速自動化已成定局；唯有持續刻意練習、保持對 WHY 的掌握，並用規格把 AI 轉化為可控的生產力，才能在 AI 時代持續升級，不被淘汰，還能領先。下一篇將以「生命遊戲」實作延伸，示範如何把上述方法落到代碼與測試，讓抽象化能力從概念走向肌肉記憶。

## 資訊整理

### 知識架構圖
1. 前置知識：學習本主題前需要掌握什麼？
- 基本程式設計能力（以 C#/.NET 為例：interface、class、集合）
- 物件導向與抽象化概念（封裝、介面分離、可擴充性）
- 軟體設計基礎（API First、規格定義、POC、單元測試）
- AI 工具基本使用（ChatGPT/Copilot，Prompt 的基本結構與迭代）
- 零售/折扣的基本業務概念（購物車、折扣規則、優惠券）

2. 核心概念：本文的 3-5 個核心概念及其關係
- 抽象化能力：把真實需求映射為穩定的介面與資料結構，是設計與協作的核心。
- 規格（Spec）與 API First：在 AI 時代，人的價值轉向定義規格；由規格驅動程式碼與測試。
- AI 為助理（Skill 外包）：AI 快速產出可用解法與範例，人的任務是問對問題、判讀與調整。
- 可擴充架構設計：以介面/策略模式設計可插拔的折扣規則，支援未知擴充與跨系統協作。
- 刻意練習：以題目驅動（如折扣引擎、生命遊戲）鍛鍊抽象化與規格化思維，形成可遷移能力。
關係：刻意練習強化抽象化能力；抽象化落地為規格/API；AI 輔助從規格產生程式與測試；可擴充設計支撐跨系統應用。

3. 技術依賴：相關技術之間的依賴關係
- 抽象化思維 → 介面設計（C# interface）→ 可擴充模組（策略/規則）→ API 規格 → 系統整合
- 規格（需求→Spec）→ 產生程式碼/測試（借助 AI）→ POC 驗證 → 重構與優化
- 資料模型（Cart/Product/Discount/Coupon）→ 計算引擎（Calculator）→ 結果模型（Result/Applied Discounts/Hints）
- 單元測試/自動化測試 → 驗證設計正確性 → 促進重構與安全擴充
- AI 工具（ChatGPT/Copilot）→ Prompt 工程 → 生成/修正/對比方案 → 人工判讀與決策

4. 應用場景：適用於哪些實際場景？
- 零售折扣引擎：購物車、折扣清單、優惠券、提示（尚未滿足條件）
- API First 的跨系統整合：對外開出穩定介面，協作與版本演進
- 架構與代碼審查：以規格與測試為中心的驗證流程
- 團隊訓練與招募：以題目（折扣、生命遊戲）進行刻意練習與面試評估
- AI 輔助開發：快速 POC、產生樣板、比較設計方案、補全測試案例

### 學習路徑建議
1. 入門者路徑：零基礎如何開始？
- 先打好程式基礎：C# 語法、OOP、集合與泛型
- 學會 interface 與策略模式，練習把需求拆成介面與資料結構
- 跟著範例做：實作最小折扣計算器（1-2 個規則），回傳結果與折扣明細
- 導入單元測試（xUnit/NUnit），針對每個規則寫測試
- 初步使用 AI：請 AI 產生介面/類別與測試，再自己檢視與修正

2. 進階者路徑：已有基礎如何深化？
- 將折扣引擎擴展為購物車、多規則疊代與相依條件（如滿額折、會員等級）
- 設計提示機制（尚未滿足條件的建議與差距）
- 以 API First 方式定義對外規格（OpenAPI/Swagger）
- 練習用 Spec 驅動：從文字規格讓 AI 產出程式與測試，用測試驗證
- 進行重構：抽出共用邏輯、強化結果模型、避免 in/out 參數混淆

3. 實戰路徑：如何應用到實際專案？
- 以產品/商業規則清單建立規格，定義資料模型與介面邊界
- 建立可插拔規則庫與版本策略，加入觀察/記錄（log/trace）以便分析
- 將規則與計算引擎透過 API 對外提供；以測試與契約測試保障整合品質
- 導入 AI 到研發流程：Prompt 模板、Code review 助理、測試案例生成
- 建立團隊刻意練習計畫：每季題目（折扣、生命遊戲、規則引擎），產出設計回顧

### 關鍵要點清單
- 抽象化能力：將需求轉換為穩定介面與資料模型，是架構的核心（優先級: 高）
- 規格導向開發（Spec-First）：以文字規格驅動程式與測試，縮短溝通成本（優先級: 高）
- API First：對外以 API/契約協作，放大系統間的可組合性與穩定性（優先級: 高）
- 可擴充折扣設計：以介面/策略模式支援未知規則插拔（優先級: 高）
- 結果模型設計：回傳最終價、折扣清單與提示，支援收據與引導（優先級: 高）
- Prompt 工程：問對問題、逐步迭代，讓 AI 產出可用解法（優先級: 高）
- POC 驗證：用最小實作與測試快速驗證設計可行性（優先級: 中）
- 測試驅動與自動化：用測試守護設計，支撐重構與演進（優先級: 高）
- 介面語意一致性：避免以輸入當輸出（用 out/回傳物件/Tuple 明確化）（優先級: 中）
- 業務語彙建模：把真實概念（Cart/Product/Coupon/Rule）映射為型別（優先級: 中）
- Cross-system 協調：以 API/契約與版本策略處理跨團隊整合（優先級: 中）
- AI 作為技能外包：讓 AI處理樣板/樣式，人專注在判斷與決策（優先級: 高）
- 刻意練習機制：固定題目、回顧與重構，形成可遷移能力（優先級: 高）
- 設計溝通文件：對比版本差異、寫明設計取捨與限制（優先級: 中）
- 日誌與可觀測性：在引擎中記錄規則命中與提示以利運營（優先級: 中）