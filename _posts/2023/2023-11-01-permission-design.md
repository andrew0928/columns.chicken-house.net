---
layout: post
title: "架構面試題 #6: 權限管理機制的設計"
categories:
- "系列文章: 架構師的修練"
tags: ["系列文章", "架構師的修練", "架構師觀點", "刻意練習", "抽象化"]
published: false
comments_disqus: false
comments_facebook: false
comments_gitalk: false
redirect_from:
logo: 
---

這陣子碰到很多經典的題目，我都覺得可以變成架構面試題 / 練習題的素材..., 上次聊完 Re-Order Messages, 這次來聊聊另一個經典的題目: 權限管理機制的設計。

只要你做過需要管理後台的系統，大概都會碰到基本的後台帳號管理，然後就會出現某些人只能用某些功能這類衍生需求。不過，這些通常不是 "主要" 的商業需求啊，商業需求都是功能本身，權限系統就像資安一樣，每個人都說很重要，但是要花錢就會覺得不值得，然後直到碰上某些事件炸出來...

因為有這些背景，通常權限管理機制，都不會是第一時間就拿來被討論的設計需求，也不會是第一次就實做到位的機制；通常都是發展到某些規模後，才會被回過頭來重視的題目。我還是抱持著一致的理念，你應該要先了解權限管理機制做到極致後應該是什麼樣子，然後回到最初，你才能清楚掌握一開始 "只要" 做哪些部份就好。正所謂 "think big, start small", 講很簡單，你要 think big 就是要有足夠的基本功夫才有辦法..

<!--more-->

## 基礎知識

權限管理，這個領域的 know-how 其實還真不少。我等等會把關鍵字先列一列。不過，我寫這篇的目的，不是要你學會這麼多技術名詞... (你不可能全部都精通的)。你該會的，是了解這些做法背後的精神，如果你能發揮抽象化思考的能力，把共通的部分淬鍊出來，同時還能找到理想的 "發展路徑"，那你就成功了。因為你開始有能力看到全貌，知道怎麼逐步發展，可以一路順利地走向最終的規模，而且過程中都沒有浪費 (走冤枉路)，這才是資深人員腦袋裡的經驗的最大價值。

好，我開始列關鍵字了，如果你有耐心把這篇看完，我期待你應該能理解這些關鍵字背後的關聯...

1. 管理方式: RBAC, ABAC, PBAC, ACL, SCOPE...
1. .NET / C#: IIdentity, IPrincipal, ClaimPrincipal
1. 角色, 群組, 選單, 功能, API
1. 合約授權, 功能開關, 功能授權
1. Session Tracking
1. Audit
