# Photo Gallery 啟用 !!

# 問題／解決方案 (Problem/Solution)

## Problem: Gallery 一次只能單張上傳，照片量大時流程耗時又繁雜  

**Problem**:  
當要整理並公開大量相片時，原始的 Gallery 系統僅支援「單張上傳」。對應到數百、甚至上千張的照片時，得重複「選檔 → 上傳 → 等待」的步驟，浪費大量時間，也容易在過程中因手動操作失誤而遺漏或重複上傳檔案。  

**Root Cause**:  
1. 原生 Gallery 功能設計聚焦在「少量、多次」的情境，缺少「批次處理」機制。  
2. 沒有提供可整合作業系統檔案操作、一次選取多張並自動上傳的 API 或工具。  
3. 手動流程無法壓縮網路等待時間（多次 HTTP 連線），造成整體上傳效率低落。  

**Solution**:  
自行實作「批次上傳工具」，核心解法包含：  
1. 以程式碼（Shell Script / Python / C# 均可）呼叫 Gallery 的後端上傳 API，或直接操作伺服器端檔案系統，將多張圖片一次上傳／搬移至指定目錄。  
2. 將多張圖片壓縮成 ZIP 後一次上傳，由伺服器端解壓後自動建立相簿條目，減少網路往返。  
3. 加入上傳完成後自動縮圖、產生縮覽圖 (thumbnail) 的流程，確保 UI 即時可用。  

解決關鍵：  
• 透過程式式批次處理，讓「檔案選取＋網路傳輸」兩段瓶頸一次完成。  
• 自動化縮圖與相簿建檔，移除人工重複步驟。  

Sample Workflow（概念示意）：  
```bash
# 假設使用 shell + curl
zip photos.zip *.jpg                  # Step 1: 本地端先壓縮
curl -F "zipfile=@photos.zip" \
     -F "album=2023_trip" \
     https://mygallery/upload_zip      # Step 2: 一次上傳
# 伺服器端：
# 1. unzip photos.zip 至 album 資料夾
# 2. 呼叫 create_thumbnail *.jpg
# 3. 將檔案 meta 寫入資料庫
```

**Cases 1**:  
• 背景：一次需上傳 500 張旅遊照片。  
• 採用解決方案後：  
  - 單次 ZIP 壓縮＋上傳時間約 3 分鐘（視上傳頻寬而定）。  
  - 相簿自動生成，縮圖於伺服器端完成，整體人工作業時間由原本預估的 1.5 小時降至 5 分鐘內。  
• 成效指標：  
  - 上傳作業時間 -95%  
  - 人為操作錯誤率趨近 0（無重複／遺漏檔案）