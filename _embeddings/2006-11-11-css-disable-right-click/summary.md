# CSS 擋右鍵

## 摘要提示
- 右鍵防護觀點: 作者不認同以「擋右鍵」當內容保護機制，使用者體驗不佳。
- 企業需求: 企業內部 Web 系統被要求全面封鎖滑鼠右鍵功能。
- 懶人作法: 以一次性方法取代「每一頁都貼 JavaScript」的繁瑣流程。
- DHTML Behaviors: 利用 IE5 之後才有的 `.htc` 行為檔，將程式邏輯與標籤綁定。
- CSS 綁定: 只需在 CSS 中加入 `behavior:url('context-menu-blocker.htc')` 即可全站套用。
- oncontextmenu 事件: `.htc` 檔攔截並取消 oncontextmenu 以達到右鍵失效。
- 無外掛下載: 對使用者而言，開啟頁面不會跳出額外安裝提示。
- 技術局限: `.htc` 僅支援 IE；IE5.5 有所改進，之後幾乎無新進展。
- 未來疑問: 作者好奇 IE7 是否會對 `.htc` 有新支援或修正。
- 可延伸性: 除了擋右鍵， `.htc` 還能做更多客製化元素行為。

## 全文重點
作者對「擋右鍵」的做法頗有微詞，認為把所有使用者都視為小偷並非友善體驗，但工作上卻不得不滿足企業內部「檔右鍵」的需求。傳統作法是在每一頁把 JavaScript 加進 `<script>`，不但麻煩、維護性也差。作者因此利用 IE 自家提供的 DHTML Behaviors 技術，把攔截右鍵的邏輯寫進 `.htc` 檔，再透過 CSS 的 `behavior:url(...)` 屬性一次套用到 `body`，於是整站只要引用同一張 CSS，右鍵就自然被關閉，完全不必動每一頁的程式碼。

核心程式只有兩步：
1. `context-menu-blocker.htc`：監聽 `oncontextmenu`，`return false` 取消事件。
2. CSS：`body { behavior:url('context-menu-blocker.htc'); }`。

整個運作過程對使用者透明，開頁面時不需下載 ActiveX 或外掛；對開發者而言，程式與樣式分離，日後若要取消防護只要移除那行 CSS 即可。作者同時指出 `.htc` 技術雖然精巧，但只限 IE 獨家支援，IE5.5 有些優化後就幾乎停滯，業界採用度並不高。最後作者表示有空會研究 IE7 是否對 `.htc` 有更進一步的改進，並提醒此技術還可延伸到各種自訂行為，而不僅僅是禁用右鍵。

## 段落重點
### 1. 前言：擋右鍵的反感與無奈
作者開場即抱怨網頁強制禁用右鍵的做法，認為這種把所有點擊右鍵的人都當成偷內容的小偷，極度影響使用者心情。然而在內部專案中仍被要求「全面禁右鍵」，因此只能尋求技術上更優雅且省力的解法。

### 2. 業務需求與傳統痛點
面對「每一頁都要加防護程式」的需求，傳統方法通常是在每頁插入 JavaScript。這不但重複且易出錯，開發者很難確認每個角落是否都已套用，遇到版面改動或專案增頁面時還得重貼一次，維護成本極高。

### 3. 解決方案：CSS + `.htc` 一次到位
作者借力 IE 專屬的 DHTML Behaviors，把阻擋右鍵的 JavaScript 置入 `context-menu-blocker.htc`。只要在 CSS 加上一行 `body { behavior:url('context-menu-blocker.htc'); }`，整個網站瞬間具備右鍵屏蔽功能。此方式讓「程式邏輯」與「樣式檔」一樣可集中管理，符合重用與維護需求，也讓開發者不用再逐頁修改。

### 4. 技術解析：DHTML Behaviors 與 IE 支援現況
DHTML Behaviors 於 IE5 引進，IE5.5 做過改進，可將指定元素「行為」寫成 `.htc`，並透過 CSS 綁到 DOM 標籤。它的優勢在於把「程式」抽象為「樣式」級別，可批次布署；缺點則是僅 IE 內建支援，其他瀏覽器必須另尋替代方案。作者指出這項技術在業界未被廣泛使用，且隨著標準與瀏覽器演進，相關改進也停滯多年。

### 5. 延伸應用與未來研究
除右鍵屏蔽外，`.htc` 還能實作更多客製化行為，如自動表單驗證、自訂拖放等。作者個人計畫日後測試 IE7 看有無新支援或限制，也提醒讀者技術愈是「專屬平台」，愈要留意長期維護與跨瀏覽器兼容性。