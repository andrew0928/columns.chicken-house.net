# Community Server 2007 Beta 1 Available Now

## 問題與答案 (FAQ)

### Q&A 類別 A: 概念理解類

A-Q1: 什麼是 Community Server 2007 Beta 1？
- A簡: 基於 .NET 的社群平台預覽版，含新主題引擎、共享會員、單檔匯出與 demo.exe 快速試用。
- A詳: Community Server 2007 Beta 1 是一套基於 .NET 的社群平台預覽版，常見功能涵蓋部落格與論壇。此版主打更換主題引擎，可直接在瀏覽器調整 UI，並宣稱效能提升；新增共享會員資料庫（share membership store），支援多站點共用帳號；提供將文章匯出為單一檔案（包含圖片）的能力，以及以 demo.exe 免安裝快速試用（類似內建開發伺服器 Cassini）。適合技術評估與功能體驗，但不建議直接上線生產。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q3, A-Q6, A-Q11, A-Q12

A-Q2: Beta 1 在軟體發佈中的意義是什麼？
- A簡: 功能大致成形的早期測試版，用於回饋修正，不建議用於生產與關鍵資料。
- A詳: Beta 1 表示主要功能已初步整合，進入更大規模的用戶測試階段，用以收集錯誤回報與使用者體驗意見。此階段仍可能存在相容性問題、功能缺漏與效能瑕疵，介面與 API 亦可能變動。其價值在於協助團隊檢核方向與穩定性；對使用者則適合試用評估與 PoC，不宜用於生產環境或關鍵資料，需做好備份與隔離。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q23, A-Q24, B-Q17

A-Q3: Community Server 的主題引擎（theme engine）是什麼？
- A簡: 控制外觀樣式與佈局的機制，支援瀏覽器中即時調整、套用與預覽。
- A詳: 主題引擎是管理站點視覺風格、樣式與版面配置的機制，涵蓋樣板、樣式表、資源與配置。新引擎強調可在瀏覽器直接調整 UI，降低前端開發門檻，並更快預覽與套用變更。其目的包括提升主題開發效率、降低布署成本與改善一致性。文章指出新版在此處做了較大改進，並宣稱效能有所提升，適合快速調整品牌外觀與佈局。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: B-Q1, B-Q2, A-Q5

A-Q4: 為什麼要更換主題引擎？
- A簡: 提升設計效率與效能，允許瀏覽器即時編輯，降低維護與布署成本。
- A詳: 新主題引擎的動機在於改善設計與維運體驗：一是讓管理者能直接在瀏覽器內編輯外觀，省去本機開發與布署的反覆流程；二是以更快的渲染與快取策略提升效能；三是提供更一致的套版與覆寫規則，降低跨模組樣式不一致。對多品牌或多站運營者，這能顯著減少調整成本與風險，並縮短設計—發布的迭代時間。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: B-Q1, B-Q18, A-Q20

A-Q5: 在瀏覽器上調整 UI 有何價值？
- A簡: 所見即所得預覽、即時套用、減少布署來回，縮短設計與驗收周期。
- A詳: 瀏覽器端 UI 調整帶來的核心價值包括：1) 即時預覽與回饋，降低設計與實際呈現之落差；2) 不需頻繁上傳與重啟，減少布署風險；3) 更友善的權限與審核流程，可先儲存草稿、預覽後再發布；4) 降低工具與環境依賴，讓非工程人員也能參與調整。這對品牌一致性維護與活動快速上線尤為重要。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: B-Q2, C-Q5, A-Q3

A-Q6: 何謂「share membership store」？
- A簡: 多個友站共用同一會員資料庫，讓使用者跨站同帳密登入與管理。
- A詳: Share membership store 指多個站點使用同一組會員資料表來管理帳戶資訊，達到跨站共享帳號密碼與基本屬性的目的。文章提及官方宣稱可多站共享會員，推測以 ASP.NET Membership Provider 或 Web Service 方式實作。此作法可降低註冊與管理成本，提升跨站體驗，但需妥善處理安全、Cookie 域別、應用名稱與密鑰一致性。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q7, B-Q4, C-Q2

A-Q7: 為何要讓多站點共用會員資料庫？
- A簡: 降低重複註冊與維護成本，支援跨站體驗與一致的身分管理。
- A詳: 多站共用會員可消除使用者在各站重複註冊的痛點，減少資料分散與同步負擔，並形成更順暢的跨站體驗（單一憑證、多處可用）。對營運方，能集中密碼策略、封鎖清單與稽核；對使用者，登入與找回密碼流程更一致。這對聯盟網站、企業多品牌或分區站群具高價值，但需兼顧安全域別、Cookie 設定、雜湊與金鑰一致性。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: B-Q5, B-Q22, D-Q2

A-Q8: 共用會員與各自獨立會員的差異？
- A簡: 共用集中管理、跨站通用；獨立隔離風險低但體驗與維護成本高。
- A詳: 共用會員的優勢是集中治理（策略、審計、封鎖）、降低重複資料與同步成本、提升跨站體驗；但風險在單點故障、擴散性影響與安全域控需更嚴格。獨立會員隔離性高、變更影響小，適合需求差異大且風險敏感的場景，但會增加註冊、維運與整合成本。選擇取決於站群關係、法務合規與使用者旅程設計。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: A-Q6, B-Q15, D-Q2

A-Q9: 什麼是 ASP.NET Membership Provider？
- A簡: ASP.NET 對會員管理的可插拔抽象層，支援自訂與多資料來源。
- A詳: ASP.NET Membership Provider 是微軟提供的身分管理抽象層，定義使用者建立、驗證、重設密碼等操作的介面與配置，內建 SQL Provider，也可自訂或包裝為 Web Service。透過 Provider 模式，應用程式可不改業務碼就替換會員儲存與規則，利於共用資料庫與跨站整合，是文中「share membership store」可能實作基礎。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q4, B-Q7, C-Q2

A-Q10: Membership Provider 如何支援共用會員？
- A簡: 設定相同資料庫與 applicationName，再配合 Cookie 與機碼一致。
- A詳: 要讓多站共用會員，通常用相同的 Membership Provider 指向同一資料庫，並統一 applicationName，確保同一應用範圍共用帳密與角色。若需跨站單一登入，還要同一 machineKey 與 FormsAuthentication Cookie 的 domain 設定。若採 Web Service 包裝，則由服務端統一會員操作，客端僅呼叫介面，降低耦合。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q2, C-Q3, B-Q22

A-Q11: 什麼是 MHT 單一檔案匯出？有何用途？
- A簡: 把網頁與資源封裝成單檔的 MIME HTML，便於歸檔與離線閱讀。
- A詳: MHT（MHTML/MIME HTML）會把網頁 HTML 與相關圖片、樣式等資源打包在一個檔案中，便於離線閱讀、分享與留存。文章提到可將文章匯出為單檔（含圖片），推測即 MHT。用途包含法規存證、內容備份、與不熟 CMS 者共享。相較 PDF，MHT 保留 HTML 結構與連結互動；相較 ZIP，單檔更易管理，但相容性依瀏覽器而異。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: B-Q9, B-Q16, D-Q3

A-Q12: demo.exe 是什麼？有何用途？
- A簡: 免安裝的一鍵試用執行檔，內含簡易伺服器，快速體驗功能。
- A詳: demo.exe 是供試用的新方式，使用者無須完整安裝，即可啟動嵌入式的簡易 Web 伺服器（文章推測類似 Cassini），在本機快速體驗功能。這降低了評估門檻，便於臨時展示與 PoC。它適合功能瀏覽與初步效能感受，但不等同生產部署；如需真實負載評估，仍應使用完整安裝搭配正式 IIS 與資料庫。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q13, C-Q1, D-Q1

A-Q13: 什麼是 Cassini（或內建開發伺服器）？
- A簡: 微軟提供的輕量開發 Web 伺服器，用於本機測試 ASP.NET 網站。
- A詳: Cassini 是早期 ASP.NET 輕量級開發伺服器的代稱，後續 Visual Studio 亦提供 WebDev.WebServer 等工具，方便在本機啟動網站做開發與測試。它不需 IIS，啟動快速、配置簡單，適合 Demo 與開發情境。文章推測 demo.exe 內含類似機制。需注意其功能與效能不等於 IIS，安全與高併發場景仍以正式伺服器為宜。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: B-Q10, C-Q7, D-Q1

A-Q14: demo.exe 與完整安裝版有哪些差異？
- A簡: demo.exe 重體驗、輕部署；完整安裝重穩定、安全、可擴充與正式維運。
- A詳: demo.exe 強調免安裝、快速啟動，適合功能瀏覽與概念驗證；但在安全性、效能調校、延伸性（如負載平衡、正規備援、監控）上有限。完整安裝則包含 IIS 設定、資料庫最佳化、快取策略與完整日誌等，符合長期維運需求。選用時應以目標為準：試用選 demo.exe，評估或上線使用正式安裝。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: B-Q11, B-Q17, D-Q6

A-Q15: 新版提到的效能提升代表什麼？
- A簡: 渲染與快取優化、主題引擎改良與資源處理更有效率的總體改善。
- A詳: 文章指出新版看來效能有所提升，雖未列具體指標，但常見途徑包含：模板渲染優化、頁面輸出快取、資料查詢與索引調整、靜態資源合併與壓縮、減少往返與 ViewState、以及主題載入策略改善。效能提升目標是更快首屏與更高吞吐，需透過壓測驗證實際收益，並注意與功能切換、快取失效策略的取捨。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q3, C-Q6, D-Q5

A-Q16: Community Server 的常見應用情境有哪些？
- A簡: 建置部落格與論壇站群、企業社群平台、品牌與社群互動入口。
- A詳: 典型情境包含企業或品牌的社群門戶、產品支援論壇、技術部落格群與多站群運營。新主題引擎有助快速布置品牌外觀；共享會員可讓站群提供一致登入體驗；單檔匯出便於法規歸檔或對外分享；demo.exe 降低評估門檻。這些特性綜合作用，能加速從概念到上線的驗證與試點。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q6, A-Q11, C-Q1

A-Q17: Theme、Skin、Template 有何差異？
- A簡: Theme 為整體外觀；Skin 為控制項樣式；Template 為頁面結構。
- A詳: 在常見術語中，Theme 指站點整體外觀的集合（色彩、字體、資源與配置）；Skin 傾向指單一控制項或模組的樣式與外觀定義；Template 則描述頁面或區塊的結構與占位。不同平台用詞略異，但核心是分層管理外觀。新版主題引擎重點在更易於於瀏覽器編修與套用，並透過覆寫規則維持一致性。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: B-Q14, C-Q5, D-Q10

A-Q18: 以 Web Service 實作 membership 的概念是什麼？
- A簡: 以服務封裝帳戶操作，統一驗證與管理，降低站點與資料庫耦合。
- A詳: 將 Membership Provider 以 Web Service 包裝，讓各站點透過 API 呼叫集中式會員服務，統一註冊、登入、重設密碼等操作。它可隔離資料庫細節、統一策略與審計，並利於橫向擴充。但需考量延遲、可靠性、金鑰與 Token 管理，以及故障切換。文章推測共享會員或採此類方式，實務上常見於站群或企業 SSO。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q6, B-Q22, C-Q2

A-Q19: 為何要把文章匯出成單一檔？
- A簡: 便於備份歸檔、離線閱讀、法規存證與跨系統分享流通。
- A詳: 單一檔匯出能將頁面與資源完整封存，適合法規留存、外審與離線審閱。對內容遷移或跨部門協作，也可避免相依資源遺漏。MHT 的優點在保留原始 HTML 結構與連結；缺點是瀏覽器支援度不一。若受眾廣泛，亦可另外產製 PDF 或 HTML+ZIP 版本以兼容更多場景。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q11, B-Q23, D-Q8

A-Q20: 瀏覽器端編輯主題與離線編輯的比較？
- A簡: 瀏覽器快與所見即所得；離線彈性高、適合版本控與團隊流程。
- A詳: 瀏覽器編輯優勢在快速預覽、即時發布、低工具門檻；適合小改與非工程角色。離線編輯則可結合 IDE、版本控制與自動化測試，利於大型改版與團隊協作。實務上可混合：小變動在瀏覽器操作，大改版先離線開發再匯入套用，並建立回滾與草稿審核流程，兼顧效率與品質。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: C-Q5, B-Q13, D-Q10

A-Q21: 共用會員資料的安全考量有哪些？
- A簡: 機碼一致、加密雜湊策略、權限最小化與跨站 Cookie 管控。
- A詳: 安全關鍵含：1) 多站一致的 machineKey 與雜湊/加密演算法；2) 密碼政策統一（長度、複雜度、重試鎖定）；3) Cookie domain、Secure/HttpOnly/SameSite 設定；4) 權限最小化的連線字串與資料庫帳號；5) 穩健的稽核與異常告警；6) 跨站請求防護。任何一點不一致都會造成登入失敗或風險擴散。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q22, C-Q3, D-Q2

A-Q22: 何時應升級至新主題引擎？
- A簡: 需快速調整品牌、簡化維運或受效能瓶頸時，並經測試驗證後。
- A詳: 若現行主題難以維護、改版頻繁、跨模組樣式不一致或遇到渲染瓶頸，新引擎可降低成本並提速。升級前應建立測試環境，驗證相容性、套版覆寫與快取策略；規劃回滾方案與人員訓練，再分階段導入。對僅小幅度調整者可先局部嘗試，以降低風險。
- 難度: 初級
- 學習階段: 進階
- 關聯概念: B-Q19, C-Q5, D-Q4

A-Q23: 試用 Beta 版應注意哪些風險？
- A簡: 功能不穩、相容性待定、資料遺失風險，應隔離環境與備份。
- A詳: Beta 軟體尚未定案，可能含重大缺陷或行為變更。試用時應使用隔離環境、匿名或測試帳號，且避免使用真實機敏資料；進行任何匯入匯出前先備份；遇到異常留存日誌並回報。若需與現有系統互動，建議以只讀或沙箱方式，避免影響生產運行。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q2, C-Q1, D-Q5

A-Q24: 評估新版功能的有效方法是什麼？
- A簡: 設定明確場景與指標，建立基準測試，逐項驗證與回饋。
- A詳: 先界定評估目標（如主題改版效率、登入一致性、匯出品質、首頁首屏時間），建立對照基準，再以 demo.exe 或測試環境逐一驗證。收集定量資料（壓測、載入時間、錯誤率）與定性回饋（易用性、流程順暢度），整理成議題清單回報。最後評估導入成本、風險與收益，做出升級決策。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: C-Q6, D-Q5, A-Q15

A-Q25: 到哪裡下載與了解 Beta 1 資訊？
- A簡: 官方論壇提供下載與公告，亦可參考原作者與社群部落格文章。
- A詳: 文章指出可到官方論壇下載 Beta 1，亦可參考相關部落格（如原文提及的 Scott 的貼文）取得更新說明與討論。建議優先閱讀發佈公告、已知問題清單與安裝說明，再進行試用，並在論壇回報重現步驟與環境資訊，促進版本品質提升。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: C-Q1, A-Q23, A-Q24

### Q&A 類別 B: 技術原理類

B-Q1: 新主題引擎如何運作？
- A簡: 以模板與樣式覆寫組合，支援瀏覽器編修、預覽與快取優化。
- A詳: 新主題引擎典型由模板（佈局）、部分模板（區塊）、樣式（CSS）、資源（圖檔）與設定組成。核心原理是以層級化覆寫與資源解析順序控制最終輸出；瀏覽器端編修保存為版本化設定，允許預覽與回滾。渲染時套用快取策略（如輸出快取、片段快取）與資源合併壓縮，減少請求與重繪，提升效能。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q3, B-Q14, C-Q5

B-Q2: 瀏覽器即時主題編輯的流程為何？
- A簡: 編修—預覽—比較—發布—版本化與回滾，並控管權限與審核。
- A詳: 流程通常為：1) 開啟主題編輯器於瀏覽器修改模板或樣式；2) 產生草稿版，於相同或隔離預覽環境檢視；3) 比對差異與衝突（覆寫規則）；4) 經審核後發布至生效版；5) 系統保留版本與變更記錄以供回滾。期間可套用快取失效策略，確保新樣式即時生效且不影響其他頁面。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q5, D-Q4, A-Q20

B-Q3: 效能提升背後的機制是什麼？
- A簡: 模板渲染優化、快取分層、資源合併壓縮與資料存取改善。
- A詳: 常見手段包含：1) 渲染層減少運算與控制項嵌套深度；2) 應用頁面與片段快取（VaryByParam、VaryByUser）；3) 合併與壓縮 CSS/JS，啟用壓縮與長快取頭；4) 資料層索引調整、批次查詢與連線池優化；5) 減少 ViewState、延遲載入資源；6) 導入非同步載入以加速首屏。需以壓測驗證整體收益與穩定性。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q15, C-Q6, D-Q5

B-Q4: 共用會員資料庫的技術機制是什麼？
- A簡: 多站設定同 Provider 與資料庫、統一 applicationName 與密碼雜湊。
- A詳: ASP.NET Membership 以 Provider 模式連到同一資料庫（含 aspnet_Users 等表），多站點可共享同一帳號庫。為一致行為，需統一 applicationName（共享同應用範圍）與密碼雜湊/加密設定。若要 SSO，還需 Cookie domain 與 machineKey 一致；若以 Web Service 包裝，則改由服務端集中執行帳戶操作。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q10, B-Q22, C-Q2

B-Q5: 跨站登入（SSO）流程的執行機制？
- A簡: 使用 Forms Cookie、共用機碼與網域，透過回跳與驗證完成。
- A詳: 典型流程是使用 Forms Authentication：使用者於任一站成功登入後產生加密 Cookie；多站共用 machineKey 與 Cookie domain，使其他站能驗證與接受該票證。若跨不同主域，常以中心驗證站回跳（redirect with token）完成聯邦式登入。過程需防重放、設定 SameSite、Secure 與時效，並確保登出同步。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q3, D-Q7, A-Q21

B-Q6: 以 Web Service 包裝 Membership Provider 的設計？
- A簡: 以服務統一操作與策略，授權驗證、Token 簽章與重試容錯。
- A詳: 設計重點包括：1) 清晰的 API（註冊、登入、重設、查詢）；2) 安全傳輸與簽章 Token，避免中間人攻擊；3) 金鑰管理與輪替；4) 快取與節流策略降低壓力；5) 失敗重試與降級策略；6) 完整審計日誌。客端站點僅依賴服務，不直接接觸會員資料庫，降低耦合並統一政策。
- 難度: 高級
- 學習階段: 進階
- 關聯概念: A-Q18, B-Q22, D-Q2

B-Q7: ASP.NET 預設會員資料架構有哪些表？
- A簡: 常見為 aspnet_Users、Membership、Roles、UsersInRoles 等。
- A詳: ASP.NET SQL Membership 典型包含 aspnet_Applications、aspnet_Users、aspnet_Membership、aspnet_Roles、aspnet_UsersInRoles 等表。應用以 applicationId 區分不同應用範圍；雜湊與加密策略需一致。規劃共用會員時，需評估欄位擴充（自訂屬性）、索引與維護策略，確保一致性與效能。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q2, B-Q4, A-Q10

B-Q8: FormsAuthentication 與 Cookie 網域設定原理？
- A簡: 設定 forms domain 與機碼一致，控制 Cookie 可見範圍與驗證。
- A詳: FormsAuthentication 透過加密票證 Cookie 維持登入狀態。為跨子網域共享，需在 web.config 設定 <forms domain=".example.com"> 與一致的 machineKey，使各站能解密與驗證。若不同主域，Cookie 無法跨域，可用中樞驗證回跳或跨域通道。需配置 Secure、HttpOnly、SameSite 以強化安全。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q3, D-Q7, A-Q21

B-Q9: 單一檔匯出（MHT）的封裝機制是什麼？
- A簡: 以 MIME multipart 將 HTML 與資源合併，瀏覽器重組呈現。
- A詳: MHT 以 MIME multipart/related 格式將主體 HTML 與引用資源（圖片、CSS）內嵌為多區段，透過 Content-Location 或 CID 關聯。瀏覽器或支援工具解析後重建原頁面。此機制避免外部資源遺漏，但大小較大、相容性依客戶端而異。匯出時需正確解析相對路徑與內嵌引用。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q11, B-Q16, D-Q3

B-Q10: Cassini/開發伺服器如何處理請求？
- A簡: 內建 HTTP 監聽，映射至 ASP.NET 管線執行，適合本機測試。
- A詳: Cassini 類伺服器監聽指定埠，將請求映射至 ASP.NET 管線（HttpRuntime），執行頁面生命週期，回傳響應。其目的在提供輕量開發體驗，不依賴 IIS。它不支援完整 IIS 特性（如進階 URL Rewrite、委派驗證等），因此僅適合開發與 Demo 場景，生產需改用 IIS。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q13, C-Q7, D-Q1

B-Q11: demo.exe 如何打包網站與伺服器？
- A簡: 將網站與輕量伺服器封裝成單檔，啟動時臨時載入與服務。
- A詳: demo.exe 常見作法是內含站點檔案與輕量 HTTP 伺服器元件，執行時解壓至暫存目錄、啟動監聽埠並載入站點，提供瀏覽體驗。它可能包含預設設定與範例資料。為降低風險，通常以本機回送或受限範圍提供，並在結束時清理暫存。此機制強調便利而非完備性。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q12, B-Q10, D-Q6

B-Q12: 不用 IIS 啟動網站的技術選項比較？
- A簡: 可用 Cassini/開發伺服器或封裝 demo.exe，生產仍建議 IIS。
- A詳: 不用 IIS 的選項包含 Visual Studio WebDev.WebServer（或同類開發伺服器）與封裝式 demo.exe。它們啟動快、配置簡單，方便開發與展示；但缺少完整安全、擴充與調優能力，不宜承載生產流量。若需近似生產行為，仍應在 IIS 與正式 SQL 環境評估與壓測。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: C-Q7, A-Q14, D-Q5

B-Q13: 主題引擎與權限控制如何整合？
- A簡: 以角色/權限限制編修與發布，版本化與審核確保變更安全。
- A詳: 主題編修屬高風險操作，應由角色與權限嚴格控管。典型流程是編修者可建立草稿、預覽；審核者才可發布。系統記錄變更、版本與作者，支援回滾。前台套用時搭配快取失效策略，避免未授權者看見草稿。此整合降低誤操作與越權風險。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q20, C-Q5, D-Q9

B-Q14: 主題資源載入順序與覆寫機制？
- A簡: 先載入基底再載入覆寫，後者優先，避免樣式衝突。
- A詳: 主題常以基底樣式為起點，後續載入子主題或自訂覆寫檔，靠後的規則優先生效。模板亦以類似優先序解析 Placeholder 與部分模板。良好設計須避免特異性過高與無序覆寫，並提供自訂區塊以擴充，同時維持可回滾與衝突警示。資源應合併壓縮以提升效能。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q17, C-Q8, D-Q10

B-Q15: 多站共用會員的一致性策略？
- A簡: 統一應用名稱、密碼策略、金鑰與稽核，避免資料分歧。
- A詳: 一致性依賴統一的 applicationName、雜湊/加密設定與機碼，搭配集中化密碼政策與角色權限管理。資料庫層面需良好鎖定與交易處理；應用層面可用事件或訊息通知同步擴充屬性。稽核與異常告警可提早發現分歧或同步延遲，提升穩定性。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: A-Q8, B-Q7, D-Q2

B-Q16: 匯出功能對附件與圖片的處理原理？
- A簡: 將外部資源轉為內嵌或重寫為 CID，確保離線完整性。
- A詳: 匯出時系統會解析文章內容中的資源連結，下載並內嵌至單一檔（如 MHT），或重寫為 Content-ID 引用。為避免遺漏，需處理相對路徑、權限保護資源與動態生成的圖片。若資源無法存取，會出現缺圖或損壞，需在匯出前檢查完整性與權限。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q11, D-Q3, D-Q8

B-Q17: Demo 環境與生產環境的差異？
- A簡: Demo 側重體驗，缺少生產級安全、效能與可用性配置。
- A詳: Demo 通常在本機或單機環境，簡化安全設定與資源配置；生產則需多機冗餘、監控、備援、資安掃描與嚴格權限。Demo 的快取、記錄與連線池數據也不同，不可直接推論生產效能。正式評估應搭建接近生產的測試環境做壓測與穩定性驗證。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: A-Q14, C-Q6, D-Q5

B-Q18: 版面套用時的快取失效策略？
- A簡: 發布後針對頁面與片段快取失效，避免舊樣式殘留。
- A詳: 當主題發布，系統應清理相關頁面輸出快取與片段快取，並更新資源版本參數避免瀏覽器使用舊檔（如附加 hash）。過度清理會影響效能，過少會殘留舊樣式，需精準界定影響範圍。可搭配變更日誌導引清理，並於低峰時段發布。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: D-Q4, C-Q5, B-Q3

B-Q19: 升級時舊主題與新引擎兼容策略？
- A簡: 提供相容層與遷移工具，允許分階段轉換與回滾。
- A詳: 理想策略包含：相容層映射舊模板至新結構、遷移工具轉換資源與設定、逐步替換高風險版面、建立回滾與快照。並以 A/B 或灰度發布降低風險。若無自動工具，需手動對照與重建關鍵頁面，並透過測試與驗收把關。
- 難度: 高級
- 學習階段: 進階
- 關聯概念: A-Q22, C-Q5, D-Q10

B-Q20: 監控與診斷主題變更對效能影響？
- A簡: 以 RUM 與合成監測比對變更前後，記錄首屏與錯誤率。
- A詳: 配置前端真實用戶監控（RUM）與合成探測，記錄 FCP、LCP、TTFB、錯誤率與資源大小。主題發布前後對比，辨識退化來源（大圖、阻塞腳本、快取失效）。結合伺服器 APM 追蹤渲染耗時，形成回饋迴路，持續優化。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: C-Q6, D-Q5, B-Q3

B-Q21: demo.exe 中的資料庫連線與連線池機制？
- A簡: 與標準 ADO.NET 相同，但資源受限，需保守設定與關閉釋放。
- A詳: demo.exe 若連接本地或內嵌資料庫，仍使用 ADO.NET 連線池，重用連線以降低成本。但 Demo 性質使資源受限，應避免長交易與大量並行；並確保使用後即時釋放連線。評估時可觀察 Pool PerfCounter 與平均延遲，以免誤判效能。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: D-Q6, C-Q6, B-Q17

B-Q22: 共享會員下的密碼雜湊與機碼安全？
- A簡: 必須統一演算法與機碼，嚴格保護與定期輪替，確保可驗證。
- A詳: 密碼雜湊與加密策略需完全一致（演算法、Salt 策略）；機碼（machineKey）須相同，才能跨站驗證票證。機碼必須妥善保護、限制存取並定期輪替（配合雙機碼過渡）。不一致會導致登入失敗或安全風險，變更前需在測試環境演練。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: C-Q3, D-Q2, A-Q21

B-Q23: MHT 與 PDF/HTML ZIP 的技術差異？
- A簡: MHT 單檔保 HTML 結構；PDF 重排版；ZIP 保原檔但為多檔案。
- A詳: MHT 將 HTML 與資源內嵌，保留互動結構但相容性依用戶端；PDF 側重版面與列印一致性，互動弱；HTML+ZIP 保原檔案層級，需解壓與路徑完整。選擇取決於用途：法律存證常用 PDF，離線互動用 MHT，跨系統遷移偏好 ZIP。可同時提供多種格式以兼容需求。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: A-Q11, A-Q19, D-Q8

B-Q24: 在 Provider 模式下擴充第三方登入可能性？
- A簡: 以自訂 Provider 或外掛橋接 OAuth/SAML，統一至會員系統。
- A詳: Provider 模式允許以自訂實作串接外部身分（如 OAuth、SAML），再映射到本地會員。關鍵在權杖驗證、安全與帳號綁定策略，並維持與共用會員的相容性。雖文章未述此功能，但概念延伸自 Provider 架構，利於站群統一登入體驗。
- 難度: 高級
- 學習階段: 進階
- 關聯概念: A-Q9, B-Q6, A-Q7

B-Q25: 架構如何支持論壇與部落格的主題一致性？
- A簡: 以共享基底主題與區塊模板，模組覆寫但遵循統一規則。
- A詳: 透過共享的基底主題與核心模板，各模組（論壇、部落格）僅覆寫必要部分，並遵循樣式命名與資源載入順序的規範，以確保一致外觀與行為。這也便於集中優化資源合併與快取，減少跨模組差異帶來的維護成本。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: B-Q14, A-Q3, C-Q5

### Q&A 類別 C: 實作應用類（10題）

C-Q1: 如何用 demo.exe 快速試用 Beta 1？
- A簡: 下載官方 demo.exe，解壓後執行，選擇埠與範例站，瀏覽即可。
- A詳: 具體步驟：1) 至官方論壇下載 Beta 1 套件與 demo.exe；2) 解壓至本機資料夾，以一般使用者執行 demo.exe；3) 選擇啟動埠（避免與 80/443 衝突）與範例站；4) 啟動後瀏覽 http://localhost:埠/ 體驗功能。注意事項：關閉防火牆阻擋、避免使用生產資料、結束後關閉程式釋放埠。最佳實踐：記錄觀察與問題以利回報。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q12, D-Q1, B-Q11

C-Q2: 如何設定多站共用 Membership 資料庫？
- A簡: 各站指向同一 SQL，統一 Provider 與 applicationName，測試登入。
- A詳: 步驟：1) 建立共用 SQL 資料庫並初始化 ASP.NET Membership 結構；2) 於各站 web.config 指向同一連線字串，設定相同 Provider 與 applicationName；3) 測試註冊/登入一致性。範例：<connectionStrings><add name="LocalSqlServer" connectionString="Data Source=DB;Initial Catalog=Members;User ID=sa;Password=***"/></connectionStrings><membership defaultProvider="SqlProvider"><providers><add name="SqlProvider" type="System.Web.Security.SqlMembershipProvider" connectionStringName="LocalSqlServer" applicationName="/Community" /></providers></membership> 注意：統一密碼策略與雜湊設定。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q4, B-Q7, A-Q10

C-Q3: 如何設定跨子網域單一登入（Cookie 與 machineKey）？
- A簡: 設定相同 machineKey 與 forms domain，啟用安全屬性並驗證。
- A詳: 步驟：1) 為各站配置相同 machineKey；2) 設定 FormsAuthentication 的 domain 為頂級網域；3) 測試登入跨子網域可用。範例：<authentication mode="Forms"><forms loginUrl="/login.aspx" timeout="60" domain=".example.com"/></authentication><machineKey validationKey="AAA..." decryptionKey="BBB..." validation="SHA1" decryption="AES"/> 注意：設定 Secure、HttpOnly、SameSite=Lax/None（配合 HTTPS），不同主域需改用中心驗證回跳。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q5, B-Q8, D-Q7

C-Q4: 如何匯出文章為單一檔含圖片？
- A簡: 於文章頁選匯出功能，選擇單檔格式，下載並驗證圖片完整。
- A詳: 步驟：1) 開啟欲匯出的文章；2) 在操作選單選擇「匯出」或「另存為單一檔」；3) 選擇包含圖片的格式（推測為 MHT）；4) 下載檔案並以支援的瀏覽器開啟驗證。注意：先確保圖片可公開存取、無權限限制；大型文章匯出時間較久。最佳實踐：留存匯出版本與校驗清單（圖片數量比對）。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: A-Q11, B-Q16, D-Q3

C-Q5: 如何在瀏覽器中調整主題並可還原？
- A簡: 使用主題編輯器草稿預覽，審核後發布，保留版本以回滾。
- A詳: 步驟：1) 進入後台外觀/主題設定；2) 開啟編輯器修改樣式或模板；3) 儲存為草稿並預覽；4) 通過審核後發布；5) 於版本歷史可回滾至先前狀態。注意：避免在尖峰時段發布；測試不同瀏覽器相容性；發布後清理快取。最佳實踐：建立變更說明與螢幕截圖，必要時先於測試站驗證。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: B-Q2, B-Q18, D-Q4

C-Q6: 如何比較新版與舊版的效能？
- A簡: 設定場景與指標，用壓測工具前後對比，分析瓶頸與回歸。
- A詳: 步驟：1) 選擇關鍵頁面（首頁、文章、登入）；2) 定義指標（TTFB、LCP、吞吐、錯誤率）；3) 使用 JMeter/ab/WCAT 施測；4) 收集伺服器與前端指標；5) 比較新版與舊版差異。注意：測試資料一致、暖機與冷啟分開統計。最佳實踐：配合 APM 與日誌關聯，建立可重現腳本與自動報表。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: A-Q15, B-Q3, D-Q5

C-Q7: 如何用批次檔啟動 ASP.NET 網站（無 IIS）？
- A簡: 呼叫 WebDev.WebServer.exe 指定埠、路徑與虛擬路徑啟動。
- A詳: 批次檔示例："C:\Program Files\Microsoft Visual Studio 8\Common7\IDE\WebDev.WebServer.exe" /port:8080 /path:"C:\Sites\Community" /vpath:"/" 然後以瀏覽器開 http://localhost:8080/。注意：埠不可衝突；路徑需含 Web.config；權限需能讀取站點檔。最佳實踐：寫入日誌與錯誤處理，方便診斷啟動問題。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: A-Q13, B-Q12, D-Q1

C-Q8: 如何安全地自訂 CSS 並避免覆寫衝突？
- A簡: 建立覆寫檔或子主題，遵循命名與載入順序，最小覆寫。
- A詳: 步驟：1) 以子主題或自訂覆寫檔覆蓋必要選擇器；2) 避免使用過高特異性與 !important；3) 依主題載入順序安排覆寫；4) 於瀏覽器開發者工具檢視衝突。注意：勿直接改基底檔，保留升級彈性；跨模組統一命名。最佳實踐：版本控制與變更說明，必要時提供回滾路徑。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q14, D-Q10, C-Q5

C-Q9: 如何備份與還原共用會員資料庫？
- A簡: 使用 SQL 備份/還原，停用寫入、驗證一致性並逐步開放。
- A詳: 步驟：1) 安排維護時段，暫停寫入；2) 執行 SQL 備份（Full + Log）；3) 將備份複製至安全存放；4) 還原時先於測試環境驗證完整性；5) 生產還原後檢查索引與統計資訊。注意：記錄機碼與雜湊設定不可遺失；確保還原版本對應應用程式版本。最佳實踐：定期演練備援與還原。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: B-Q7, B-Q22, D-Q6

C-Q10: 如何收集試用回饋並回報官方？
- A簡: 記錄重現步驟與環境，附日誌與截圖，於論壇提交議題。
- A詳: 步驟：1) 確認問題可重現，整理步驟與預期/實際結果；2) 收集版本號、瀏覽器、OS、設定片段與日誌；3) 附上截圖或錄影；4) 於官方論壇或指定管道提交；5) 跟進回覆並測試修正。注意：去除機敏資料；同類議題查詢後再發。最佳實踐：以模板化格式回報，提高修復效率。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q24, D-Q5, A-Q25

### Q&A 類別 D: 問題解決類（10題）

D-Q1: demo.exe 啟動失敗或埠號衝突怎麼辦？
- A簡: 改用未占用埠、關閉占用程式、以管理員執行並檢視日誌。
- A詳: 症狀：啟動即關閉或提示埠占用、瀏覽無法連線。原因：埠衝突、防火牆阻擋、權限不足或組件缺失。解法：1) 改用 8080/9000 等空埠；2) 關閉占用程式（查 netstat）；3) 以管理員啟動；4) 檢視日誌與事件檢視器找特定錯誤；5) 臨時關閉防火牆測試。預防：固定保留埠、批次檔檢查衝突、自動降級至備用埠。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: C-Q1, C-Q7, B-Q10

D-Q2: 共用會員後，A 站能登入 B 站卻失敗？
- A簡: 檢查 applicationName、machineKey、Cookie domain 與雜湊設定一致。
- A詳: 症狀：同帳密在 A 站可登入，B 站失敗或立刻登出。原因：applicationName 不同、機碼不一致、Cookie domain 未設、雜湊/加密策略不同。解法：1) 統一 web.config 的 applicationName；2) 設定相同 machineKey；3) 設 forms domain；4) 檢查 HTTPS 與 SameSite；5) 清除舊 Cookie 再測。預防：建立共用設定檔與自動化驗證腳本。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q2, C-Q3, B-Q22

D-Q3: 匯出 MHT 後圖片遺失或損壞怎麼處理？
- A簡: 檢查資源連結與權限，確保內嵌成功，改用相容瀏覽器開啟。
- A詳: 症狀：匯出檔圖片缺失、破圖或開啟錯位。原因：引用相對路徑解析失敗、受權限保護資源無法抓取、瀏覽器不支援 MHT。解法：1) 先於頁面確認所有圖片可公開存取；2) 匯出時選擇包含資源；3) 改用支援 MHT 的客戶端；4) 若仍失敗，改用 HTML+ZIP 或 PDF。預防：匯出前跑檢查工具驗證資源完整性。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: C-Q4, B-Q16, B-Q23

D-Q4: 在瀏覽器改了主題但前台沒跟著變？
- A簡: 清除頁面與瀏覽器快取、確認已發布且權限與範圍設定正確。
- A詳: 症狀：後台預覽正常，前台仍顯示舊版。原因：未正式發布、快取未失效、資源版本未更新或權限限制。解法：1) 確認狀態為已發布；2) 觸發快取失效或重啟應用；3) 資源加版本參數避免舊檔；4) 檢查套用範圍（全站/單頁）。預防：發布流程包含自動清快取與資源指紋化。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: B-Q18, C-Q5, B-Q3

D-Q5: 升級後效能反而變慢的可能原因？
- A簡: 快取策略變更、資源變大、資料庫索引失效與配置不當。
- A詳: 症狀：頁面載入變慢、CPU/IO 飆高。原因：新主題引擎快取策略不適配、資源未合併壓縮、資料庫統計資訊過時、開發伺服器替代 IIS 測試。解法：1) 依 C-Q6 壓測定位瓶頸；2) 啟用合併壓縮與 CDN；3) 更新索引與統計；4) 在正式 IIS 測試；5) 調整快取參數。預防：建立升級前後基線對比與回滾方案。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: C-Q6, B-Q3, B-Q17

D-Q6: demo.exe 連不到資料庫或出現 SQL 錯誤？
- A簡: 檢查連線字串、權限與埠，確認本機或遠端 DB 可達與授權。
- A詳: 症狀：啟動或操作時報 SQL 連線失敗/權限不足。原因：連線字串錯誤、防火牆阻擋、帳號未授權、版本不符。解法：1) 測試使用相同連線於 SSMS 連線；2) 開放埠與白名單；3) 授權最低權限帳號；4) 日誌中定位錯誤碼；5) 必要時改用本機 DB 測試。預防：將 DB 設為唯讀測試庫並定期還原。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q1, C-Q9, B-Q21

D-Q7: 跨站 SSO Cookie 不生效怎麼診斷？
- A簡: 比對機碼與 Cookie domain、傳輸協定與 SameSite 設定是否一致。
- A詳: 症狀：登入一站後到另一站仍需登入或立即登出。原因：machineKey 不同、Cookie domain 未設、HTTP/HTTPS 不一致、SameSite 阻擋。解法：1) 統一 machineKey；2) 設定 forms domain；3) 強制 HTTPS 與 Secure；4) SameSite=None 時需 HTTPS；5) 用開發者工具檢視 Cookie 傳遞。預防：以自動化健康檢查驗證配置。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q3, B-Q8, B-Q22

D-Q8: 匯出檔瀏覽器打不開或亂碼？
- A簡: 改用支援格式的瀏覽器，確認 Content-Type 與編碼正確。
- A詳: 症狀：開啟失敗、顯示亂碼或無樣式。原因：瀏覽器不支援 MHT、Content-Type/編碼標頭錯誤、檔案損壞。解法：1) 改用支援 MHT 的客戶端或外掛；2) 重新匯出並確認檔案大小；3) 若需通用，改用 PDF 或 HTML+ZIP。預防：匯出時記錄摘要與驗證開啟流程，對外同時提供多格式。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q11, B-Q23, C-Q4

D-Q9: 主題編輯頁 403/權限不足怎麼辦？
- A簡: 確認角色權限、登入狀態與防護設定，檢查反向代理與路由。
- A詳: 症狀：嘗試進入主題編輯器被拒。原因：角色未授權、CSRF 防護、反向代理重寫導致驗證失敗。解法：1) 為帳號賦予編修/發布權限；2) 檢查登入是否過期；3) 檢視反代或負載均衡是否保留 Cookie 與標頭；4) 查看日誌細節。預防：建立角色模型與審核流程，對敏感頁加強保護。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: B-Q13, C-Q5, B-Q5

D-Q10: CSS 客製化導致版面崩壞如何回復？
- A簡: 使用版本回滾或還原基底檔，逐步排除覆寫衝突並加測。
- A詳: 症狀：發布後樣式錯亂、元素重疊。原因：過度特異性、覆寫順序錯誤、全域樣式影響。解法：1) 回滾至先前版本；2) 在測試環境逐步引入變更定位問題；3) 降低特異性、避免 !important；4) 建立模組化樣式。預防：用子主題覆寫、代碼評審與跨瀏覽器測試，低峰發布。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: C-Q8, B-Q14, C-Q5

### 學習路徑索引
- 初學者：建議先學習哪 15 題
    - A-Q1: 什麼是 Community Server 2007 Beta 1？
    - A-Q2: Beta 1 在軟體發佈中的意義是什麼？
    - A-Q3: Community Server 的主題引擎（theme engine）是什麼？
    - A-Q5: 在瀏覽器上調整 UI 有何價值？
    - A-Q11: 什麼是 MHT 單一檔案匯出？有何用途？
    - A-Q12: demo.exe 是什麼？有何用途？
    - A-Q13: 什麼是 Cassini（或內建開發伺服器）？
    - A-Q14: demo.exe 與完整安裝版有哪些差異？
    - A-Q16: Community Server 的常見應用情境有哪些？
    - A-Q23: 試用 Beta 版應注意哪些風險？
    - A-Q25: 到哪裡下載與了解 Beta 1 資訊？
    - C-Q1: 如何用 demo.exe 快速試用 Beta 1？
    - C-Q4: 如何匯出文章為單一檔含圖片？
    - D-Q1: demo.exe 啟動失敗或埠號衝突怎麼辦？
    - D-Q8: 匯出檔瀏覽器打不開或亂碼？

- 中級者：建議學習哪 20 題
    - A-Q6: 何謂「share membership store」？
    - A-Q7: 為何要讓多站點共用會員資料庫？
    - A-Q8: 共用會員與各自獨立會員的差異？
    - A-Q9: 什麼是 ASP.NET Membership Provider？
    - A-Q10: Membership Provider 如何支援共用會員？
    - A-Q15: 新版提到的效能提升代表什麼？
    - A-Q20: 瀏覽器端編輯主題與離線編輯的比較？
    - A-Q21: 共用會員資料的安全考量有哪些？
    - B-Q1: 新主題引擎如何運作？
    - B-Q2: 瀏覽器即時主題編輯的流程為何？
    - B-Q3: 效能提升背後的機制是什麼？
    - B-Q4: 共用會員資料庫的技術機制是什麼？
    - B-Q5: 跨站登入（SSO）流程的執行機制？
    - B-Q8: FormsAuthentication 與 Cookie 網域設定原理？
    - B-Q9: 單一檔匯出（MHT）的封裝機制是什麼？
    - C-Q2: 如何設定多站共用 Membership 資料庫？
    - C-Q3: 如何設定跨子網域單一登入（Cookie 與 machineKey）？
    - C-Q5: 如何在瀏覽器中調整主題並可還原？
    - D-Q2: 共用會員後，A 站能登入 B 站卻失敗？
    - D-Q4: 在瀏覽器改了主題但前台沒跟著變？

- 高級者：建議關注哪 15 題
    - A-Q18: 以 Web Service 實作 membership 的概念是什麼？
    - A-Q22: 何時應升級至新主題引擎？
    - B-Q6: 以 Web Service 包裝 Membership Provider 的設計？
    - B-Q14: 主題資源載入順序與覆寫機制？
    - B-Q15: 多站共用會員的一致性策略？
    - B-Q18: 版面套用時的快取失效策略？
    - B-Q19: 升級時舊主題與新引擎兼容策略？
    - B-Q20: 監控與診斷主題變更對效能影響？
    - B-Q21: demo.exe 中的資料庫連線與連線池機制？
    - B-Q22: 共享會員下的密碼雜湊與機碼安全？
    - B-Q23: MHT 與 PDF/HTML ZIP 的技術差異？
    - B-Q24: 在 Provider 模式下擴充第三方登入可能性？
    - B-Q25: 架構如何支持論壇與部落格的主題一致性？
    - C-Q6: 如何比較新版與舊版的效能？
    - D-Q5: 升級後效能反而變慢的可能原因？