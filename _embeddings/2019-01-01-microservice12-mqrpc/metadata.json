{
  "title": "\u9AD8\u53EF\u9760\u5EA6\u7684\u5FAE\u670D\u52D9\u901A\u8A0A - Message Queue",
  "published": true,
  "categories": [
    "\u7CFB\u5217\u6587\u7AE0: .NET \u002B Windows Container, \u5FAE\u670D\u52D9\u67B6\u69CB\u8A2D\u8A08",
    "\u7CFB\u5217\u6587\u7AE0: \u67B6\u69CB\u5E2B\u89C0\u9EDE"
  ],
  "tags": [
    "microservice",
    "\u7CFB\u5217\u6587\u7AE0",
    "\u67B6\u69CB\u5E2B",
    "DevOps",
    "POC",
    "MessageQueue",
    "RPC",
    "ASYNC"
  ],
  "tech-stacks": [
    ".NET",
    ".NET Core",
    ".NET Framework",
    "C#",
    "RabbitMQ",
    "RabbitMQ .NET Client",
    "CloudAMQP",
    "Docker",
    "docker-compose",
    "Windows",
    "Windows Server 2019",
    "Windows 10 1809",
    "Windows Container",
    "Linux",
    "LCOW",
    "Kubernetes",
    "Docker Swarm",
    "Azure",
    "AWS",
    "Consul",
    "HTTP REST",
    "gRPC",
    "CQRS",
    "Event Driven",
    "Event Sourcing",
    "ASP.NET",
    "ASP.NET Core",
    "Dependency Injection (DI)",
    "Microsoft.Extensions.Hosting (IHost, IHostedService, BackgroundService)",
    "Microsoft.Extensions.DependencyInjection",
    "Newtonsoft.Json",
    "TrackContext",
    "Generic Host",
    "Auto Scaling",
    "Graceful Shutdown"
  ],
  "keywords": [
    "\u5FAE\u670D\u52D9",
    "Message Queue",
    "RabbitMQ",
    "MessageClient",
    "MessageWorker",
    "RPC",
    "\u975E\u540C\u6B65\u901A\u8A0A",
    "\u540C\u6B65\u901A\u8A0A",
    "async/await",
    "IHostedService",
    "BackgroundService",
    "DI",
    "TrackContext",
    "CQRS",
    "\u4E8B\u4EF6\u9A45\u52D5",
    "gRPC",
    "HTTP REST",
    "Docker",
    "Windows Container",
    "Linux",
    "LCOW",
    "Kubernetes",
    "Docker Swarm",
    "Azure",
    "AWS",
    "Consul",
    "DevOps",
    "Design for Operation",
    "Auto Scaling",
    "Graceful Shutdown"
  ],
  "generator": "BlogIndex.SyncPost v0.3.0.0, gpt-5",
  "references": [
    "http://study4.tw/Activity/Details/20",
    "https://www.facebook.com/andrew.blog.0928/videos/478284192685645/",
    "http://www.rabbitmq.com/",
    "https://www.cloudamqp.com/",
    "https://www.rabbitmq.com/getstarted.html",
    "https://www.facebook.com/andrew.blog.0928/",
    "https://www.rabbitmq.com/dotnet-api-guide.html#model-sharing",
    "https://www.rabbitmq.com/tutorials/tutorial-six-dotnet.html",
    "https://docs.microsoft.com/zh-tw/dotnet/csharp/language-reference/keywords/async",
    "https://github.com/aspnet/Hosting/blob/master/src/Microsoft.Extensions.Hosting.Abstractions/BackgroundService.cs#L33",
    "http://mropengate.blogspot.com/2015/05/steve-jobs-stanford-commencement-speech.html",
    "https://twitter.com/hughcards/status/423952995240648704",
    "/categories/#\u7CFB\u5217\u6587\u7AE0:%20\u591A\u57F7\u884C\u7DD2\u7684\u8655\u7406\u6280\u5DE7",
    "/categories/#RUN!%20PC%20\u5C08\u6B04\u6587\u7AE0",
    "/2018/05/10/tips-handle-shutdown-event/",
    "/2018/05/12/msa-labs2-selfhost/",
    "/categories/#\u7CFB\u5217\u6587\u7AE0:%20Thread%20Pool%20\u5BE6\u4F5C",
    "/2007/12/17/threadpool-\u5BE6\u4F5C-3-autoresetevent-manualresetevent/",
    "/2017/07/25/wc-swarm-labs/",
    "/2017/07/25/wc-swarm-labs2/",
    "/2017/10/04/lcow/",
    "/2018/07/28/labs-lcow-volume/",
    "/2017/01/15/docker-networks/",
    "https://www.slideshare.net/chickenwu/net-conf-2018-message-queue-based-rpc",
    "https://github.com/aspnet/Hosting/blob/master/src/Microsoft.Extensions.Hosting.Abstractions/HostingAbstractionsHostExtensions.cs",
    "https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2Fandrew.blog.0928%2Fvideos%2F355084961890233%2F\u0026show_text=0\u0026width=560",
    "https://www.facebook.com/andrew.blog.0928/videos/509145696127380/",
    "/images/2019-01-01-microservice12-mqrpc/banner.jpg",
    "/images/2019-01-01-microservice12-mqrpc/LOGO.png",
    "/images/2019-01-01-microservice12-mqrpc/2019-01-01-18-21-34.png",
    "/images/2019-01-01-microservice12-mqrpc/2019-01-01-21-16-54.png",
    "https://blog.chunfuchao.com/?p=656"
  ],
  "summary": "\u5728\u4ECA\u5E74 .NET Conf 2018, \u6211\u8B1B\u4E86\u4E00\u500B\u5834\u6B21: Message Queue Based RPC, \u5167\u5BB9\u5C31\u662F\u9019\u7BC7\u6587\u7AE0\u7684\u524D\u534A\u6BB5... Message Queue \u672C\u8EAB\u7684\u67B6\u69CB\u5C31\u5BB9\u8A31\u90E8\u5206\u670D\u52D9\u639B\u6389\u4E5F\u9084\u80FD\u6B63\u5E38\u904B\u4F5C\uFF0C\u662F\u9AD8\u53EF\u9760\u5EA6 / \u975E\u540C\u6B65\u901A\u8A0A\u4E0D\u53EF\u6216\u7F3A\u7684\u4E00\u74B0\u554A! \u9019\u500B\u5834\u6B21\u6211\u8AAA\u660E\u4E86\u5982\u4F55\u7528 C# \u628A Message Queue \u5C01\u88DD\u6210 RPC, \u540C\u6642\u652F\u63F4 C# async / await \u7684\u6574\u500B\u904E\u7A0B\u8DDF\u7D30\u7BC0\u3002\u4E0D\u904E\u6642\u9593\u53EA\u6709\u77ED\u77ED\u7684 50 \u5206\u9418\uFF0C\u8981\u4EA4\u4EE3\u5B8C\u6574\u7684\u4F86\u9F8D\u53BB\u8108\u5BE6\u5728\u6709\u9EDE\u56F0\u96E3\u554A\uFF0C\u5269\u4E0B\u7684\u90E8\u5206\u6211\u5C31\u5728\u9019\u7BC7\u6587\u7AE0\u88DC\u5B8C\u3002\n\n\u9019\u985E\u4E3B\u984C\uFF0C\u62C9\u5F97\u66F4\u9AD8\u4E00\u9EDE\u4F86\u770B\uFF0C\u76EE\u7684\u5176\u5BE6\u662F\u6574\u5408\u554A! \u0022\u67B6\u69CB\u5E2B\u0022 \u5728\u9019\u5E7E\u5E74\u8B8A\u6210\u6280\u8853\u8077\u7684\u7D42\u6975\u76EE\u6A19\uFF0C\u4E0D\u904E\u8EDF\u9AD4\u696D\u7684\u5E02\u5834\u9084\u5F88\u5E74\u8F15\uFF0C\u5E02\u5834\u4E0A\u6709\u7D93\u9A57\u7684\u67B6\u69CB\u5E2B\u4E5F\u4E0D\u591A\u554A\uFF0C\u5F88\u591A\u6587\u7AE0\u90FD\u5728\u8AC7\u8AD6\u67B6\u69CB\u5E2B\u5230\u5E95\u8A72\u505A\u4E9B\u4EC0\u9EBC\u4E8B? \u5176\u4E2D\u6709\u4E00\u9EDE\u5F88\u591A\u6587\u7AE0\u90FD\u6709\u63D0\u5230\uFF0C\u5C31\u662F \u0022\u6280\u8853\u9078\u578B\u0022\u3002\u67B6\u69CB\u5E2B\u61C9\u8A72\u7528\u4ED6\u7684\u5C08\u696D\u53CA\u7D93\u9A57\uFF0C\u66FF\u5718\u968A\u6311\u9078\u4E00\u500B\u7B26\u5408\u73FE\u6CC1\u53CA\u5C07\u4F86\u767C\u5C55\u7684\u6280\u8853\u3002\u9019\u53E5\u8A71\u4E26\u6C92\u6709\u932F\uFF0C\u4E0D\u904E\u6211\u770B\u904E\u5E7E\u500B\u4F8B\u5B50\uFF0C\u90FD\u6C92\u6709\u505A\u5230\u4F4D\uFF1B\u56E0\u70BA\u9078\u5B8C\u4E4B\u5F8C\uFF0C\u4E0B\u4E00\u6B65\u5C31\u662F\u8981\u61C9\u7528\u554A! \u6210\u719F\u7684\u670D\u52D9\u6216\u662F\u6846\u67B6\uFF0C\u5728\u73FE\u5728\u7684\u6642\u7A7A\u80CC\u666F\u4E0B\u5176\u5BE6\u4E0D\u662F\u500B\u5927\u554F\u984C\uFF0C\u4F46\u662F\u6BCF\u500B\u5718\u968A\u9762\u81E8\u7684\u5546\u696D\u9700\u6C42\uFF0C\u6B77\u53F2\u5305\u88B1\uFF0C\u5718\u968A\u7D44\u6210\u72C0\u6CC1\u7B49\u7B49\u90FD\u4E0D\u540C\uFF0C\u5F88\u96E3\u6709\u54EA\u4E00\u5957\u670D\u52D9\u6216\u662F\u6846\u67B6\u53EF\u4EE5\u9069\u61C9\u6240\u6709\u60C5\u6CC1\u7684\u3002\u56E0\u6B64\u4F60\u505A\u5B8C\u6280\u8853\u9078\u578B\u5F8C\uFF0C\u4E0B\u4E00\u500B\u96E3\u984C\u662F\u5C07\u9019\u4E9B\u6280\u8853 \u0022\u6574\u5408\u0022 \u8D77\u4F86\u7D66\u5718\u968A\u4F7F\u7528\u3002\n\n\u9019\u5C31\u662F\u6211\u9019\u7BC7\u6587\u7AE0\u60F3\u8981\u8868\u9054\u7684\uFF1B\u6211\u5011\u6311\u9078\u4E86 RabbitMQ \u7576\u4F5C\u6211\u5011\u670D\u52D9\u80CC\u5F8C\u7684 Message Queue, Message Queue \u638C\u63A7\u4E86\u53EF\u9760\u7684\u901A\u8A0A\u6838\u5FC3, \u975E\u540C\u6B65\u7684\u901A\u8A0A\uFF0C\u5230 CQRS, \u5230 Event Driven \u4E8B\u4EF6\u9A45\u52D5, \u8A02\u95B1 / \u901A\u77E5 \u7B49\u985E\u578B\u7684\u901A\u8A0A\u90FD\u9700\u8981\u9760\u4ED6\uFF0C\u6211\u671F\u671B\u5167\u90E8\u5718\u968A\u80FD\u767C\u5C55\u51FA\u4E00\u5957\u9AD4\u7CFB\uFF0C\u80FD\u5C07\u9019\u4E9B\u6A5F\u5236\u4E32\u5728\u4E00\u8D77\u3002\u9019\u4E9B\u6A5F\u5236\u6574\u5408\u7684\u597D\uFF0C\u5718\u968A\u7684\u80FD\u529B\u5C31\u80FD\u5F80\u4E0A\u63D0\u5347\u4E00\u500B\u6A94\u6B21\u3002\u65E2\u7136\u6574\u500B\u9AD4\u7CFB\uFF0C\u662F\u67B6\u69CB\u5E2B\u898F\u5283\u51FA\u4F86\u7684\uFF0C\u8A72\u5982\u4F55 \u0022\u6574\u5408\u0022\uFF0C\u81EA\u7136\u662F\u67B6\u69CB\u5E2B\u6700\u6E05\u695A\u5176\u4E2D\u7684\u95DC\u9375\u4E86\u3002\u6211\u4E00\u76F4\u671F\u671B\u6211\u5C0D\u5718\u968A\u7684\u8CA2\u737B\u4E0D\u53EA\u662F\u7D19\u4E0A\u7684\u898F\u5283\u800C\u5DF2\uFF0C\u800C\u662F\u80FD\u771F\u6B63\u878D\u5165\u958B\u767C\uFF0C\u5F9E code \u5C64\u9762\u5C31\u80FD\u5E6B\u52A9\u5718\u968A\u63D0\u5347\u3002\u56E0\u6B64\u9019\u7BC7\u6211\u5C31\u6253\u7B97\u5F9E Message Queue \u5E7E\u500B\u61C9\u7528\u5834\u666F\u5207\u5165\uFF0C\u793A\u7BC4\u4E00\u4E0B\u5F9E\u67B6\u69CB\u7684\u89D2\u5EA6\uFF0C\u8A72\u5982\u4F55\u770B\u5F85 Message Queue \u7684\u6574\u5408\u9019\u4EF6\u4E8B?\n\n\u9019\u7BC7\u6211\u6703\u5F9E\u5C01\u88DD\u958B\u59CB\uFF0C\u53EA\u628A\u6211\u5C0D\u65BC Message Queue \u60F3\u8981\u89E3\u6C7A\u7684\u554F\u984C\u9EDE\u51FA\u767C\uFF0C\u5F9E\u9019\u89D2\u5EA6\u898F\u756B\u51FA\u5C01\u88DD\u5F8C\u7684\u4ECB\u9762\u8A72\u9577\u4EC0\u9EBC\u6A23\u5B50\uFF0C\u5176\u9918\u7684\u7D30\u7BC0\u5982\u4F55\u5584\u7528 C# / .NET \u7684\u6A5F\u5236\u85CF\u5230\u80CC\u5F8C\u3002\u80CC\u5F8C\u9700\u8981\u9032\u4E00\u6B65\u8DDF\u5176\u4ED6\u7684\u57FA\u790E\u5EFA\u8A2D (\u5982: configuration, cloud / container infra, security, logging \u7B49\u7B49) \u6574\u5408\uFF0C\u9019\u6574\u5957\u7684\u74B0\u5883\u5F88\u96E3\u627E\u5230\u73FE\u6210\u800C\u4E14\u5408\u7528\u7684\uFF0C\u5927\u90E8\u5206\u5718\u968A\u90FD\u9700\u8981\u81EA\u884C\u5EFA\u7ACB\u3002\u56E0\u6B64\uFF0C\u6211\u5F9E Message Queue \u8981\u89E3\u6C7A\u7684\u554F\u984C: \u901A\u8A0A \u70BA\u51FA\u767C\u9EDE\uFF0C\u6574\u7BC7\u6587\u7AE0\u5206\u5E7E\u500B\u6BB5\u843D\uFF0C\u5148\u5F9E\u5C01\u88DD \u0022\u901A\u8A0A\u0022 \u9019\u4EF6\u4E8B\u958B\u59CB\uFF0C\u5E36\u5230 Message Worker \u9019\u985E\u9577\u6642\u9593\u57F7\u884C\u7684\u80CC\u666F\u670D\u52D9\u958B\u767C\uFF0C\u5230\u975E\u540C\u6B65\u901A\u8A0A\u5982\u4F55\u8DDF C# \u7684 async / await \u6574\u5408\uFF0C\u6700\u5F8C\u5E36\u5230\u5982\u4F55\u8DDF container orgistration \u5BC6\u5207\u6574\u5408\uFF0C\u4E0D\u9700\u8981\u984D\u5916\u7684\u7BA1\u7406\u5DE5\u5177\u5C31\u80FD\u505A\u597D MessageWorker \u7684 scale managemnet\u3002"
}