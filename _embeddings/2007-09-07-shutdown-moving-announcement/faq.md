# 停機搬家了 :D

## 問題與答案 (FAQ)

### Q&A 類別 A: 概念理解類

A-Q1: 什麼是「停機搬家」？
- A簡: 為搬遷而在維護時窗內計畫性停止服務，完成移機、佈線、重裝與上架的整體活動。
- A詳: 停機搬家是指因辦公室或機房遷移，於預先公告的維護時窗內暫停對外服務，以安全、可控地完成電信移機、資產打包運輸、現場弱電與電力佈線、伺服器機殼更換、作業系統重裝與機櫃上架等工作。過程通常包含風險辨識、完整備份與回復計畫、變更凍結、切換與回退準則、驗收與監控恢復，最終在品質與穩定性達標後正式恢復上線。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q2, A-Q6, B-Q11, C-Q9

A-Q2: 為什麼搬家需要停機？
- A簡: 搬遷牽涉網路與電力中斷、設備拆裝與運輸，必須在可控時窗停機降低風險。
- A詳: 搬遷會影響電力、電信、網路與實體設備的連續性，且需拆卸、運輸、重新佈建與測試。若不中斷服務，可能造成資料不一致、交易中斷、硬體損壞風險升高。計畫性停機讓團隊能先完成備份、凍結變更、關閉交易與程序，於受控時段內執行拆運與重建，並透過驗收與健康檢查確保上線品質，將影響面與不確定性降到最低。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q1, B-Q1, B-Q11, D-Q10

A-Q3: 停機與一般維護有何差異？
- A簡: 停機多為重大變更需全面中斷；一般維護可不中斷或影響較小，風險與範疇不同。
- A詳: 停機通常針對高風險、廣範圍變更（如搬遷、核心升級、資料庫重構），需全面暫停服務，以降低資料損壞與一致性風險。一般維護則多屬小變更或滾動更新，可透過藍綠/金絲雀等方式降低中斷時間。兩者在事前通告、變更審核、切換與回退標準、資源動員與風險管理強度上均不同，停機需要更嚴謹的管控與回復計畫。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q11, B-Q11, C-Q1

A-Q4: 什麼是電信「移機」？
- A簡: 由電信業者將既有電話/網路電路從原址遷移至新址的申請、施工與割接流程。
- A詳: 移機是電信業者將現有電話線路、光纖或寬頻服務自舊址轉移至新址的標準作業。流程含申請、現場勘查、管路與纜線施工（含光纖熔接或銅線配對）、機房端與用戶端測試、保護切換與割接。移機期間原電路可能短暫或長時間中斷，需與時程、停機窗口與備援方案協調，並於完工後驗證頻寬與穩定度符合需求。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: B-Q1, D-Q1, A-Q6

A-Q5: 停機公告的核心價值是什麼？
- A簡: 建立透明與期待管理，減少抱怨與風險，確保干係人知情與資源協調。
- A詳: 停機公告能清楚交代停機時間窗、影響範圍、預期上線時間、聯絡窗口與替代管道，讓使用者與內外部干係人提早安排，降低業務衝擊。同時有助合規與稽核，體現責任與透明，避免資訊不對稱導致的申訴。良好公告還會包含進度更新與回復通告，強化信任並為不可控延遲預留溝通空間。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: C-Q1, B-Q15, D-Q10

A-Q6: 搬家流程包含哪些階段？
- A簡: 規劃、準備、執行、驗收、收尾；涵蓋備份、移機、佈線、重裝、上架與回復。
- A詳: 典型階段為：1) 規劃：範疇、時程、風險、資源、RTO/RPO。2) 準備：備份與演練、資產盤點、公告、DNS/維護頁預備。3) 執行：停機、拆卸運輸、電信割接、佈線與供電、硬體整備、系統重裝與還原。4) 驗收：電力與網路測試、服務功能與性能校驗、監控與告警恢復。5) 收尾：文檔更新、回顧改進、恢復一般變更節奏。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q11, C-Q4, C-Q5, C-Q10

A-Q7: 什麼是佈線規劃？
- A簡: 針對弱電與電力的線路設計、路由、標識與測試，確保可靠、易維護與可擴充。
- A詳: 佈線規劃涵蓋網路（UTP/光纖）、電話與電力（含UPS/ATS）設計，包含配線架位置、路由走線、線材等級、端接標準、標籤命名與測試標準。良好規劃能降低串擾與故障率、簡化維護、提升擴充性，並考量散熱、氣流與安全距離。完工後透過測試儀與驗收報告確保達到頻寬與穩定度指標。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q5, B-Q6, C-Q5, D-Q6

A-Q8: 為何要更換伺服器機殼？
- A簡: 提升散熱與上架兼容性、改善理線與維護，同時機會進行除塵與健康檢查。
- A詳: 搬遷時更換機殼可改善散熱風道與前進後出氣流，確保與機櫃導軌、滑軌相容，提升維護性與密度利用。過程也便於清潔除塵、檢視電供與風扇健康、替換老化零件與採用標準化理線。對高負載設備尤為重要，可降低過熱與噪音，提升整體可靠性與上架品質。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q7, C-Q6, D-Q3

A-Q9: 為何搬遷時常安排作業系統重裝？
- A簡: 藉機清潔環境、升級版本、標準化與移除歷史負擔，降低隱性問題。
- A詳: 長期運行的系統容易累積設定債與殘留套件。搬遷時重裝可建立乾淨基線，升級核心與補丁、套用CIS/企業標準、改用基礎建設即程式（IaC）佈建，並確保驅動與韌體一致。透過映像與自動化（PXE/Kickstart/Preseed）重建，可縮短停機時間並提升可重現性；前提是備份與還原驗證完善。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q8, C-Q7, D-Q4

A-Q10: 什麼是機櫃上架？
- A簡: 將設備以標準RU在19吋機櫃中固定、供電、連網與標識的整體作業。
- A詳: 機櫃上架是把伺服器、交換器等依RU規劃安裝於標準19吋機櫃，透過導軌/滑軌固定，連接PDU供電、接入上行與接入網，並完成前後門理線與標籤。上架需考量承重、深度與氣流隔離（冷熱通道），避免阻塞進風。完工後進行上電自檢、溫度監測與震動評估，以確保可靠運行。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: B-Q9, C-Q6, D-Q3

A-Q11: 什麼是停機窗口（維護時窗）？
- A簡: 為執行變更而預先公告並協調的特定時間段，含開始與結束條件。
- A詳: 維護時窗是變更管理中對外承諾的作業時間區間，明確列出開始/結束時間、凍結範圍、允許變更與禁止操作、進度回報節點與回退門檻。良好時窗會避開尖峰，預留緩衝並安排人力輪班與多方待命，並設有升級聯絡機制與風險應對，確保在可控範圍內完成操作與驗收。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q3, B-Q13, C-Q1

A-Q12: 什麼是回復計畫（Rollback Plan）？
- A簡: 發生異常時快速恢復到原狀或安全狀態的具體步驟與判斷標準。
- A詳: 回復計畫定義了在切換過程出現重大異常時，如何回到變更前或可接受狀態的流程。包含觸發條件（KPI門檻、故障時間）、回退步驟（DNS/路由回切、恢復舊環境）、資料一致性處理與溝通節點。配合完整備份與演練，回復計畫能大幅降低不可控風險，是變更治理的安全網。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q11, C-Q9, D-Q7

A-Q13: 什麼是RTO與RPO？
- A簡: RTO為恢復所需時間目標；RPO為最大可接受資料遺失點。
- A詳: RTO（Recovery Time Objective）是從中斷到恢復服務所允許的最長時間；RPO（Recovery Point Objective）是可接受的資料恢復點，代表最大資料遺失窗口。搬遷與停機需以RTO/RPO倒推備份頻率、演練強度與切換策略（同步/非同步、熱備/冷備），並在公告與SLA中清楚傳達預期，作為驗收與回退判斷依據。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: B-Q10, C-Q9, D-Q7

A-Q14: 搬遷後的驗收標準有哪些？
- A簡: 電力與網路穩定、服務功能/性能、監控告警、備援恢復與文件更新。
- A詳: 驗收包含：電力（雙路、UPS切換）、環境（溫溼度、氣流）、網路（延遲/丟包/吞吐）、安全（ACL/VLAN）、服務功能與性能（基準與壓測）、資料完整性、監控與告警恢復、備份任務與還原測試、狀態頁更新與文檔同步。達標後才解除維護，進入觀察期並持續監控。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q10, B-Q12, D-Q5, D-Q6

A-Q15: 為何需要預估上線日期並保留緩衝？
- A簡: 便於期待管理與資源協調，應對移機與不可控延遲的風險。
- A詳: 移機、搬運、割接常受外部因素影響（供應商、管制、交通）。預估上線日期提供干係人安排窗口，並在計畫中配置緩衝時間與備選方案（時間替代、技術備援）。同時設置進度回報節點與升級路徑，確保延遲時能即時通報與調整，維持信任並降低商業影響。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: B-Q13, B-Q15, C-Q1

### Q&A 類別 B: 技術原理類

B-Q1: 電信移機如何運作？
- A簡: 由申請、勘查、施工、測試到割接，完成電路自舊址到新址的轉接與驗收。
- A詳: 原理：將既有電路在接取網與核心交換中重配置，於新址完成物理/邏輯接續。流程：申請→現勘→拉管拉纜/熔接→ONU/DSL/光纖端接→端對端測試→割接與回復。組件：接續光纖/銅纜、配線架、交換機/OLT、ONU/DSL MODEM、測試儀。關鍵是與時窗協調、備援方案與驗收標準。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q4, D-Q1, B-Q13

B-Q2: DNS TTL策略如何降低切換風險？
- A簡: 事前降低TTL，等待快取過期再切換IP，之後恢復TTL以減少抖動。
- A詳: 原理：TTL決定解析快取壽命。透過降低TTL可縮短生效時間。流程：變更前48-72小時降TTL（如300秒）→觀察生效→停機/切換IP→驗證→恢復TTL以減輕權威負載。組件：權威DNS（A/AAAA/CNAME）、遞迴解析器、CDN。注意部分ISP會最小化TTL或保留舊快取，需預留重試與灰度。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q3, D-Q2, B-Q11

B-Q3: 維護頁的工作原理是什麼？
- A簡: 以HTTP 503與Retry-After告知暫停，Web/負載層攔截請求轉向靜態頁。
- A詳: 原理：當服務不可用時返回HTTP 503，並透過Retry-After指示重試時間，避免搜索與客戶端誤判。流程：在Nginx/Apache或LB上設定維護開關→檢查檔存在即返回503/靜態頁→維護結束後移除開關。組件：Web Server、負載均衡器、CDN快取策略、監控探針白名單。注意避免被CDN快取錯誤狀態。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: C-Q2, D-Q5, B-Q12

B-Q4: 打包與資產清單管理的原理？
- A簡: 用結構化標識與狀態管理追蹤設備，保證可追溯與責任到人。
- A詳: 原理：以CMDB理念維護資產屬性、關聯與生命週期。流程：資產盤點→編碼命名→貼標籤（條碼/RFID）→建立清單與責任人→運輸簽收→新址定位與狀態更新。組件：資產台帳、工單/盤點工具、標籤與掃描器。可減少遺失與錯放，提升拆運與上架效率並為故障追查提供依據。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: C-Q4, B-Q13

B-Q5: 網路佈線標準與色碼原理？
- A簡: 依TIA/EIA-568標準進行T568A/B端接，確保頻寬、串擾與可靠性。
- A詳: 原理：標準化端接與線材等級（Cat5e/6/6A）決定頻寬與損耗。流程：設計路線→選材→壓接Keystone/打線Patch Panel→T568A/B一致端接→OTDR/Fluke測試→標籤與文檔。組件：Keystone、Patch Panel、雙絞線/光纖、理線架、測試儀。遵循彎曲半徑與距離限制可避免性能劣化。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q5, D-Q6

B-Q6: 供電、UPS與PDU如何確保不中斷？
- A簡: 以容量規劃、雙路供電與UPS/ATS切換，確保斷電時短期續航與保護。
- A詳: 原理：UPS提供電池備援與穩壓，PDU分配電力，ATS自動切換路源。流程：統計負載→設計冗餘N+1→選UPS容量與拓撲（線互/線交）→部署PDU/ATS→斷電演練。組件：UPS、PDU、ATS、電表與監控。需評估峰值啟動電流、電池續航與散熱，確保安全距離與接地。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q8, D-Q8, B-Q9

B-Q7: 機殼散熱與風道原理？
- A簡: 建立前進後出的一致風道與正/負壓平衡，減少熱回流與積塵。
- A詳: 原理：風道連續性與氣流方向決定散熱效率，正壓可減塵，負壓利於排熱。流程：評估機殼進出風、配置風扇轉向與PWM曲線→整理線材避免阻風→清潔濾網→以溫度監控驗證。組件：進出風扇、散熱器、濾網、溫度感測。機櫃內配合冷熱通道與遮板降低短路回風。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q6, D-Q3

B-Q8: 自動化重裝系統的機制？
- A簡: 以PXE啟動載入映像，透過Kickstart/Preseed無人值守完成部署。
- A詳: 原理：PXE透過DHCP提供啟動檔案位置，TFTP傳遞bootloader與kernel，配置檔驅動自動安裝。流程：建映像→設定DHCP與TFTP→配置PXELINUX/GRUB→撰寫Kickstart/Preseed→安裝後腳本。組件：DHCP、TFTP、HTTP鏡像倉庫、配置管理（Ansible等）。確保簽章與校驗以防供應鏈風險。
- 難度: 高級
- 學習階段: 進階
- 關聯概念: C-Q7, D-Q4

B-Q9: 上架與機櫃氣流/空間設計原理？
- A簡: 依RU規劃與承重，配合冷熱通道與遮板，維持前進後出氣流不短路。
- A詳: 原理：機櫃設計需確保冷熱隔離，避免熱風回流；空間與承重符合規格。流程：規劃U位與重量分布→安裝導軌→固定設備→布線分流（前網後電）→安裝遮板→驗證氣流與溫度。組件：機櫃、導軌、Cage nuts、理線架、遮板、環境監測。配合雙路PDU與標籤提升維護性。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q6, D-Q3, B-Q6

B-Q10: 備份與恢復的可靠性原理？
- A簡: 採3-2-1策略與校驗，定期演練還原，確保RTO/RPO可達成。
- A詳: 原理：異地與多載體降低單點風險；校驗碼與定期比對確保可還原。流程：訂策略（全/增/永續增量）→排程→離線與異地→定期還原演練→監控失敗與容量。組件：備份軟體、儲存（磁碟/帶/雲）、Checksum。將備份與變更凍結、切換流程耦合以提高成功率。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q9, D-Q7, A-Q13

B-Q11: 搬遷切換（Cutover）標準流程？
- A簡: 以變更凍結、停機、拆運、重建、驗收、上線與回退門檻構成的Runbook。
- A詳: 原理：以明確步驟降低不確定性。流程：變更凍結→完整備份→發佈維護頁→停機關閉交易→拆運與移機→新址佈線供電→系統重建/還原→功能與性能驗收→DNS/路由切換→觀察期→回退判斷門檻。組件：工單、Runbook、通告模板、監控面板。每步有責任人與完成條件。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q6, C-Q9, D-Q9

B-Q12: 搬遷中的監控與健康檢查原理？
- A簡: 建立指標與告警，對網路、服務、日誌持續探測，支援切換與驗收。
- A詳: 原理：以合成探測與真實用戶監測互補，透過SLO門檻判斷健康。流程：定義關鍵指標（延遲/錯誤率/吞吐）→部署Agent→設定告警抑制於維護時窗→為維護頁與API設白名單→切換後加密度監看。組件：Prometheus/Zabbix、APM、日誌平台、狀態頁。確保驗收與回退依據一致。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q10, D-Q5, D-Q6

B-Q13: 時間規劃與關鍵路徑法如何應用？
- A簡: 用WBS拆分與CPM找出關鍵任務與緩衝，控制時程風險。
- A詳: 原理：CPM識別影響總工期的關鍵鏈，將資源集中於關鍵任務。流程：WBS拆分→估工→建立依賴→排程甘特圖→識別關鍵路徑與緩衝→滾動更新→每日站會校正。組件：甘特/看板工具、風險登錄表、里程碑清單。搭配停機窗口與外部依賴（ISP移機）管理，提升準點率。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q11, D-Q9, C-Q1

B-Q14: 風險評估（FMEA）如何套用於搬遷？
- A簡: 以嚴重度/發生度/可偵測度計算RPN，制定優先緩解措施。
- A詳: 原理：FMEA量化風險並排序處理優先度。流程：盤點風險（電力、移機延遲、資料遺失）→S/O/D打分→計算RPN→制定控制（備援電力、前置備份、雙供應商）→指定責任人與觸發條件→搬遷後回顧調整。組件：風險登錄、控制計畫、演練記錄。提升整體韌性與回復能力。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q9, D-Q7, D-Q8

B-Q15: 溝通管理在停機搬家中的角色？
- A簡: 識別干係人、設計訊息與頻率，透過模板與回饋機制建立信任。
- A詳: 原理：透明與一致溝通降低不確定性。流程：干係人地圖→訊息矩陣（誰/何時/用什麼）→公告模板（事前/事中/事後）→狀態頁與即時更新→回饋與升級路徑（P1/P2）→事後回顧。組件：郵件/聊天群、狀態頁、FAQ、值班表。良好溝通是面對延遲與異常時的關鍵減震器。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: C-Q1, D-Q10, A-Q15

### Q&A 類別 C: 實作應用類

C-Q1: 如何撰寫一份有效的停機公告？
- A簡: 明確時間窗、影響範圍、原因、聯絡與回復通告計畫，並多渠道發布。
- A詳: 具體步驟：確認維護時窗與時區→列出受影響服務與不可用功能→說明原因（搬遷/移機）與預估上線時間→提供聯絡窗口與狀態頁→規劃事中與事後更新節點。關鍵內容模板：標題、時間、影響、原因、補救措施、聯絡方式。注意：提早至少5-7天發布，臨近再提醒；多渠道（官網/Email/社群）同步；提供替代方案或離峰建議。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q5, A-Q11, B-Q15

C-Q2: 如何用Nginx顯示維護頁與503？
- A簡: 設定維護開關檔，命中則回傳503與Retry-After並顯示靜態頁。
- A詳: 步驟：部署維護頁maintenance.html→在/etc/nginx/下建立maintenance檔作為開關→套用設定與測試。關鍵設定：
  http {
    server {
      if (-f /etc/nginx/maintenance) { return 503; }
      add_header Retry-After "3600" always;
      error_page 503 @maintenance;
      location @maintenance { root /var/www; try_files /maintenance.html =503; }
    }
  }
  注意：讓監控IP繞過；避免CDN快取503；維護結束刪除開關檔並reload。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q3, D-Q5, C-Q1

C-Q3: 如何在搬遷前調整DNS TTL並切換？
- A簡: 提前降TTL，停機時更新A/AAAA，完成後驗證並恢復TTL。
- A詳: 步驟：搬遷前72小時將TTL降至300秒；以dig驗證生效。切換當日更新A/AAAA紀錄至新IP，等待快取過期再驗證各地解析；穩定後將TTL恢復至原值（如3600/14400）。BIND範例：
  www IN A 203.0.113.10
  $TTL 300
  注意：部分ISP不遵守TTL，預留重試；對關鍵域名採雙記錄灰度；更新逆向PTR與SSL證書SAN。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q2, D-Q2, B-Q11

C-Q4: 如何製作與維護搬遷資產清單？
- A簡: 盤點編碼與貼標，建立台帳含位置/序號/責任人，搬遷中簽收追蹤。
- A詳: 步驟：輸出現況清單→為每件資產建立ID（如RACK-SRV-01）→貼條碼/QR→記錄序號、MAC、用途、機櫃U位、責任人→打包單與運輸簽收→新址定位與狀態更新。範例欄位：資產ID、型號、序號、IP/MAC、原位/新位、U位、配件、備註。注意：分離配件袋標籤、拍照佐證、防靜電包裝與高價品雙人簽收。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: B-Q4, D-Q9, C-Q9

C-Q5: 如何在新址完成網路佈線與標記？
- A簡: 依設計拉線端接，測試通道後標籤雙端與配線架，留存佈線圖。
- A詳: 步驟：確認拓撲與配線架位置→拉Cat6/光纖→T568B端接→Fluke測試PASS→貼標（PP01-24→R1-U20-eth1）→理線分層（前網後電）→更新佈線圖。注意：遵守彎曲半徑、避免與電力纜併行、預留冗餘纜與跳線、封堵穿牆孔，提高防火。驗收留存測試報告與照片。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q5, D-Q6, B-Q6

C-Q6: 如何更換伺服器機殼並上架到機櫃？
- A簡: 防靜電拆裝與理線，安裝導軌固定，完成供電與網路後驗證溫度。
- A詳: 步驟：關機拔電→防靜電拆面板與零件→移轉主板/CPU/記憶體/電源/硬碟→整理風道與線材→裝新機殼風扇→上機櫃導軌→固定四點螺絲→接雙路PDU與網路→上電自檢。注意：記錄SATA/SAS通道順序、防短路墊片、檢查散熱膏、加裝遮板與溫度感測，觀察燈號與風扇噪音。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q7, B-Q9, D-Q3

C-Q7: 如何用PXE自動化重裝Linux？
- A簡: 建DHCP/TFTP與映像倉庫，撰寫Kickstart/Preseed達成無人值守安裝。
- A詳: 步驟：安裝dnsmasq（DHCP/TFTP）→放置pxelinux.0與kernel/initrd→建立倉庫（HTTP）→撰寫Kickstart/Preseed。範例dhcp：
  dhcp-range=10.0.0.100,10.0.0.200,12h
  dhcp-boot=pxelinux.0
  enable-tftp
  tftp-root=/var/lib/tftpboot
  注意：隔離PXE VLAN避免誤裝；以校驗與簽章驗證映像；安裝後自動註冊監控與配置管理。
- 難度: 高級
- 學習階段: 進階
- 關聯概念: B-Q8, D-Q4, B-Q10

C-Q8: 如何規劃UPS容量與電力佈局？
- A簡: 依總負載與目標續航選UPS，佈署雙路PDU與ATS，並演練斷電。
- A詳: 步驟：盤點設備瓦數與功率因數→加上峰值與成長預留→選UPS（VA/拓撲/電池）→設計雙路供電與PDU回路→規劃ATS→標記插座→演練斷電切換。公式：UPS VA ≈ 總W/功率因數×裕量。注意：電池維護與溫度控制、接地與防雷、分離網路與電力走線、避免過載單一路徑。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q6, D-Q8, B-Q9

C-Q9: 如何制定切換與回復計畫（Runbook）？
- A簡: 明確步驟、責任與回退門檻，含驗收與通告節點，並事前演練。
- A詳: 步驟：定義目標與範疇→列前置條件（備份完成、公告發出）→詳細步驟（停機、拆運、重建、驗收、切換）→回退判斷與流程→通告節點→責任分工→風險與應對→檢核清單。提供時間標尺與觀察期要求。注意：至少一次模擬演練，現場打印備援；版本控管與會後回顧更新。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q11, B-Q14, D-Q7

C-Q10: 如何建立搬遷後的驗收與Smoke Test清單？
- A簡: 以關鍵指標與用例快速驗證電力、網路、服務與監控，決定上線或回退。
- A詳: 步驟：定義必過項（電力雙路/UPS切換、網路延遲/丟包閾值）→服務功能用例（登入、下單、API CRUD）→性能基準（p95延遲）→資料一致性→監控/告警與備份任務恢復→安全掃描。清單示例：PING/Traceroute、HTTP 200/503檢查、DB連線、日誌入庫、告警通道。注意：記錄結果與異常處置，為回退提供證據。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q12, D-Q5, D-Q6

### Q&A 類別 D: 問題解決類

D-Q1: ISP移機延遲怎麼辦？
- A簡: 啟動備援連線或暫時機房托管，調整時窗並即時通告與回復方案。
- A詳: 症狀：移機日未割接成功或帶寬未達。原因：外纜施工延誤、許可核發、資源衝突。解法：啟用行動/第二ISP備援、臨時托管/雲上跳板、延長維護時窗、調整DNS至備援IP、關閉非關鍵服務降載。預防：雙供應商、多路由冗餘、事前現勘與保留時窗、SLA條款與罰則。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q1, B-Q15, C-Q1

D-Q2: 已降TTL仍解析到舊IP怎麼處理？
- A簡: 清空快取、灰度雙記錄、監測各地解析，必要時聯繫ISP與CDN清快取。
- A詳: 症狀：部分用戶仍到舊站。原因：遞迴DNS不遵守TTL、客戶端/瀏覽器快取、CDN邊緣緩存。解法：灰度同時指向新舊IP、對CDN強制刷新、提示用戶清DNS/瀏覽器快取、監測dig +trace各地節點。預防：提前多輪降TTL、使用CNAME至可控層、與大ISP協調。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q2, C-Q3, B-Q12

D-Q3: 上架後伺服器溫度過高怎麼解？
- A簡: 優化風道與遮板、理線清潔、調整風扇與負載，必要時重分佈或加冷通道。
- A詳: 症狀：CPU/機箱溫度高、降頻或意外重啟。原因：氣流短路、遮板缺失、纜線阻風、灰塵、環境過熱。解法：補齊遮板、整理線材、調整風扇方向/曲線、分散熱源與U位、檢驗PDU熱點、增加冷通道與風擋。預防：上架前風道設計、定期除塵與環境監測、容量預留。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q7, B-Q9, C-Q6

D-Q4: 重裝後網路不起來或無法連線？
- A簡: 檢查驅動與介面命名、VLAN/防火牆與路由設定，對照Kickstart/Preseed。
- A詳: 症狀：無IP或無法通外網。原因：介面名稱變更、缺驅動、Netplan/systemd-networkd配置錯誤、VLAN未標記、DNS漏設。解法：ip a/ethtool檢查→安裝驅動/韌體→核對Netplan或ifcfg→設定VLAN/MTU→檢查防火牆→traceroute定位。預防：安裝腳本標準化、保存舊設定、變更前導出網路拓撲。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q8, C-Q7, C-Q2

D-Q5: 維護頁沒生效或被快取？
- A簡: 確認攔截條件、返回503與Retry-After，清除CDN快取與例外清單。
- A詳: 症狀：仍打到後端或看到舊頁。原因：條件判斷錯誤、未返回503、CDN快取靜態頁、監控IP未白名單。解法：檢查Nginx規則、強制503、設定Cache-Control: no-store、清除CDN、為監控開白名單或另一路徑。預防：演練維護切換、加入自動化檢查、統一模板。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: B-Q3, C-Q2, B-Q12

D-Q6: 佈線後網速慢或斷斷續續？
- A簡: 用測試儀驗證端接與對序，檢查彎曲半徑與干擾，必要時重端接。
- A詳: 症狀：高丟包、降速至百兆。原因：線序錯、壓接不良、超長距離、與電纜併行干擾、交換器自動協商失敗。解法：Fluke測試、重做端接、改走線距離與分層、固定速率與雙工、替換劣質線材。預防：遵標準端接與測試、標籤清晰、保留測試報告。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q5, C-Q5, B-Q12

D-Q7: 搬遷後發現資料遺失如何補救？
- A簡: 啟動還原演練流程，依RPO選擇還原點，評估一致性並通告影響。
- A詳: 症狀：缺資料或表不一致。原因：備份失敗、熱資料未同步、還原步驟錯漏。解法：停止寫入→依RPO選取最近可用備份/快照→在隔離環境驗證→還原至生產或回退→補償處理與通告。預防：3-2-1備份、定期還原演練、切換前凍結交易與最後快照、備份監控與告警。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q10, C-Q9, A-Q13

D-Q8: 供電不足或頻繁跳電怎麼辦？
- A簡: 降載分路、啟用UPS/ATS，短期移轉服務，長期升級容量與配電。
- A詳: 症狀：設備重啟、UPS告警。原因：容量評估不足、單路過載、功率因數低、接觸不良。解法：即刻降載、分路至雙PDU、檢查接地與端子、校正UPS設定、臨時遷移關鍵服務；長期升級電力容量與迴路。預防：容量冗餘、定檢電氣、演練斷電、上架前電力審核。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q6, C-Q8, B-Q14

D-Q9: 專案時程超時如何修正與溝通？
- A簡: 重估關鍵路徑與資源，調整範疇與時窗，透明通告並提供替代方案。
- A詳: 症狀：里程碑延遲、外部依賴走期。原因：低估工時、依賴延誤、突發問題。解法：用CPM重算關鍵路徑、投入增援、降範疇保核心、延長時窗或分階段上線、即時公告與新時間表。預防：保留緩衝、風險預案、每日站會、可視化看板與早警。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: B-Q13, B-Q15, C-Q4

D-Q10: 使用者抱怨停機過久如何回應？
- A簡: 同理並說明原因與改進，提供補償或替代路徑，承諾後續時程。
- A詳: 症狀：投訴與社群負評。原因：期待管理不足、通告不清、延誤。解法：第一時間同理並致歉→說明技術原因與風險→給出明確恢復時間或回退決策→提供替代服務或補償→事後發佈事後分析與改進項。預防：高品質公告、多頻回報、狀態頁即時更新與客服SOP。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q5, B-Q15, C-Q1

### 學習路徑索引
- 初學者：建議先學習哪 15 題
    - A-Q1: 什麼是「停機搬家」？
    - A-Q2: 為什麼搬家需要停機？
    - A-Q3: 停機與一般維護有何差異？
    - A-Q4: 什麼是電信「移機」？
    - A-Q5: 停機公告的核心價值是什麼？
    - A-Q11: 什麼是停機窗口（維護時窗）？
    - A-Q15: 為何需要預估上線日期並保留緩衝？
    - B-Q3: 維護頁的工作原理是什麼？
    - B-Q4: 打包與資產清單管理的原理？
    - B-Q13: 時間規劃與關鍵路徑法如何應用？
    - B-Q15: 溝通管理在停機搬家中的角色？
    - C-Q1: 如何撰寫一份有效的停機公告？
    - C-Q2: 如何用Nginx顯示維護頁與503？
    - D-Q5: 維護頁沒生效或被快取？
    - D-Q10: 使用者抱怨停機過久如何回應？
- 中級者：建議學習哪 20 題
    - A-Q6: 搬家流程包含哪些階段？
    - A-Q7: 什麼是佈線規劃？
    - A-Q8: 為何要更換伺服器機殼？
    - A-Q9: 為何搬遷時常安排作業系統重裝？
    - A-Q10: 什麼是機櫃上架？
    - A-Q14: 搬遷後的驗收標準有哪些？
    - B-Q1: 電信移機如何運作？
    - B-Q2: DNS TTL策略如何降低切換風險？
    - B-Q5: 網路佈線標準與色碼原理？
    - B-Q6: 供電、UPS與PDU如何確保不中斷？
    - B-Q9: 上架與機櫃氣流/空間設計原理？
    - B-Q10: 備份與恢復的可靠性原理？
    - B-Q11: 搬遷切換（Cutover）標準流程？
    - B-Q12: 搬遷中的監控與健康檢查原理？
    - B-Q14: 風險評估（FMEA）如何套用於搬遷？
    - C-Q3: 如何在搬遷前調整DNS TTL並切換？
    - C-Q4: 如何製作與維護搬遷資產清單？
    - C-Q5: 如何在新址完成網路佈線與標記？
    - C-Q10: 如何建立搬遷後的驗收與Smoke Test清單？
    - D-Q6: 佈線後網速慢或斷斷續續？
- 高級者：建議關注哪 15 題
    - A-Q12: 什麼是回復計畫（Rollback Plan）？
    - A-Q13: 什麼是RTO與RPO？
    - B-Q7: 機殼散熱與風道原理？
    - B-Q8: 自動化重裝系統的機制？
    - C-Q6: 如何更換伺服器機殼並上架到機櫃？
    - C-Q7: 如何用PXE自動化重裝Linux？
    - C-Q8: 如何規劃UPS容量與電力佈局？
    - C-Q9: 如何制定切換與回復計畫（Runbook）？
    - D-Q1: ISP移機延遲怎麼辦？
    - D-Q2: 已降TTL仍解析到舊IP怎麼處理？
    - D-Q3: 上架後伺服器溫度過高怎麼解？
    - D-Q4: 重裝後網路不起來或無法連線？
    - D-Q7: 搬遷後發現資料遺失如何補救？
    - D-Q8: 供電不足或頻繁跳電怎麼辦？
    - D-Q9: 專案時程超時如何修正與溝通？