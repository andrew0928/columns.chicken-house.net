# Pentium D 920, 早該換了 (Y)

## 摘要提示
- 雙處理器情結: 舊機以雙CPU主機板服役八年，對多工需求強烈，促成升級動機。
- 升級決策: 選擇Intel Pentium D 920與945P晶片組、2GB DDR2-533，取代原平台。
- 關鍵功能: 需求鎖定Dual Core、VT、EM64T；誤判EIST支援時程成小遺憾。
- 虛擬化需求: 因需跑Virtual Machine而放棄不支援VT的820，選920。
- 作業系統轉換: 部署Windows Server 2003 x64，兼容性考量調整Blog架構。
- 伺服器職責: Web、SMTP、檔案、VM、VPN/NAT、影音轉檔，精簡且明確。
- 64位元效益: 相關元件有x64版，體感較32位元快，心理因素亦有加成。
- 網路瓶頸顯現: 升級後首次把100M網路塞滿，預告下一步升級GBE。
- 效能佐證: 張貼CPU與系統資訊截圖，自我驗證新平台實力。
- 升級反思: 從硬體到軟體的全套更新，針對工作負載做務實選擇。

## 全文重點
作者回顧八年前朋友贊助的P2B-DS雙CPU主機板，因能長期支撐多工背景工作而服役至今，展現對多核心/多處理器的偏好。隨雙核處理器價格可接受，最終在過年前決定以Intel Pentium D 920為核心升級，搭配945P晶片組與2GB DDR2-533。促成換機的關鍵並非僅雙核，而是多項必要特性：Dual Core以因應多工、Intel VT滿足虛擬化、EM64T支援64位元環境；惟當時920尚未支援Enhanced SpeedStep（需2006年Q2以後版本），成為唯一遺珠。作者因需大量使用虛擬機器，捨棄不支援VT的820，並在新平台上改裝Windows Server 2003 x64。原本的Blog架構出於相容性在2003 x64只能以32位元模式執行，因此也順勢更換。升級後伺服器職責明確且集中：只跑ASP.NET 2.0的Web、SMTP、檔案、虛擬機、VPN與NAT，以及DV/DC影片壓製成WMV等。這些工作負載皆有64位元版可用，實際體感比32位元更順暢，雖然作者自嘲心理作用佔比不小。效能提升亦反映在網路吞吐上，100Mbps網路生涯首次被塞爆，促使考慮升級至Gigabit Ethernet。文章最後貼出多張CPU與系統資訊截圖，作為升級紀念與性能驗證，整體對新平台表現相當滿意。

## 段落重點
### 升級背景與多工偏好
作者回顧使用八年的P2B-DS雙CPU主機板，強調自己不喜歡讓電腦閒置，長期以多任務背景工作填滿伺服器，使「兩顆CPU」始終具備高吸引力。這份多工情結使舊機雖老仍堪用，但也讓他對雙核時代充滿期待。隨著雙核CPU價格走向可負擔區間，升級時機成熟，舊平台的榮耀也告一段落。

### 選擇Pentium D 920的理由
在考慮820與920之間，作者最終毫不猶豫選擇920，搭配945P與2GB DDR2-533。關鍵需求包含Dual Core以對應多工、VT虛擬化能力、EM64T的64位元支援；唯一失誤是誤以為920已支援Enhanced SpeedStep，實際需等2006年Q2後的批次。整體而言，920較820在虛擬化能力上的支援是拍板升級的決定性因素。

### 系統與軟體架構轉換
新機上部署Windows Server 2003 x64，以發揮EM64T優勢。原有Blog在2003 x64僅能以32位元模式運作，因相容性因素被替換。選擇x64的主因在於讓系統與服務能利用更寬的暫存器與記憶體管理機制，同時為未來擴充留空間。即使部分應用仍以32位元方式運行，整體運維方向已明確轉向64位元。

### 伺服器工作負載與64位元效益
升級後的伺服器僅承擔幾項核心任務：ASP.NET 2.0的Web服務、SMTP、檔案分享、虛擬機、VPN與NAT，以及DV/DC影片轉WMV的編碼。這些工作均可取得64位元版本，實際使用感受較32位元順暢，尤其在多工與影片轉檔情境更具體感。作者雖自嘲可能有心理加成，但整體流暢度與反應性提升仍相當明顯，也驗證了雙核與x64在其工作負載上的契合度。

### 網路瓶頸顯現與後續規劃
硬體升級帶動整體效率提升，網路吞吐首次把100Mbps塞滿並貼圖留念，反映資料傳輸與服務能力的上限開始由網路而非主機效能決定。為避免網路成為新瓶頸，作者計畫下一步升級至Gigabit Ethernet，讓新平台的運算與I/O優勢能被完整釋放。同時張貼CPU與系統資訊截圖，作為此次升級的佐證與紀錄，對成果感到滿意與期待。

## 資訊整理

### 知識架構圖
1. 前置知識：
   - 基本電腦硬體組成（CPU、主機板晶片組、記憶體、網路卡）
   - x86 架構與 32/64 位元差異
   - 虛擬化基礎（VT-x 的作用與限制）
   - Windows Server 版本與相容性（x86 vs x64、IIS/ASP.NET 執行模式）

2. 核心概念：
   - 雙核心與多工：以單機多工負載（Web/VM/編碼）提升效能與回應度
   - 虛擬化技術（Intel VT）：以硬體輔助降低虛擬化開銷，提升 VM 穩定度與相容性
   - 64 位元平台（EM64T）：更大的記憶體空間與潛在效能增益，但需注意軟體/驅動相容
   - 系統角色整合：一台伺服器承載多角色（Web、SMTP、檔案、VM、VPN/NAT、影音轉檔）
   - 瓶頸轉移：CPU/平台升級後網路從 100M 變成主要瓶頸，需升級至 Gigabit

3. 技術依賴：
   - CPU 功能依賴：VT、EM64T 必須由 CPU 支援；EIST 需特定步進版（2006 Q2 後）才有
   - 晶片組與記憶體：945P 晶片組對 DDR2-533 的支援與相容性
   - 作業系統與應用：Windows Server 2003 x64 需 64 位元驅動；部分應用需以 32 位元模式執行
   - 虛擬化堆疊：硬體 VT → BIOS 開啟 → OS/Hypervisor 支援 → 客體系統相容
   - 網路效能：服務負載提升後，需搭配 Gigabit NIC/交換器與線材以消除瓶頸

4. 應用場景：
   - 中小型自架伺服器整合多服務（網站、郵件、檔案分享、VPN/NAT）
   - 需要同時進行背景批次任務（影音轉檔）與線上服務的情境
   - 以虛擬機隔離服務/測試環境，兼顧資源使用率與維運彈性
   - 從舊雙 CPU 平台遷移至雙核心 64 位元平台的成本效益升級

### 學習路徑建議
1. 入門者路徑：
   - 了解雙核心與雙 CPU 的差異與效能影響
   - 認識 VT 與 64 位元（EM64T）基礎概念、驅動與軟體相容性
   - 學會在 BIOS 檢查/開啟 VT、規劃基本伺服器角色（Web/檔案/SMTP）

2. 進階者路徑：
   - 建置 Windows Server x64，評估服務以 64 位元或 32 位元模式運行
   - 部署虛擬機並進行多角色整合，觀測資源使用與隔離策略
   - 進行效能瓶頸分析（CPU/記憶體/磁碟/網路），規劃網路升級至 Gigabit

3. 實戰路徑：
   - 以雙核心 CPU（具 VT/EM64T）+ 945P 等級晶片組搭配 DDR2 記憶體組裝
   - 安裝 Windows Server 2003 x64，配置 IIS/ASP.NET 2.0、SMTP、檔案分享、VPN/NAT
   - 佈署 VM 工作負載與影音轉檔流程，監控流量並評估升級 Gigabit 網路

### 關鍵要點清單
- 雙核心 vs 雙 CPU：雙核心能有效支援多工作業，成本/能效佳（優先級: 高）
- Intel VT（虛擬化技術）：硬體輔助虛擬化可提升 VM 效能與相容性（優先級: 高）
- EM64T（x86-64）：支援 64 位元 OS/應用，改善記憶體可用性與效能潛力（優先級: 高）
- EIST 支援差異：Pentium D 920 需特定出貨時程/步進才有 EIST，購買前須確認（優先級: 中）
- 晶片組相容性（945P）：確保對 CPU、記憶體與 I/O 的支援穩定（優先級: 中）
- 記憶體配置（DDR2-533 2GB）：為多角色伺服器與 VM 提供基本容量（優先級: 中）
- Windows Server 2003 x64：安裝驅動與服務，並評估部分應用需 32 位元模式（優先級: 高）
- 服務整合部署：Web（ASP.NET 2.0）、SMTP、檔案、VPN/NAT、VM、影音轉檔（優先級: 高）
- 相容性與模式選擇：在 x64 環境下評估 32 位元運行的必要性（優先級: 高）
- 網路瓶頸與升級：100M 易被塞爆，需規劃升級至 Gigabit Ethernet（優先級: 高）
- 驅動與生態支援：x64 平台需完整驅動與軟體支援以發揮效能（優先級: 高）
- 效能評估心法：主觀感受需搭配指標（CPU/網路/磁碟）與量測工具驗證（優先級: 中）
- 背景批次與即時服務並行：多核心利於同時跑轉檔與 Web/VM（優先級: 中）
- BIOS 設定檢核：確認 VT 與電源管理選項正確啟用（優先級: 中）
- 升級策略：由 CPU/平台升級引發的次級瓶頸（網路/IO）需連動規劃（優先級: 中）