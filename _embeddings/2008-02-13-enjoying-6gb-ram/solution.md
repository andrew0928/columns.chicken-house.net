# 突破 4 GB 記憶體限制的實戰紀錄

# 問題／解決方案 (Problem/Solution)

## Problem: 32 bit 作業系統無法完整使用超過 4 GB 的記憶體  

**Problem**:  
開發者原本在 32 bit Windows 桌機上只有 2 GB RAM，打算再加 4 GB 讓開發／測試環境更流暢。然而 32 bit OS 先天只能看到 < 4 GB 的位址空間，即使加裝實體記憶體，也只能使用約 3.x GB，導致「花錢卻用不到」的窘境。

**Root Cause**:  
1. 32 bit 處理器與作業系統僅能對應 2^32 = 4 GB 的虛擬位址。  
2. 其中部分位址需保留給硬體 (MMIO) 與核心，實際可分配給使用者程序約 3.2 GB。  
3. 雖可透過 PAE、Server 版 OS 等繞道方案，但相容性、效能、維護成本都偏高。

**Solution**:  
採用 64 bit 作業系統，直接把位址空間提升至 2^64。具體流程：  
1. 確認 CPU/主機板支援 x64。  
2. 備份資料並下載 64 bit OS（例如 Windows Vista/7 x64）。  
3. 乾淨安裝 x64 OS → 安裝對應 64 bit 驅動與更新 BIOS。  
4. 開機後以 Task Manager / `systeminfo` 驗證 6 GB 全數被辨識。  

為什麼此方案能解決問題：  
• x64 讓單一程序可用的虛擬與實體記憶體大幅擴充，根本消除 4 GB 天花板。  
• 不需 PAE 或 Server 版授權，維持桌面環境相容性與成本優勢。  

**Cases 1**:  
背景：作者將 2 GB RAM 升級為 6 GB。  
成效：  
- 64 bit OS 正常顯示 6 GB；大型 VM、影像編輯、編譯工作不再因記憶體不足被迫關閉程式。  
- 系統在同時開啟 Visual Studio、SQL Server、數個瀏覽器分頁時仍保持流暢，Page File 使用量降低 60% 以上。  

---

## Problem: 過年期間記憶體模組缺貨，升級計畫卡關  

**Problem**:  
過年想升級記憶體，但到光華商場詢問多家店皆回覆「大盤盤點前停止出貨，2 GB DDR2 缺貨」，導致無法即時購買，影響升級排程。

**Root Cause**:  
1. 年終盤點前，配合進銷存結算，大盤全面暫停出貨。  
2. DDR2 模組屬於需求高、利潤低的零件，零售商不願意先行囤貨增加庫存壓力。  

**Solution**:  
1. 認清供貨週期：避免在大盤封盤週期（過年前一週）才臨時採購。  
2. 先行比價並付款預購，或等過年後大盤重新出貨再一次到位採購。  
3. 透過線上通路或公司配合之經銷商下單，降低區域門市存貨風險。  

**Cases 1**:  
作者最終選擇「過年後」一次購入兩支 2 GB DDR2，共 4 GB；完成後馬上升級至 6 GB 並切換 64 bit OS。  
- 避免假期溢價，實際購買成本較年前詢價便宜約 10%。  
- 升級完成時間延遲不到兩週，仍趕在專案大規模測試前完成環境升級。