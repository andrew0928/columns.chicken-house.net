# 個人檔案 + 版本控制...

## 摘要提示
- 問題背景: 多機環境與行動工作導致個人檔案版本管理與備份需求大增
- 版本控制思維: 不只程式碼，日常文件也面臨 branch/merge 與版本追蹤需求
- VSS（SourceSafe）: 嚴格鎖定與網路效能不佳，對個人檔案過度笨重
- VSS（Volume Shadow Copy）: 檔案系統層級自動快照，版本不精確且難註記
- TFS: 架構與工具太肥重，個人用途成本過高
- PortableApps: 行動便利但備份、版本與耐用性仍是痛點
- USB + SVN: 將工作目錄放在隨身碟，彈性編修後再 commit，兩全其美
- SVN操作模式: 先改後合併、減少鎖定，符合個人與分散協作情境
- 檔案隨目錄設定: TortoiseSVN 將設定隨 .svn 目錄走，適合多機/變動磁碟代號
- 異地存取: VisualSVN 提供 Web 與多協定，忘帶隨身碟仍可存取

## 全文重點
作者在更換伺服器與筆電後，面臨多台電腦與行動簡報的工作情境，開始反思個人檔案如何有效進行版本管理與備份。雖然版本控制常見於軟體開發，但實際上日常文件、簡報面對針對不同客戶的修改，亦屬於 branch/merge 類型問題。作者歷經多種方案：VSS（SourceSafe）雖易上手、架設簡單，但嚴格的 check-out/lock 流程對個人文件過於繁瑣，且遠端效能不佳；Windows 的 VSS（Volume Shadow Copy）在檔案系統層級自動做快照，對一般使用很直覺，但版本點不精確、難以針對單檔註記與回復、也無法選擇性納管；TFS 則太肥重，個人使用不具成本效益。以 PortableApps 為核心的 USB 行動環境解決了跨機使用問題，卻仍受限於備份、速度與耐用性。最終作者採用「USB DISK + SVN」：日常直接在 USB 上編修，事後於有網路處 commit 到 SVN 儲存庫，既保留精確版本與註記，也保有離線工作的自由。

作者進一步總結選用 SVN 的四個關鍵理由。其一，SVN 源自開放原始碼的分散協作情境，採「先改後合併」模式，降低 lock 流程對思緒與效率的干擾，尤其對個人使用幾乎無衝突。其二，搭配 TortoiseSVN，伺服器與版本資訊隨目錄中的 .svn 設定走，天然適合 USB 在多台電腦、不同磁碟代號間切換的情境。其三，SVN 讓「備份」與「歸檔」合一：每次 commit 都形成可註記、可差異比對、可選擇性還原的版本，比純粹快照或 ZIP 備份更精確、也更實用；再疊加系統快照或 ZIP，即可形成雙層保護。其四，VisualSVN Server 提供簡易 Web 介面與多協定支援，臨時忘了帶隨身碟也能從遠端調閱，且效能與便利性優於 VSS 的檔案分享模式。整體而言，此方案兼顧行動力、版本精確度與備援彈性，適合個人與小型團隊參考採用。

## 段落重點
### 導言：從換機到尋找個人版本控管解方
作者在更換伺服器（Windows Server 2008 + Hyper-V）與筆電（X40 + SSD）後，工作環境變為多機並需要經常攜帶簡報外出。日常文件常因應不同客戶而反覆改版，等同「分支/合併」問題，因此開始評估適合個人使用的版本管理與備份方案。焦點從傳統開發工具轉向能支援日常文件、簡報且符合行動需求的輕量化做法。

### 歷來嘗試的方案概覽
作者依序嘗試 VSS（SourceSafe）、Windows VSS（Volume Shadow Copy Service）、TFS、USB + PortableApps，最後定案為 USB + SVN。嘗試過程的核心評估點包括：是否影響編修流程、能否離線工作、跨機移動的便利性、版本點的精確與可註記性、遠端存取效能，以及備份與還原的實務成本。結論是傳統開發導向工具過於肥重或流程繁瑣，純備份工具又缺乏版本維度，需以版本控制作為第一層歸檔，備份作為第二層保護。

### 方案一：VSS（Microsoft Visual SourceSafe）
優點在於邏輯簡單、File-based 架設容易，對開發團隊能嚴格控制 check-out/lock、避免衝突。然而對個人檔案使用過度沉重：每次修改必須先 check-out，閱讀中臨時想修改需重開應用程式，打斷思路；遠端使用透過網路/Internet/VPN 的效能低落，即使有 LAN Boost 與 Web 介面仍不理想。結論：團隊軟體開發尚可，個人文件管理體驗不佳。

### 方案二：VSS（Windows Volume Shadow Copy Service）
在檔案系統層級以 Copy-on-Write 實作快照，對使用者透明，不需改變習慣；一般情境足以當成第二層保護。然而版本點由排程自動生成，精確性不足、無法針對單檔版本註記或精準回復；也無選擇性納管的能力。雖簡單好用，但缺乏「版本意義」與差異調閱，難以滿足細緻的版本管理需求。

### 方案三：TFS（Team Foundation Server）
功能完整但對個人用途顯著過重。伺服器端需 IIS、SQL（含 Reporting）、SharePoint、AD 等多元组件，客戶端多綁定 Visual Studio；以個人檔案管理為目標，建置與操作成本均不合理。作者僅評估後放棄實裝。

### 方案四：USB DISK + PortableApps
將應用與資料一併放入隨身碟，插上任一電腦即可近似專屬環境，對於在公司、家裡與外出簡報的跨機需求很便利。但面臨資料遺失、備份例行負擔、讀寫速度與快閃記憶體壽命等問題；以每日 ZIP 方式進行版本保全過於辛苦，版本識別與檔案差異追溯效率低。

### 方案五：USB DISK + SVN（現行做法）
以 USB 為工作目錄，隨時離線編修；回到有網路的環境後再 commit 至 SVN 儲存庫。相較於以 VSS 指向 USB 的作法，SVN 支援「先改後合併」，不需事先 check-out，不打斷編修流程；多協定支援也讓跨網路環境的效能可接受。此組合兼顧行動彈性與版本精確度，是作者最終選擇。

### 為何選擇 SVN：操作邏輯合適
SVN 承襲 CVS，面向分散、非同步的開源協作；以「先改後合併」降低鎖定阻力。對個人或低衝突情境，幾乎不會遇到同檔同段落的編輯衝突；即使發生，後提交者處理合併即可。相較 VSS 的「先鎖再改」，SVN 不會在臨時修訂或離線修改時打斷思緒，特別適合簡報、文件在外即時調整後再回公司提交版本的流程。

### 為何選擇 SVN：伺服器資訊隨目錄走
使用 TortoiseSVN 時，版本與伺服器設定存於各目錄的 .svn/_svn 中，右鍵即可取得對應設定。這對 USB 在不同電腦與變動磁碟代號間的切換尤為友善；相較 TFS 的 workspace 綁定在工具端、需多機一致設定，SVN 的「設定隨目錄」避免了跨機環境的摩擦。

### 為何選擇 SVN：更精確且有效率的「備份」
一般隨身碟備份工具多為全盤備份或差異壓縮，復原與調閱粒度粗、手續繁。SVN 的每次 commit 同時是可註記、可比對、可選擇性回復的版本點，滿足「歸檔」與「備份」的雙重需求；將 SVN 作為第一線版本庫，再疊加系統快照或 ZIP 作第二層保護，即可兼顧安全與效率。

### 為何選擇 SVN：異地存取更彈性
隨身碟易遺忘時，VisualSVN Server 提供簡易 Web 介面與多協定連線，可遠端下載或進行基本操作。與以檔案分享為基礎、遠端效能糟糕的 VSS 相比，SVN 在網路環境下更穩定、順暢，符合行動工作者需求。

### 結語與建議
統整上述需求與嘗試，USB + SVN 兼顧行動力、版本精確度、註記與差異比對能力，以及異地調閱的可行性；再輔以系統層快照或 ZIP 作為第二層備份，即可形成實用、可靠的個人檔案管理方案。家中若有常駐伺服器，建置更為容易。此作法值得個人與小型團隊試行；歡迎依自身情境調整並分享心得。

## 資訊整理

### 知識架構圖
1. 前置知識：學習本主題前需要掌握什麼？
- 了解版本控制的基本概念（Repository、Working Copy、Commit、Update、Revert）
- 鎖定式 vs 樂觀式併發（Lock/Check-out vs Edit-Merge）
- 基本檔案備份觀念（Full/Incremental/Differential）
- 基本網路與存取協定概念（本機檔案系統、HTTP/HTTPS、SVN 協定）

2. 核心概念：本文的 3-5 個核心概念及其關係
- 版本控制策略：VSS 的鎖定式 vs SVN 的先改後合併（樂觀式）→ 影響個人文件的使用流暢度
- 備份 vs 歸檔：備份解決災難復原；版本控制解決歷史追溯與差異比對 → 可疊加形成雙保護
- 可攜工作環境：USB Disk + 可攜工具/工作目錄 → 多機切換與離線編輯，回到線上再 Commit
- 配置綁定位置：工作目錄內 .svn 設定隨資料走 vs 工具層 Workspace 綁定 → 影響多機使用便利度
- 遠端/異地存取：SVN Server + Web/Client → 忘帶隨身碟或外出時仍可取用或操作

3. 技術依賴：相關技術之間的依賴關係
- SVN 客戶端（TortoiseSVN）依賴：工作目錄中的 .svn 資料夾保存版本資訊與伺服器連線設定
- SVN 伺服器（VisualSVN Server 或其他）提供 Repo、認證、協定（HTTP/HTTPS/SVN）
- USB Disk 作為 Working Copy 的存放介質；可搭配 PortableApps 但非必要
- 額外備份機制：Windows VSS（Volume Shadow Copy Service）或定期 ZIP 作為第二層保護
- 網路環境影響遠端操作效能與存取方式（VSS 依賴檔案分享效能差；SVN 支援網路協定效能佳）

4. 應用場景：適用於哪些實際場景？
- 個人文件（Word/PPT）多版本維護、針對不同客戶的版本分歧與合併
- 多裝置/多地點工作（公司 PC、家用 PC、Notebook 外出簡報）
- 離線工作（會議中修改），回到線上再 Commit
- 忘帶隨身碟需臨時從網路取回檔案
- 需要對每次修改加註解、追溯差異、精確還原特定檔案版本

### 學習路徑建議
1. 入門者路徑：零基礎如何開始？
- 理解版本控制基本術語與流程（Working Copy/Commit/Update/Revert）
- 安裝 TortoiseSVN（Client），熟悉檔案總管右鍵操作
- 建立或連線到一個簡單的 SVN Repository（可用 VisualSVN Server 或現成雲端）
- 在 USB Disk 上 Checkout 為 Working Copy；練習新增/修改檔案並 Commit、瀏覽歷史與差異
- 建立基本備份習慣（例如每週 ZIP 或啟用 Windows VSS 當第二層保護）

2. 進階者路徑：已有基礎如何深化？
- 學習 Branch/Merge 流程，針對不同客戶版本運用分支策略
- 設定 SVN Server 的存取控制（帳號、權限、協定），與備份還原策略（Repository Dump/Hotcopy）
- 瞭解 .svn 結構與屬性（svn:ignore 等），提升日常操作效率
- 優化跨裝置使用：一致的資料夾結構、相對路徑、USB 代號策略
- 觀察效能因素（網路延遲、傳輸協定），並調整使用習慣（批次 Commit、合理訊息）

3. 實戰路徑：如何應用到實際專案？
- 以「USB Disk = Working Copy、家中/公司 Server = Repository」部署完整流程
- 制定文件命名與 Commit Message 規範（含客戶/會議/日期/變更摘要）
- 建立週期性 Repo 備份（Server 端），並於客戶端保留 ZIP/VSS 快照作雙重保護
- 在外簡報/開會的離線修改，回到線上立即 Update/Resolve/Commit
- 使用 Web 介面（VisualSVN Web）當作緊急異地取檔方案

### 關鍵要點清單
- 鎖定式版本控制（VSS/Check-out）：修改前需鎖定，降低衝突但不利個人文件流暢編修（優先級: 中）
- 樂觀式版本控制（SVN/Edit-Merge）：允許先編修後合併，對個人與分散協作更順手（優先級: 高）
- Working Copy 與 Repository：本地工作目錄對應遠端版本庫，透過 Commit/Update 同步（優先級: 高）
- .svn 目錄攜帶設定：設定隨資料夾走，利於 USB 多機切換（優先級: 高）
- 備份 vs 版本控制：備份做災難復原，版本控制做歷史追溯與差異比對，可疊加使用（優先級: 高）
- Windows VSS（Volume Shadow Copy）：快照自動但版本精度低，不利精確回溯（優先級: 中）
- 版本註解與差異比對：Commit 時撰寫訊息，後續可快速查找與比對變更（優先級: 高）
- 異地與網路協定支援：SVN 支援 HTTP/S 等，遠端效能與可用性優於純檔案分享（優先級: 中）
- 離線編修後提交：外出可先改檔，返線後再 Commit，維持工作不中斷（優先級: 高）
- USB 作業風險與對策：遺失/毀損風險以伺服器 Repo 與定期 ZIP 作雙重保護（優先級: 高）
- TFS 過度重量級：對個人與小型應用成本高、依賴多元元件（IIS/SQL/AD 等）（優先級: 低）
- VSS 網路效能問題：透過檔案分享或增強機制仍常表現不佳（優先級: 中）
- Branch/Merge 對文件版本：對不同客戶版本管理有用，但需良好規範與命名（優先級: 中）
- 工具選擇與易用性：TortoiseSVN 右鍵整合、VisualSVN Server Web 介面降低使用門檻（優先級: 高）
- Commit 習慣與訊息規範：小步快跑、訊息清楚可追溯，提升長期維運品質（優先級: 高）