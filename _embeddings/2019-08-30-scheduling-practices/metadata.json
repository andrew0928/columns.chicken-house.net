{
  "title": "\u5F8C\u7AEF\u5DE5\u7A0B\u5E2B\u5FC5\u5099: \u6392\u7A0B\u4EFB\u52D9\u7684\u8655\u7406\u6A5F\u5236\u7DF4\u7FD2 (12/01 \u88DC\u5B8C)",
  "published": true,
  "categories": null,
  "tags": [
    "\u7CFB\u5217\u6587\u7AE0",
    "\u67B6\u69CB\u5E2B",
    "Practices"
  ],
  "tech-stacks": [
    "C#",
    ".NET Core",
    ".NET Generic Host",
    "BackgroundService",
    "Microsoft SQL Server",
    "SQL Server LocalDB",
    "SQL Server Notification Services",
    "Dapper",
    "Windows Service",
    "systemd",
    "Linux",
    "Windows",
    "Thread",
    "ThreadPool",
    "Task Parallel Library (TPL)",
    "BlockingCollection",
    "Channel",
    "Semaphore",
    "async/await",
    "Container"
  ],
  "keywords": [
    "\u6392\u7A0B",
    "\u6392\u7A0B\u4EFB\u52D9",
    "scheduling",
    "\u8CC7\u6599\u5EAB",
    "\u8F2A\u8A62",
    "polling",
    "\u9AD8\u53EF\u7528",
    "HA",
    "\u5206\u6563\u5F0F",
    "message queue",
    "worker",
    "SQL Server",
    "LocalDB",
    "Dapper",
    ".NET Core",
    "Generic Host",
    "BackgroundService",
    "\u591A\u57F7\u884C\u7DD2",
    "AcquireJobLock",
    "GetReadyJobs",
    "ProcessLockedJob",
    "MinPrepareTime",
    "MaxDelayTime",
    "\u5EF6\u9072",
    "\u7CBE\u78BA\u5EA6",
    "\u6210\u672C\u5206\u6578",
    "COST_SCORE",
    "EFFICIENT_SCORE",
    "HATEST",
    "Job",
    "RunAt",
    "ExecuteAt",
    "State",
    "DevOpsDays",
    ".NET Conf",
    "Windows Service",
    "systemd",
    "container"
  ],
  "generator": "BlogIndex.SyncPost v0.3.0.0, gpt-5",
  "references": [
    "/2019/07/06/pipeline-practices/",
    "https://github.com/andrew0928/SchedulingPractice",
    "https://en.wikipedia.org/wiki/SQL_Server_Notification_Services",
    "https://github.com/andrew0928/SchedulingPractice/blob/master/database.txt",
    "https://www.hanselman.com/blog/dotnetNewWorkerWindowsServicesOrLinuxSystemdServicesInNETCore.aspx",
    "https://github.com/acetaxxxx",
    "https://github.com/toyo0103",
    "https://github.com/jwchen-dev",
    "https://github.com/levichen",
    "https://github.com/borischin",
    "https://github.com/Julian-Chu",
    "https://github.com/andy19900208",
    "https://www.facebook.com/andrew.blog.0928/posts/951059661935979",
    "https://www.facebook.com/andrew.blog.0928/posts/968019290240016",
    "/images/2019-08-30-scheduling-practices/2019-08-31-14-19-43.jpg",
    "/images/2019-08-30-scheduling-practices/2019-08-31-17-18-53.png",
    "/images/2019-08-30-scheduling-practices/2019-08-31-17-20-58.png",
    "/images/2019-08-30-scheduling-practices/2019-08-31-17-21-39.png",
    "/images/2019-08-30-scheduling-practices/2019-08-31-17-22-02.png",
    "/images/2019-08-30-scheduling-practices/2019-08-31-17-22-22.png",
    "/images/2019-08-30-scheduling-practices/2019-12-09-23-25-45.png",
    "/wp-content/images/2019-08-30-scheduling-practices/statistics-fixed.xlsx",
    "/images/2019-08-30-scheduling-practices/2019-12-09-23-38-15.png",
    "/images/2019-08-30-scheduling-practices/2019-12-09-23-51-19.png",
    "/images/2019-08-30-scheduling-practices/2019-12-09-23-57-27.png",
    "/images/2019-08-30-scheduling-practices/2019-12-10-00-03-31.png",
    "/images/2019-08-30-scheduling-practices/2019-12-10-00-19-32.png",
    "/images/2019-08-30-scheduling-practices/2019-12-10-00-20-08.png",
    "/images/2019-08-30-scheduling-practices/2019-12-10-00-21-00.png",
    "/images/2019-08-30-scheduling-practices/2019-12-10-00-21-49.png",
    "/images/2019-08-30-scheduling-practices/2019-12-10-00-22-27.png"
  ],
  "summary": "\u9019\u7BC7\u4E5F\u662F\u500B\u7DF4\u7FD2\u984C\uFF0C\u9019\u6B21\u63DB\u500B\u5BE6\u969B\u4E00\u9EDE\u7684\u4E3B\u984C\uFF0C\u0022\u6392\u7A0B\u4EFB\u52D9\u0022 \u7684\u8655\u7406\u6A5F\u5236\u3002\n\n![](/images/2019-08-30-scheduling-practices/2019-08-31-14-19-43.jpg)\n\n\n\u5F8C\u7AEF\u670D\u52D9\u505A\u4E45\u4E86\uFF0C\u4E00\u5B9A\u6709\u78B0\u904E\u9019\u985E\u9700\u6C42: \u4F7F\u7528\u8005\u60F3\u8981\u9810\u7D04\u7DB2\u7AD9\u5728\u67D0\u500B\u6307\u5B9A\u7684\u6642\u9593\u9EDE\u57F7\u884C\u9810\u5148\u6392\u5B9A\u7684\u5DE5\u4F5C\u3002\u4E0D\u904E\uFF0CWeb Application \u5148\u5929\u7684\u6846\u67B6\uFF0C\u5C31\u90FD\u662F Request / Response \u7684\u88AB\u52D5\u8655\u7406\u6A21\u5F0F\uFF0C\u6709 Request, \u624D\u6709 Response... \u9019\u6A21\u5F0F\u5148\u5929\u5C31\u4E0D\u64C5\u9577\u8655\u7406\u9810\u5148\u6392\u5B9A\u6642\u9593\u57F7\u884C\u7684\u4EFB\u52D9\u3002\u56E0\u6B64\u9019\u985E\u9700\u6C42\uFF0C\u901A\u5E38\u90FD\u5FC5\u9808\u53E6\u5916\u8655\u7406\u3002\u96D6\u7136\u6709\u4E0D\u5C11\u73FE\u6210\u7684\u5957\u4EF6\u6216\u662F\u670D\u52D9\u53EF\u4EE5\u89E3\u6C7A\uFF0C\u4E0D\u904E\u6211\u9084\u883B\u671F\u5F85\u5DE5\u7A0B\u5E2B\u90FD\u80FD\u601D\u8003\u770B\u770B\uFF0C\u5982\u679C\u6211\u627E\u4E0D\u5230\u5408\u9069\u7684\u5957\u4EF6\uFF0C\u5FC5\u9808\u81EA\u5DF1\u8655\u7406\u6642\uFF0C\u6211\u77E5\u9053\u8A72\u600E\u9EBC\u505A\u55CE?\n\n\u5225\u8AA4\u6703\u6211\u4E0D\u662F\u8981\u5927\u5BB6\u4E1F\u6389\u73FE\u6210\u7684\u670D\u52D9\uFF0C\u5168\u90E8\u90FD\u81EA\u5DF1\u9020\u8F2A\u5B50...\uFF0C\u4F46\u662F\u73FE\u5BE6\u72C0\u6CC1\u7684\u78BA\u4E0D\u662F\u6BCF\u500B\u60C5\u5883\u90FD\u5B8C\u5168\u9069\u7528\u7684\uFF0C\u9019\u500B\u7DF4\u7FD2\u5C31\u662F\u8B93\u4F60\u5148\u505A\u597D\u6E96\u5099\uFF0C\u6709\u5FC5\u8981\u6642\u5C31\u6709\u80FD\u529B\u81EA\u5DF1\u6253\u9020\u3002\u7576\u4F60\u80FD\u7406\u89E3\u80CC\u5F8C\u7684\u8A2D\u8A08\u6642\uFF0C\u4F60\u4E5F\u540C\u6642\u6709\u80FD\u529B\u66F4\u7CBE\u6E96\u7684\u8A55\u4F30\u73FE\u6709\u65B9\u6848\u7684\u597D\u58DE\u3002\u64C1\u6709\u9019\u80FD\u529B\uFF0C\u4F60\u4E5F\u958B\u59CB\u6709\u6A5F\u6703\u505A\u5230\u66F4\u597D\u7684\u6574\u5408\u6027\u3002\u7576\u4F60\u5FC5\u9808\u5728\u65E2\u6709\u7684\u7CFB\u7D71\u9650\u5236\u4E0B\u5BE6\u505A\u9019\u529F\u80FD\uFF0C\u53C8\u4E0D\u60F3\u589E\u52A0\u592A\u591A\u4E0D\u5FC5\u8981\u7684\u76F8\u4F9D\u59D3\uFF0C\u6216\u662F\u66F4\u52D5\u65E2\u6709\u7684\u7CFB\u7D71\u67B6\u69CB\uFF0C\u90FD\u662F\u904B\u7528\u7684\u597D\u6642\u6A5F\u3002\n\n\u5982\u679C\u4E0D\u8003\u616E \u0022\u9810\u7D04\u0022 \u9019\u56E0\u7D20\uFF0C\u5176\u5BE6\u9019\u554F\u984C\u5F88\u7C21\u55AE\u554A\uFF0C\u7528 message queue \u642D\u914D worker(s) \u5C31\u89E3\u6C7A\u4E86\uFF0C\u4F46\u662F message queue \u90FD\u662F\u4E00\u77AC\u9593\u7684\u4E8B\u60C5, \u9810\u7D04\u4E00\u5C0F\u6642\u5F8C\u624D\u8981\u57F7\u884C\u7684\u4EFB\u52D9\uFF0C\u4E1F\u5230 queue \u7136\u5F8C\u518D\u8B93\u5B83\u4F54\u500B\u4F4D\u5B50\u7B49\u4E00\u5C0F\u6642\u624D\u6D88\u5316\uFF0C\u5BE6\u5728\u4E0D\u662F\u500B\u597D\u4E3B\u610F\u3002\u65BC\u662F\u6211\u5C31\u628A\u9019\u4E3B\u984C\u7C21\u5316\u4E00\u4E0B:\n\n\u003E \u5728\u8CC7\u6599\u5EAB\u5167\u7DAD\u8B77\u6392\u5B9A\u5DE5\u4F5C\u7684\u6642\u7A0B\u8868, \u4F60\u7684\u89E3\u6C7A\u65B9\u6848\u53EA\u80FD\u7528 pooling \u8F2A\u8A62\u7684\u65B9\u5F0F, \u5728\u6307\u5B9A\u7684\u6642\u9593\u555F\u52D5\u5DE5\u4F5C\u3002\u9700\u8981\u540C\u6642\u89E3\u6C7A\u9AD8\u53EF\u7528\uFF0C\u4EE5\u53CA\u964D\u4F4E\u8F2A\u8A62\u5C0D\u65BC DB \u7684\u6548\u80FD\u8CA0\u64D4\u3002\n\n\u9019\u7DF4\u7FD2\u984C\u662F\u6211\u5728\u516C\u53F8\uFF0C\u62FF\u4F86\u7D66\u67B6\u69CB\u5718\u968A\u7684 team member \u7DF4\u7FD2\u601D\u8003\u7528\u7684\u984C\u76EE\uFF0C\u540C\u6642\u4E5F\u6E96\u5099\u5BE6\u969B\u61C9\u7528\u5728\u8981\u4E0A\u7DDA\u7684\u5C08\u6848\u8EAB\u4E0A\u3002\u6211\u60F3\u65E2\u7136\u90FD\u505A\u4E86\u6E96\u5099\u4E86\uFF0C\u56E0\u6B64\u4E5F\u5728\u9019\u908A\u958B\u653E\u7D66\u5927\u5BB6\u7DF4\u7FD2\u770B\u770B\u3002\u898F\u5247\u8DDF [\u4E0A\u4E00\u7BC7](/2019/07/06/pipeline-practices/) \u4E00\u6A23\uFF0C\u6709\u8208\u8DA3\u7684\u8ACB\u81EA\u884C\u5230\u6211\u7684 [GitHub](https://github.com/andrew0928/SchedulingPractice) \u53D6\u7528\uFF0C\u9858\u610F\u7684\u8A71\uFF0C\u4E5F\u6B61\u8FCE\u5C07\u4F60\u7684 solution PR \u653E\u4E0A\u4F86\uFF0C\u6211\u6703\u5728\u5F8C\u534A\u6BB5\u6587\u7AE0\u7528\u6211\u7684\u89D2\u5EA6\u5E6B\u4F60 code review \u3002\n"
}