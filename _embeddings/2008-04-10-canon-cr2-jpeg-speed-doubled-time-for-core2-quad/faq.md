# Canon CR2 → JPEG 速度加倍.. 該換 Core2 Quad 了嘛?

# 問答集 (FAQ, frequently asked questions and answers)

## Q: 為什麼使用 ThreadPool 等多執行緒技巧，仍然無法有效提升 .CR2 轉 .JPG 的效能？
因為 Canon 提供的 Codec 在同一個 process 內「不可重入」，一次只能吃到一顆 CPU。即使把工作排得再細、CPU 利用率仍舊被單一 Codec 所侷限，整體效能卡住。

## Q: 作者最後是用什麼方法，讓轉檔速度實際翻倍？
把轉檔動作拆成兩個獨立的執行檔 (.exe)，同時啟動兩個 process，各自執行 .CR2 → .JPG。如此就能各占用一顆 CPU，CPU 使用率衝到約 80%，整體吞吐量變成原來的兩倍。

## Q: 改成兩個獨立 process 後，每張照片的單次轉檔時間有變快嗎？
沒有。單張照片仍需約 70 秒，但 70 秒結束時可以同時完成兩張照片，平均效率翻倍。

## Q: 為什麼作者一開始排斥用「多 process」作法？
多 process 會牽涉 IPC（跨行程溝通）、參數傳遞、字串/路徑解析與回傳值處理等額外麻煩；雖不耗計算資源，但程式撰寫複雜度提高。

## Q: 在 E6300 雙核心 CPU 同時跑兩個轉檔程式時，系統表現如何？
CPU 使用率可達約 80%，且兩份程式的執行速度並未互相拖慢，各自仍維持單張 70 秒的速度。

## Q: 既然速度已翻倍，還需要換到四核心的 Q9450 嗎？
作者語帶玩笑地自問「真糟糕，這樣下去是不是代表該換 Q9450 了?」但文章並未下結論；是否升級仍取決於後續對效能的需求與成本考量。