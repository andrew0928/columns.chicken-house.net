# [設計案例] Login With SSL ?

# 問答集 (FAQ, frequently asked questions and answers)

## Q: 使用 SSL 就能讓網站資料「固若金湯」嗎？
SSL（Secure Socket Layer）只能在「傳輸過程」中提供加密，防止外部竊聽者攔截資料。資料一旦抵達伺服器或使用者端，SSL 的保護即告結束，無法阻止內部人員將資料存檔外流，也不能取代 DRM／DPM 這類保護內容本身的技術。

## Q: 為什麼建議只在登入或輸入信用卡號時使用 HTTPS，而非整個網站都跑在 HTTPS？
HTTPS 會額外消耗 CPU（屬於 CPU-bound 工作），若全站皆走 HTTPS 會明顯降低效能。實務上只需在輸入帳號密碼、信用卡號等敏感資訊時使用 HTTPS，確保傳輸過程安全；登入成功後即可切回 HTTP 以兼顧效能。

## Q: 若 HTTP 與 HTTPS 是不同網站，該如何安全地把「已登入」狀態帶回 HTTP 站？
可採「雙站點＋Token」機制：  
1. 使用者先將帳號密碼透過 HTTPS 送到 A 站並暫存。  
2. A 站產生含 Hash 與時效資訊的 Token，轉交給 B 站（HTTP）。  
3. B 站驗證 Token 後，到後端取回暫存的登入資料。  
4. 驗證通過即建立 Session，讓使用者在 HTTP 站繼續操作。  
Token 只是代號且會過期，即使被截取也無法被濫用。

## Q: 這種 Token 式設計可類比到什麼實體流程？
就像實體商店刷卡時，銀行先與持卡人確認後給店家一組「授權碼」。店家只能依規定、在有限時間內用授權碼請款，卻無法取得完整卡號；網站中的 Token 就扮演這個授權碼角色。

## Q: 當流量增加需將 A／B 站分開或做 Web Farm 時，登入資料可透過哪些技術跨機器傳遞？
可利用資料庫、WCF 服務，或 ASP.NET Session State Server 等可跨伺服器的儲存／通訊機制，讓 A 站（HTTPS）與多台 B 站（HTTP）都能存取同一份暫存的登入資訊，確保流程在高併發與多機環境中仍然有效。