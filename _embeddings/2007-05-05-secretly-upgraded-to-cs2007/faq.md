# 偷偷升級到 CS2007 ..

## 問題與答案 (FAQ)

### Q&A 類別 A: 概念理解類

A-Q1: 什麼是 Community Server（CS）？
- A簡: Community Server 是一套以 ASP.NET 為基礎的社群平台，整合部落格、論壇、相簿等功能，支援樣版與外掛擴充，便於企業或社群快速建置內容與互動。
- A詳: Community Server（CS）是以 ASP.NET 為基礎的整合型社群平台，常見模組包含部落格、論壇、相簿與使用者管理等。它提供可擴充的樣版（Template/Theme）與外掛機制，讓系統管理者或開發者能客製外觀與功能。CS 的架構通常將「外觀（樣版、CSS）」、「佈局（Master/Template）」與「功能邏輯（控制項、API）」拆分，便於維護與升級。對於有既有內容與社群互動需求的團隊，CS 提供穩定的內容管理與互動社群基礎，能透過資料庫與檔案層級的部署快速上線。本文聚焦於從 CS 1.x/2.x 升級至 CS2007 後，在樣版系統（由動態 UserControl 改為 ASP.NET 2.0 的 Master Page 與 config）與控制項（.ascx + .cs）的變更與影響。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q2, A-Q4, B-Q2

A-Q2: 什麼是 CS2007？
- A簡: CS2007 是 Community Server 的新版，採用 ASP.NET 2.0 標準作法，關鍵變化為樣版改用 Master Page + config，並調整部分 API，改善可維護性與部署便利性。
- A詳: CS2007 是 Community Server 的版本演進，核心改動在於採納 ASP.NET 2.0 標準化作法，尤其在樣版系統方面由舊版的動態載入 UserControl（以標籤定義佈局，程式處理資料與邏輯）轉為「每套樣版一個 Master Page + 一個設定檔（theme.master, theme.config）」的結構。同時，CS2007 對部分舊 API 進行調整或移除，導致既有自訂控制項可能需要重寫或重新編譯。此版本的升級過程以「DB upgrade + File upgrade」為主，對於已客製樣版與控制項的站台，升級重點在於樣版重構與 API 對應。CS2007 的目標是提高開發體驗、降低維護門檻、簡化部署與升級，並讓每個頁面能更直觀地維護（例如 BLOG 頁面是單一 .aspx 搭配 master）。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q4, A-Q8, B-Q2

A-Q3: 為什麼要升級到 CS2007？
- A簡: 為採用 ASP.NET 2.0 標準樣版、提升維護性與部署便利，並讓頁面結構更直觀。同時可為新功能與後續擴充打基礎，平台更「ready」。
- A詳: 升級至 CS2007 的主要動機包含三點。第一，樣版系統改用 ASP.NET 2.0 的標準 Master Page 與設定檔，佈局與頁面結構更清晰，降低學習與維護成本。第二，部署模式更彈性，開發者可以以 .ascx + .cs（而非每次都打包成 DLL）快速變更與上線，改善更新效率。第三，CS2007 的 API 與架構調整讓後續開發更一致，也為未來功能擴充與最佳化提供穩固基礎。對有既有客製的站台而言，雖需調整自訂控制項或樣版，但長遠來看可減少後續維運負擔。當升級後仍可透過維持舊樣式配置，達到「外觀一致、底層升級」的目標，讓平台先就緒（ready）再逐步開放心功能。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q4, B-Q2, C-Q1

A-Q4: CS 1.x/2.x 與 CS2007 的樣版系統有何差異？
- A簡: 舊版以動態載入 UserControl 並在控制項標籤定義佈局；CS2007 改用 ASP.NET Master Page + config，每頁為單一 .aspx 套主版，結構更直觀。
- A詳: 在 CS 1.x/2.x，樣版是透過大量動態載入 UserControl（.ascx）來組合頁面，佈局資訊放在控制項標籤中，資料與邏輯則在程式碼端處理。此方式彈性高但學習曲線陡峭，且跨控制項的佈局關係與依賴較難追蹤。CS2007 採用 ASP.NET 2.0 標準：以 Master Page（theme.master）定義全站佈局，透過 theme.config 進行配置，各頁面成為清楚可見的 .aspx，內容區域以 ContentPlaceHolder/Content 組合。這讓開發者能快速定位要改的檔案，改版與除錯更直接，對樣版重用、樣式管理與部署流程也更友善。整體而言，CS2007 在可維護性、可讀性與擴充一致性上顯著優於舊版。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: B-Q1, B-Q2, C-Q2

A-Q5: 什麼是 ASP.NET Master Page？
- A簡: Master Page 是 ASP.NET 提供的佈局模板，定義共用頁框與區塊（ContentPlaceHolder），各頁以 Content 填入內容，實現一致佈局與重用。
- A詳: ASP.NET Master Page 是用來統一網站視覺與佈局的技術。開發者在 Master Page 中定義共用元素（如頁首、導覽、頁尾）與一或多個 ContentPlaceHolder。實際頁面（.aspx）以 Content 控制項對應填入內容，於執行期組合成完整頁面。此模式將固定佈局與變動內容分離，提升一致性與維護性。對 CS2007 而言，樣版採用 theme.master 定義站台外框，搭配 theme.config 決定頁面與樣版的關係，使每個功能頁（例如 Blog 文章頁）只需專注內容與邏輯。好處是改佈局只需修改 master，不必逐頁微調，也便於版本控管與團隊協作。這正是從舊版動態控制項組裝邁向標準化佈局的關鍵。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q4, B-Q3, C-Q5

A-Q6: 什麼是 theme.master 與 theme.config？
- A簡: theme.master 定義全站佈局與區塊；theme.config 負責樣版設定與頁面映射。兩者結合，使每頁 .aspx 能套用一致外觀並依設定載入元件。
- A詳: 在 CS2007 的樣版系統裡，theme.master 是 Master Page 檔案，用來描述共用佈局、樣式掛載與區塊位置（ContentPlaceHolder）。theme.config 則作為樣版設定檔，協調樣版名稱、資源位置、與功能頁之間的映射與參數設定。例如可指定某些頁面應使用哪些控制項或內容區來呈現，統一定義頁面行為與外觀關係。結合兩者後，開發者能以清楚、標準的方式替換佈局、微調某頁的呈現，而不需深入難維護的動態載入邏輯。這也讓部署與升級更安全，因為設定與佈局是分離且可版本化追蹤的。當要維持舊外觀時，只需複製舊設計至新 master 與 config 對應即可。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q2, C-Q2, C-Q4

A-Q7: 什麼是 User Control（.ascx）？與 DLL 外掛有何差異？
- A簡: User Control 是可重用 UI 元件（.ascx + .cs），由 ASP.NET 動態編譯；DLL 外掛則是預先編譯的組件。前者易部署與改版，後者效能穩定且封裝性高。
- A詳: User Control（.ascx）是 ASP.NET 提供的使用者介面重用單元，包含標記（.ascx）與程式碼（.cs）。在部署時可直接放上伺服器，由 ASP.NET 動態編譯與載入，適合頻繁小改與快速迭代。DLL 外掛（預先編譯組件）則將程式碼打包於 bin 資料夾，封裝性與啟動效率較佳，介面契約明確，較適合穩定且通用的功能。CS2007 升級實務常將舊 DLL 控制項改為 .ascx + .cs，降低部署摩擦與相依，特別在 API 變動時可局部調整。兩者並非互斥：穩定核心功能可用 DLL，快速變動 UI 或站台客製則用 .ascx，以利平衡維運便利與品質。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: B-Q9, C-Q3, D-Q4

A-Q8: 什麼是 DB upgrade 與 File upgrade？
- A簡: DB upgrade 指資料庫結構/資料的遷移；File upgrade 指站台程式與資源檔更新。兩者合併完成版本切換，是 CS2007 升級的基本步驟。
- A詳: 升級至 CS2007 通常包含兩個面向：DB upgrade 與 File upgrade。DB upgrade 主要進行資料庫層面的變更，例如新增/修改資料表與索引、遷移資料欄位、更新預存程序或初始資料，以確保新版本功能可運作。File upgrade 則更新網站檔案，包括二進位（bin 資料夾組件）、頁面檔（.aspx）、主版（theme.master）、設定檔（如 theme.config、web.config）與靜態資源等。實務上應先備份，再將兩者在測試環境演練驗證，特別留意自訂樣版與控制項不被覆蓋或遺失。此流程確保應用程式層與資料層一致升級，避免版本不匹配造成執行時錯誤。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: B-Q7, B-Q8, C-Q1

A-Q9: CS2007 中 BLOG 每頁是單一 .aspx 有何意義？
- A簡: 單一 .aspx 配合 Master 使頁面結構直觀、易定位與維護；修改呈現只需動到該頁或 master，降低跨檔案耦合與除錯成本。
- A詳: 在 CS2007，BLOG 的每個頁面（例如文章列表、單篇文章、存檔頁）都對應為清楚的 .aspx 檔，並套用共用的 Master Page。這種設計帶來幾個好處：其一，檔案定位直覺，找要改的頁面不再需要追蹤複雜的動態載入流程。其二，外觀與佈局由 master 統一控制，頁面邏輯專注於內容呈現，提升可維護性。其三，部署與測試更精準，變更範圍可控。相較於舊版本以 UserControl 動態組合頁面的模式，.aspx + master 更符合 ASP.NET 標準實務，降低學習曲線，方便新成員加入維護。此作法也利於版本控制與 Code Review。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q5, A-Q6, B-Q6

A-Q10: 為何舊版 API 在 CS2007 中可能不能用？
- A簡: CS2007 調整或移除部分 API，以符合新架構與標準；導致舊控制項需改寫或重新對應，否則會出現編譯或執行期錯誤。
- A詳: 軟體升級常伴隨 API 的整理與一致化。CS2007 引入 ASP.NET 2.0 標準樣版體系，並改良內部元件設計，舊版某些 API 因冗餘、命名不一致或耦合過高而被修改或移除。這類破壞性變更會讓既有以舊 API 開發的控制項無法直接編譯或在執行期失敗（例如型別搬移、命名空間變更、方法簽章不同）。解法包括：閱讀變更記錄、比對新舊 API 差異、重寫或替換控制項、以相容層包裝舊呼叫。升級時應先在測試環境修正所有自訂相依，避免上线後出現「無法載入型別」或 NullReference 等問題。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: D-Q1, D-Q4, B-Q10

A-Q11: 什麼是相容性與破壞性變更（Breaking Change）？
- A簡: 相容性指舊程式在新版本仍可運作；破壞性變更則會使舊程式失效。升級時需辨識並處理破壞性變更以確保平順過渡。
- A詳: 相容性描述「升級後仍能正常運作」的程度。向後相容意味著新版本允許舊 API 或舊資料結構繼續被舊程式呼叫；而破壞性變更（Breaking Change）則指 API 或行為的調整會讓舊程式碼無法編譯或錯誤執行。在 CS2007 升級中，樣版機制與部分 API 的調整屬於潛在破壞性變更，會影響既有自訂控制項和樣版。實務上需：盤點相依、閱讀變更文件、以替代 API 重構程式、逐項回歸測試。若必須保留舊行為，可考慮建立相容層（Adapter/Façade）或短期雙軌佈署，確保服務不中斷。明確辨識與處理破壞性變更，是成功升級的關鍵。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q10, D-Q1, D-Q4

A-Q12: 為什麼改成 .ascx + .cs 部署更方便？
- A簡: .ascx + .cs 可由 ASP.NET 動態編譯與載入，更新只需上傳檔案；無需重打 DLL、重啟 AppDomain，可快速迭代與減少部署風險。
- A詳: 使用 .ascx（User Control）搭配 .cs（Code-behind），可讓 ASP.NET 在首次請求時動態編譯，後續變更只需更新檔案即可自動重新編譯與載入。這種做法省去每次修改都要重新產出 DLL、安排停機或清理快取的流程，特別適合 UI 呈現或站台特定客製的快速調整。對 CS2007 升級而言，將自訂控制項改以 .ascx + .cs 發布，能加快修復 API 差異與調整樣版的速度。當然，對高穩定、需強封裝的核心功能，DLL 仍是良好選擇。實務上可採混合策略：客製 UI 用 .ascx，加值元件或跨站共用功能用 DLL，以取得維運彈性與品質的平衡。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: B-Q9, C-Q3, D-Q4

A-Q13: 為什麼在 CS 1.0–2.x 改樣版較費工？
- A簡: 因佈局分散於多個動態 UserControl 與標籤，關聯複雜；需理解控制項載入流程與資料綁定，定位與修改成本高。
- A詳: CS 1.0–2.x 採用以動態載入 UserControl 串接頁面的方式，佈局與呈現設定分布於多個控制項標籤與程式碼，載入順序、命名容器、資料繫結都會影響最終結果。要修改樣版必須先釐清控制項間的組成關係與生命週期，稍有不慎就可能引發事件順序錯亂或 Null 參照。相對地，CS2007 採 Master Page + config 後，佈局集中在 master，頁面為單一 .aspx，定位與調整更直觀。這種結構化的呈現讓開發者聚焦該改的檔案與區塊，減少跨控制項耦合帶來的維修負擔。也因此，升級雖有一次性成本，但後續維護顯著簡化。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q4, B-Q1, B-Q2

A-Q14: 升級前需要準備什麼？
- A簡: 盤點客製項、完整備份（DB/檔案）、建測試環境、閱讀變更與升級文件，制定回滾計畫與時程，預先演練 DB 和檔案升級。
- A詳: 成功升級仰賴充分準備。首先羅列所有客製樣版與控制項，確認與核心的相依關係。其次，對資料庫與網站檔案做可驗證的完整備份，含版本標記與還原演練。搭建與正式相近的測試環境，預先跑一遍 DB upgrade 與 File upgrade，記錄步驟與耗時。閱讀官方變更與升級指南，辨識可能的破壞性變更與代替 API。制定回滾機制（資料庫快照/備援、檔案回復、DNS/流量切換），規劃降風險時段發布。最後以自動化測試與檢核清單驗證關鍵功能（登入、文章瀏覽、留言、後台管理）。這些準備能將升級風險降到最低，縮短故障處理時間。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: C-Q1, D-Q3, D-Q8

A-Q15: 升級後維持舊外觀的原理是什麼？
- A簡: 透過在新架構下重現舊佈局（master）與設定（config），並指派為站台預設樣版，使外觀一致而內部平台已升級。
- A詳: 升級到 CS2007 後，即便底層採用新樣版機制，仍可藉由建立對應的 theme.master 與 theme.config 來「還原」舊外觀。作法是在 master 中重建舊有佈局（頁首、選單、側欄、頁尾）與必要的 ContentPlaceHolder；在 config 中指定頁面映射與元件配置，確保與舊版呈現一致。接著在站台設定中選用此樣版為預設，使使用者看到的視覺不變。此策略讓平台「先到位」，再逐步引入新功能或樣式改造，降低使用者感知的變化與風險，符合「外觀穩定、內核升級」的漸進式治理原則。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: C-Q2, C-Q8, B-Q11

A-Q16: 「平台 ready」是指什麼？
- A簡: 指底層已完成升級與相容性處理，可支援後續功能開發、樣式迭代與擴充；先穩平台、後開新能力的策略節奏。
- A詳: 「平台 ready」意味著基礎設施（資料庫結構、程式檔案、樣版架構、控制項相依）已完成升級與驗證，關鍵風險已收斂並能穩定運作。此時可以不急於一次改完所有外觀或功能，而是保持使用者面向的介面一致，逐步針對新需求與最佳化進行迭代。對 CS2007 而言，平台 ready 代表：Master Page 與 config 已能正確驅動頁面、必要的自訂控制項已改寫、部署與回滾管線可用。這種「先鋪路再加速」的策略能降低變更密度，提升可觀測性與可恢復性，是大型系統穩健升級的實務。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q3, C-Q1, D-Q8

---

### Q&A 類別 B: 技術原理類

B-Q1: CS 1.x/2.x 的樣版系統如何運作？
- A簡: 以動態載入 UserControl 組頁，佈局靠控制項標籤與載入順序，資料與邏輯在 code-behind。彈性高但耦合複雜，維護成本大。
- A詳: 舊版 CS 採用大量 UserControl（.ascx）動態組合頁面。頁面本體負責載入與配置控制項，控制項標籤承載佈局位置與參數，資料與事件處理寫在 code-behind。核心步驟：解析頁面配置、依序載入控制項（Page.LoadControl）、加入控制集合（Controls.Add）、進行資料繫結與事件處理。核心組件包含頁面容器、UserControl、資料提供層。此模式擁有高組裝彈性，但因佈局資訊分散、生命週期複雜（Init/Load/PreRender 等），對新手不友善，定位問題與跨控制項調整困難。這也是 CS2007 轉向 ASP.NET 標準 master/config 的背景。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q4, B-Q4, C-Q2

B-Q2: CS2007 的樣版/主版頁面機制如何運作？
- A簡: 以 theme.master 定義共用佈局，theme.config 管理對應設定；每頁為 .aspx 以 Content 填入，執行期合成完整頁面，結構清晰。
- A詳: CS2007 採用 ASP.NET 2.0 的 Master Page。流程為：請求進入頁面 .aspx，該頁在 Page 指示詞指定 MasterPageFile；Master 定義 ContentPlaceHolder，頁面以 Content 對應填充；執行期由 ASP.NET 將 master 與 page 合成輸出。theme.config 扮演配置樞紐，統一管理樣版資源、頁面映射與元件參數，使頁面行為一致且可調。核心組件包含 Master Page、.aspx Page、ContentPlaceHolder/Content、設定檔（theme.config）。此架構將佈局與內容分離、設定集中化，改善可維護性、除錯性與部署的可預期性，亦便於版本控制與團隊協作。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q5, A-Q6, B-Q3

B-Q3: ASP.NET 主版頁面的執行流程是什麼？
- A簡: 頁面載入時解析 master 與 page，合併控制樹；依生命週期（Init、Load、PreRender）觸發事件；最後輸出渲染結果。
- A詳: 請求抵達 .aspx 後，ASP.NET 建立頁面實例並解析 @Page 指示的 MasterPageFile，載入 Master Page，建立包含 Master 與 Page 的控制樹。生命週期依序觸發：Init（初始化控制樹）、Load（繫結資料與事件）、PreRender（最後調整 UI）、Render（輸出 HTML）。ContentPlaceHolder 在 Master 中預留位置，Page 的 Content 於合併時對應填入。若頁面或控制項註冊事件於錯誤階段（如在 Load 前操作未建立的控制項），可能造成 NullReference 或事件順序錯亂。理解此流程有助於在 CS2007 中正確擺放資料繫結與 UI 更新邏輯，並避免舊版控制項在新架構下生命週期不匹配的問題。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q5, B-Q2, D-Q9

B-Q4: 動態載入 UserControl 的原理是什麼？
- A簡: 透過 Page.LoadControl 載入 .ascx，加入控制集合，於生命週期中資料繫結與渲染。需處理命名容器與事件綁定。
- A詳: 動態載入 UserControl 以 Page.LoadControl(virtualPath) 建立控制項實例，再以 Controls.Add 附加至容器（如 PlaceHolder）。載入時需處理：命名容器（避免 ID 衝突）、ViewState、事件委派，以及資料繫結順序。若載入時機不當（如在 PreRender 才加控制項），可能導致狀態遺失或事件不觸發。舊版 CS 依賴此機制組裝頁面，靈活但增加維護難度。升級到 CS2007 後，雖仍可用動態控制項，但多以 Master + Page 的靜態結構為主，將動態載入限縮在必要位置，以降低複雜度與故障率。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: B-Q1, C-Q3, D-Q4

B-Q5: theme.config 在配置流程中扮演什麼角色？
- A簡: theme.config 集中管理樣版設定與頁面映射，協調 master、頁面與控制項資源，使外觀與行為可配置、可版本控管。
- A詳: theme.config 是 CS2007 樣版體系的設定核心。它通常包含樣版名稱、資源路徑、頁面對應（哪個功能頁對應哪個 .aspx）、與控制項相關的參數或可切換設定。在請求解析時，系統依 config 判斷套用哪個樣版與頁面行為，並協助載入必要資源。關鍵步驟：讀取設定、解析映射、套用資源、建立控制樹。核心組件：設定解析器、Master/Page、資源處理器。良好的 config 設計讓外觀與行為不必寫死在程式碼中，升級與調整更安全。實務上建議將 config 納入版本控制，並在測試環境驗證每次變更。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q6, C-Q4, D-Q2

B-Q6: CS2007 的 BLOG 頁面組成與運作機制？
- A簡: BLOG 頁面以 .aspx + master 組成，內容由 Content 區塊呈現，必要時載入控制項。依生命週期繫結資料並輸出。
- A詳: 在 CS2007，BLOG 功能頁（如文章列表、單篇頁）是具體的 .aspx，引用 theme.master。Master 定義共用區，頁面以 Content 填入文章、側欄等。頁面可直接放置控制項或動態載入所需 .ascx。運作時，ASP.NET 將 master 與 page 合併，走生命週期事件，完成資料繫結後渲染。此結構讓調整呈現更直接：要改列表樣式就改列表頁 .aspx 或對應控制項；要改整站佈局就改 master。與舊版相比，頁面關係更清楚，除錯也易於聚焦在單一檔案或區塊。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q9, B-Q3, C-Q5

B-Q7: DB 升級的技術流程與影響？
- A簡: 執行遷移腳本更動 schema 與資料，驗證一致性與索引，可能影響相依查詢與程序；需備份、演練與回滾方案。
- A詳: DB 升級通常包含：備份、停止寫入、執行遷移腳本（新增/修改表、欄位、索引、程序）、資料轉換、驗證完整性與效能檢查。核心步驟：版本檢查、事務控制、錯誤回復、校驗與對帳。關鍵組件：資料庫引擎、遷移工具/腳本、監看與記錄。影響面向包括自訂查詢、ORM 映射、報表與觸發程序。升級前需要盤點相依，升級中啟用事務與日誌，升級後執行一致性與效能驗證。若腳本耗時過久，要拆批與離峰執行，確保可在問題時快速回滾。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: A-Q8, C-Q6, D-Q3

B-Q8: File 升級涉及哪些元件與風險管控？
- A簡: 更新 bin 組件、.aspx、master、config 與靜態資源；風險在於覆蓋客製與設定不一致。需比對、標記與可回復策略。
- A詳: File 升級包含部署新的二進位（bin）、頁面檔（.aspx/.ascx）、樣版（theme.master）、設定（theme.config、web.config）與 CSS/JS 圖檔。步驟：比對新舊檔案差異、標記客製檔、離線替換或藍綠切換、啟動後驗證。核心組件：部署工具、版本控制、設定管理。風險包括：覆蓋客製、設定不相容、資源路徑變更導致 404 或樣式缺失。建議：將客製集中於特定資料夾、使用設定片段與環境變數管理、部署前在測試環境完整演練、保留可快速回復的備份或映像。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q8, C-Q7, D-Q8

B-Q9: .ascx + .cs 的編譯與部署機制？
- A簡: .ascx 以 CodeFile 連結 .cs，由 ASP.NET 動態編譯；更新檔案即觸發重新編譯與載入。適合快速迭代與小改部署。
- A詳: ASP.NET 會監看網站檔案異動。.ascx 使用 @Control 指示詞指定 CodeFile 與 Inherits，於首次請求或變更後由動態編譯器將 .ascx 與 .cs 編譯為暫存組件載入 AppDomain。優點：快速部署、不需手動產出 DLL；缺點：首次命中延遲、編譯錯誤在執行期揭露。核心組件：頁面/控制項解析器、動態編譯器、檔案監視器。最佳實務包含：嚴謹命名空間、將通用邏輯放入可測試類別、在測試環境預熱編譯、必要時採用預編譯或混合部署策略。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: A-Q7, A-Q12, C-Q3

B-Q10: API 變更為何會造成編譯或執行時錯誤？
- A簡: 型別/命名空間搬移、方法簽章更動或行為差異會使舊程式無法匹配。編譯期報錯、執行期出現 MissingMethod/Type 或 NullReference。
- A詳: 當升級的程式庫對 API 做出破壞性變更（型別移除、命名空間調整、方法參數變動、回傳型別改變或語意變更），舊程式碼的參考將失效。編譯期會出現找不到型別或方法，執行期可能在反射或延遲載入時拋出 TypeLoadException、MissingMethodException，或因契約改變導致 NullReference。核心組件：編譯器、CLR 型別載入器、繫結器。解法：對照變更文件、替換 API、重編參考、若必要提供適配器層。這正是 CS2007 升級時自訂控制項需重寫的典型原因。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q10, A-Q11, D-Q1

B-Q11: 如何在新架構下維持舊外觀的技術機制？
- A簡: 以 master 重建舊佈局、以 config 映射頁面與資源，CSS/JS 延用；讓外觀一致而底層運作在 CS2007 的生命週期與 API 上。
- A詳: 維持舊外觀需在 CS2007 的 Master + config 架構中重現舊設計：於 master 中定義相同區塊與結構，引用既有 CSS/JS，於 theme.config 讓頁面對應至新的 .aspx。核心步驟：比對舊佈局、建立 ContentPlaceHolder、移植樣式與控制項、設定映射、驗證像素與行為一致性。關鍵組件：Master、theme.config、靜態資源、頁面與控制項。此法讓使用者感知不變，但技術底層已更新，可逐步解耦與現代化。風險在資源路徑與瀏覽器相容性，需以測試與回歸驗證把關。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q15, C-Q2, C-Q8

B-Q12: 自訂控制項從 DLL 轉為 .ascx 的架構考量？
- A簡: 評估封裝性、重用性與部署頻率；抽離通用邏輯為類庫，UI 層用 .ascx 動態部署，兼顧迭代速度與品質。
- A詳: 轉換策略可採分層：將通用業務邏輯與資料存取封裝至獨立類庫（DLL），維持強型別契約與測試性；UI 呈現層改為 .ascx + .cs，透過組合呼叫核心類庫。這樣 UI 可快速改版，核心仍受版本控制與 CI 測試保護。關鍵步驟：盤點控制項職責、抽象邏輯、定義介面、重寫 .ascx 與事件流程、建立注入與設定。核心組件：類庫（核心邏輯）、.ascx（UI）、設定（config）、DI/服務定位器（可選）。此模式有助於 CS2007 升級時快速適配 API 與樣版變更，同時保持穩定產線品質。
- 難度: 高級
- 學習階段: 進階
- 關聯概念: A-Q7, B-Q9, C-Q3

B-Q13: CS 在不同版本中「視圖與邏輯分離」如何體現？
- A簡: 舊版以多層 UserControl 分離但關係複雜；新版以 master/page/config 明確劃分佈局、設定與頁面邏輯，邊界更清晰。
- A詳: 視圖與邏輯分離在 CS 的演化中呈現不同樣貌。1.x/2.x 以 UserControl 拆分 UI 與邏輯，但佈局資訊分散於標籤與載入流程，跨控制項關聯複雜。CS2007 採 master/page/config：master 管佈局，page 專注內容與互動，config 集中設定與映射。此設計符合 MVC/MVP 等分層原則，讓職責邊界更清楚，改動可局部，測試更容易。對開發與維運而言，這不僅降低學習曲線，也提升系統可演進性，避免在頁面組裝階段交錯耦合造成的技術債。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: A-Q4, B-Q2, C-Q2

B-Q14: 升級的版本控制與回滾機制要點？
- A簡: 以版本標籤管理 DB/檔案、建置備援環境、保留回滾腳本與檔案快照；流程自動化與可驗證是關鍵。
- A詳: 成功升級依賴嚴謹的版本控制與回滾策略。DB 與檔案需同步版本標籤，升級腳本具備可回滾對應。部署採用藍綠/灰度策略，先切一小部分流量驗證。工具面：版本控制（Git）、CI/CD、自動化遷移（例如以遷移框架管理腳本）、基礎設施即程式（IAC）重建環境。資料面：快照/備份、只讀驗證、對帳檢核。回滾步驟預演：流量切回舊環境、DB 還原或前滾、檔案回復。將這些機制制度化，能在 CS2007 升級過程中大幅降低故障時間與資料風險。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: A-Q14, C-Q10, D-Q8

---

### Q&A 類別 C: 實作應用類（10題）

C-Q1: 如何規劃並實作從 2.x 升級到 CS2007？
- A簡: 盤點客製、備份、建測試環境，先跑 DB upgrade 再 File upgrade，修正控制項與樣版，驗證回歸，最後滾動部署與回滾預案。
- A詳: 
  - 具體實作步驟:
    1) 盤點客製樣版/控制項與相依。2) 完整備份 DB/檔案。3) 建測試環境還原。4) 執行 DB upgrade（事前演練）。5) 執行 File upgrade，保留客製檔。6) 修正 API 差異、改寫 .ascx。7) 驗證功能回歸。8) 規劃正式部署與回滾。
  - 關鍵程式碼片段或設定:
    - 無特定代碼，重點在部署腳本與設定比對；例如使用 diff 工具比對 web.config 與 theme.config。
  - 注意事項與最佳實踐:
    - 使用版本標記、藍綠部署；離峰升級；確保回滾腳本可用；建立檢核清單（登入、文章、留言、後台）。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q8, B-Q7, B-Q8

C-Q2: 如何把舊樣版轉成 theme.master + .aspx？
- A簡: 將舊佈局抽取到 master，頁面內容落在對應 .aspx，config 映射頁面與資源；以像素比對與功能驗證確保一致。
- A詳: 
  - 具體實作步驟:
    1) 盤點舊頁面區塊（頭/側/尾）。2) 建立 theme.master，放入 ContentPlaceHolder。3) 建立對應 .aspx 頁面，以 Content 填入舊內容。4) 編寫 theme.config 映射。5) 驗證視覺與互動。
  - 關鍵程式碼片段或設定:
    - theme.master 範例:
      <%@ Master Language="C#" %>
      <html><body>
      <header>...</header>
      <asp:ContentPlaceHolder ID="MainContent" runat="server" />
      <footer>...</footer>
      </body></html>
  - 注意事項與最佳實踐:
    - 保持版位命名穩定；靜態資源路徑一致；CSS 按需調整；config 納入版本控制。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q6, B-Q2, B-Q11

C-Q3: 如何撰寫並部署自訂 .ascx 控制項取代舊 DLL？
- A簡: 以 .ascx + .cs 重寫 UI，引用新 API，放置於對應資料夾並在頁面或 master 載入；測試後直接上傳部署。
- A詳: 
  - 具體實作步驟:
    1) 建立 MyWidget.ascx 與 MyWidget.ascx.cs。2) 將核心邏輯抽至類庫（可選）。3) 以新 API 重寫事件與資料繫結。4) 在頁面或 master 註冊並使用。
  - 關鍵程式碼片段或設定:
    - MyWidget.ascx:
      <%@ Control Language="C#" CodeFile="MyWidget.ascx.cs" Inherits="Controls.MyWidget" %>
      <asp:Repeater ID="rp" runat="server"></asp:Repeater>
  - 注意事項與最佳實踐:
    - 命名空間一致；避免硬編資源路徑；加上 Null 檢查；在測試環境預熱編譯；保留回退舊 DLL 的方案。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q7, B-Q9, D-Q4

C-Q4: 如何設定 theme.config 指向自訂頁面與控制項？
- A簡: 在 config 定義樣版名稱、頁面映射與元件參數，讓請求導向對應 .aspx 與資源；版本控管與測試驗證不可少。
- A詳: 
  - 具體實作步驟:
    1) 開啟 theme.config。2) 定義 <theme> 與 <pages>（實際節點依版本）。3) 為文章/列表等頁指定對應 .aspx。4) 加入控制項設定（如側欄模組）。
  - 關鍵程式碼片段或設定:
    - 例（示意，依實際版本調整）:
      <theme name="MyTheme">
        <pages>
          <page key="PostView" file="Post.aspx" />
        </pages>
      </theme>
  - 注意事項與最佳實踐:
    - 保持鍵值一致；避免相對路徑錯誤；變更後做整站巡檢；config 變更走 Pull Request 與代碼評審。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q6, B-Q5, D-Q2

C-Q5: 如何把部落格文章頁改為 .aspx 並套用主版？
- A簡: 新建 Post.aspx，指定 MasterPageFile，在 Content 中放入文章呈現控制項或標記；測試資料綁定與樣式一致性。
- A詳: 
  - 具體實作步驟:
    1) 新增 Post.aspx。2) 在 @Page 指示 MasterPageFile="~/themes/theme.master"。3) 於 <asp:Content> 置入文章內容區與側欄。4) 綁定資料並測試。
  - 關鍵程式碼片段或設定:
    - Post.aspx（示意）:
      <%@ Page MasterPageFile="~/themes/theme.master" Language="C#" %>
      <asp:Content ContentPlaceHolderID="MainContent" runat="server">
        <asp:Literal ID="ltTitle" runat="server" />
      </asp:Content>
  - 注意事項與最佳實踐:
    - ContentPlaceHolderID 必須與 master 一致；先以假資料測版，再接實資料；注意 SEO 與結構化標記。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q5, B-Q6, D-Q2

C-Q6: 如何執行 DB 升級腳本與驗證結果？
- A簡: 備份後於測試環境執行腳本，檢查 schema/索引/資料筆數，跑關鍵流程與回歸測試，記錄耗時以預估正式升級。
- A詳: 
  - 具體實作步驟:
    1) 完整備份。2) 將備份還原至測試 DB。3) 執行升級腳本（分批/事務）。4) 驗證 schema 差異、索引狀態、資料對帳。5) 跑關鍵功能測試。
  - 關鍵程式碼片段或設定:
    - 使用版本檢查表（例）:
      select current_version from Settings;
  - 注意事項與最佳實踐:
    - 長任務分批；加上超時與重試策略；把測試數據快照化；記錄耗時與資源使用，估算正式作業時間窗。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: B-Q7, D-Q3, A-Q14

C-Q7: 如何執行 File 升級而不覆蓋自訂檔案？
- A簡: 先比對差異，鎖定官方變更檔；客製檔案標記與排除；以部署腳本選擇性覆蓋；升級後跑整站巡檢。
- A詳: 
  - 具體實作步驟:
    1) 以 diff 工具比對新版與現有檔。2) 將客製檔加入保護清單。3) 以部署腳本（或工具）只覆蓋官方檔。4) 升級後驗證。
  - 關鍵程式碼片段或設定:
    - 以 PowerShell 過濾（示意）:
      robocopy .\New .\Site /MIR /XD Custom /XF Custom\* 
  - 注意事項與最佳實踐:
    - 客製集中管理；嚴禁直接改官方檔；用環境化設定；建立回滾快照；部署流水線納入自動檢查。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q8, D-Q8, A-Q15

C-Q8: 升級後如何維持舊外觀設定？
- A簡: 指定舊風格對應的新 master/config，設定為預設樣版；鎖定 CSS/JS 版本，逐步調整差異並驗證像素一致。
- A詳: 
  - 具體實作步驟:
    1) 以舊設計建立新 theme.master。2) 編寫 theme.config 映射所有頁面。3) 在系統設定選用此樣版。4) 驗證視覺與互動。
  - 關鍵程式碼片段或設定:
    - config（示意）:
      <theme name="LegacyLook" default="true" />
  - 注意事項與最佳實踐:
    - 鎖定靜態資源版本；以可視化回歸工具比對版面；先內部灰度釋出再全量；保持可快速切回的能力。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: A-Q15, B-Q11, C-Q2

C-Q9: 如何建立測試環境並驗證升級？
- A簡: 用正式備份還原測試環境，同步設定與資源；演練 DB/File 升級，跑自動化與手測，覆蓋關鍵路徑與回歸。
- A詳: 
  - 具體實作步驟:
    1) 建測試站（同版 IIS/.NET）。2) 從正式備份還原 DB/檔案。3) 配置相同 web.config（以環境變數差異化秘鑰）。4) 演練升級。5) 執行測試。
  - 關鍵程式碼片段或設定:
    - web.config 以 transform 區分環境（示意）。
  - 注意事項與最佳實踐:
    - 屏蔽對外通知與郵件；匿名化正式資料；用監控記錄效能與錯誤；形成測試報告作為放行依據。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: A-Q14, C-Q1, D-Q6

C-Q10: 如何部署到正式環境並準備降版備援？
- A簡: 選離峰時段，先切流量到備援環境演練，完成 DB/File 升級與驗證，再全量切換；預先準備回滾腳本與檔案快照。
- A詳: 
  - 具體實作步驟:
    1) 產生版本標籤與包。2) 離峰前啟動維護模式。3) DB 升級（事務/快照）。4) File 升級（藍綠/灰度）。5) 冒煙測試與監控。6) 全量切換。
  - 關鍵程式碼片段或設定:
    - 回滾指令（示意）: 還原 DB 快照；回復檔案快照；DNS/負載切回。
  - 注意事項與最佳實踐:
    - 定義放行門檻；保留快速回滾 1-Click；建立通報與值班；部署清單（Owner、步驟、計劃 B/C）。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: B-Q14, D-Q8, C-Q6

---

### Q&A 類別 D: 問題解決類（10題）

D-Q1: 升級後出現「Could not load type」怎麼辦？
- A簡: 多因類別搬移或命名空間變更。比對新舊 API，修正 Inherits/命名空間或重編，清除暫存並確認組件版本一致。
- A詳: 
  - 問題症狀描述:
    - 執行期丟出「Could not load type」或 TypeLoadException，指向頁面/控制項的 Inherits 或 DLL 內類別。
  - 可能原因分析:
    - API 變更、命名空間調整、組件版本不一致、編譯產物殘留。
  - 解決步驟:
    1) 檢查 .aspx/.ascx 的 Inherits 與命名空間。2) 對照新版本 API。3) 清除 ASP.NET 暫存（Temporary ASP.NET Files）。4) 重編/更新 bin。5) 驗證參考與 web.config。
  - 預防措施:
    - 升級前盤點 API 差異；建立編譯檢查與 CI；版本一致化與簽章驗證。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: A-Q10, B-Q10, C-Q3

D-Q2: 主版/內容對應錯誤導致頁面爆炸怎麼處理？
- A簡: 檢查 ContentPlaceHolder 與 Content 的 ID 對應、MasterPageFile 路徑、theme.config 映射；修正後重新部署並測試。
- A詳: 
  - 問題症狀描述:
    - 頁面空白、布局錯亂、拋出「找不到 ContentPlaceHolder」。
  - 可能原因分析:
    - Master 與 Page 不同步；ContentPlaceHolderID 錯誤；theme.config 映射錯；路徑不正確。
  - 解決步驟:
    1) 比對 master 的 PlaceHolder 與頁面 Content ID。2) 確認 MasterPageFile 路徑。3) 檢查 theme.config 映射。4) 最小化頁面測試。
  - 預防措施:
    - 命名規範；建立樣版檢核；版本控制下的審查與自動化測試。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: B-Q3, B-Q5, C-Q5

D-Q3: DB 升級腳本失敗或逾時怎麼辦？
- A簡: 先回滾或還原，切離峰再試；拆批腳本、加索引或暫停觸發器；檢查鎖與資源，必要時提升配額。
- A詳: 
  - 問題症狀描述:
    - 腳本卡住、逾時或報錯（鎖等待、索引重建失敗）。
  - 可能原因分析:
    - 長交易、鎖競爭、資源不足、數據異常、版本不符。
  - 解決步驟:
    1) 立即評估影響並回滾/還原。2) 在測試環境重現並拆批。3) 關閉不必要索引/約束再重建。4) 設定超時與資源配額。5) 重新演練預估耗時。
  - 預防措施:
    - 離峰操作；前測估時；加上事務與日誌；建立回滾腳本與快照。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: B-Q7, C-Q6, C-Q10

D-Q4: 自訂控制項編譯錯誤（命名空間/型別找不到）？
- A簡: 更新引用與 using，對照新 API 重寫；確認檔案路徑與 CodeFile/Inherits；清除暫存與重編。
- A詳: 
  - 問題症狀描述:
    - 編譯失敗，提示找不到型別/命名空間或方法。
  - 可能原因分析:
    - API 變更、參考遺失、命名空間錯誤、檔名/路徑不符。
  - 解決步驟:
    1) 檢查 @Control 的 CodeFile/Inherits。2) 對照新 API 修正 using。3) 重建參考與 bin。4) 清除 ASP.NET 暫存。
  - 預防措施:
    - 維持命名規範；抽離核心邏輯至類庫；CI 編譯檢查。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: A-Q7, B-Q9, C-Q3

D-Q5: 升級後樣式跑版或 CSS 失效如何修復？
- A簡: 檢查資源路徑、相對/絕對引用、bundling 與快取；比對 master 結構變動，調整選擇器與優先權。
- A詳: 
  - 問題症狀描述:
    - 版面錯位、字型/顏色異常、側欄消失。
  - 可能原因分析:
    - master 結構變動導致 CSS 選擇器失效；資源路徑錯誤；快取或 CDN 舊版本。
  - 解決步驟:
    1) 檢查 CSS/JS 404 與路徑。2) 對照 master 的 DOM 結構調整選擇器。3) 清快取/版本戳。4) 以可視化比對確認像素。
  - 預防措施:
    - 鎖版本與版本戳；避免過度依賴階層選擇器；UI 回歸測試與視覺對比工具。
- 難度: 初級
- 學習階段: 基礎
- 關聯概念: B-Q11, C-Q2, C-Q8

D-Q6: 升級後效能下降的原因與解決？
- A簡: 可能源於索引變動、快取失效、首次編譯延遲、靜態資源未最佳化；需加快預熱、調整索引與快取策略。
- A詳: 
  - 問題症狀描述:
    - 首次開啟慢、列表頁延遲、CPU/IO 升高。
  - 可能原因分析:
    - 動態編譯冷啟、索引缺失或碎裂、快取策略未啟用、資源壓縮/合併缺失。
  - 解決步驟:
    1) 預熱站台（抓取關鍵頁）。2) 重建/新增索引。3) 啟用輸出快取/資料快取。4) 啟用壓縮與 CDN。5) 監控與剖析。
  - 預防措施:
    - 部署後預熱；索引維護排程；效能基準與壓測；快取策略與資源優化納入流程。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: B-Q7, B-Q9, C-Q9

D-Q7: 升級後 URL 變動導致 404 怎麼辦？
- A簡: 建立對應規則與 301 轉址，更新站內連結與站外地圖；以日誌找熱門 404，逐步修補。
- A詳: 
  - 問題症狀描述:
    - 舊連結打不開、搜尋引擎落地 404。
  - 可能原因分析:
    - 路由/URL 規則變更、頁面重命名、靜態資源路徑改動。
  - 解決步驟:
    1) 蒐集舊 URL 規則。2) 新舊對映與 301 轉址。3) 更新站內連結。4) 重新提交站點地圖。5) 監看 404 日誌與修補。
  - 預防措施:
    - 升級前產出 URL 映射表；保留關鍵永久連結；監控與 SEO 檢核。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: C-Q7, C-Q10, A-Q15

D-Q8: 升級覆蓋自訂檔案後如何復原？
- A簡: 從備份或版本庫還原，合併差異並重建部署；下次以差異部署與保護清單避免再度覆蓋。
- A詳: 
  - 問題症狀描述:
    - 自訂 .ascx/master/CSS 被新版檔案覆蓋，外觀或功能異常。
  - 可能原因分析:
    - 部署策略使用全量覆蓋；缺少保護清單或差異比對。
  - 解決步驟:
    1) 立即下線或切回。2) 從備份/Git 還原自訂檔。3) 與新版本比對合併。4) 重新部署與驗證。
  - 預防措施:
    - 客製集中；建立保護清單；差異部署；部署前審查與演練。
- 難度: 初級
- 學習階段: 核心
- 關聯概念: B-Q8, C-Q7, C-Q10

D-Q9: 升級後出現 NullReferenceException 如何診斷？
- A簡: 以堆疊追蹤定位；檢查生命週期順序、相依物件與設定是否為 null；加入防禦程式與初始化流程。
- A詳: 
  - 問題症狀描述:
    - 頁面或控制項在 Load/PreRender 拋 NullReference。
  - 可能原因分析:
    - 生命週期改變導致物件尚未建立；設定鍵值不存在；API 回傳變更。
  - 解決步驟:
    1) 看堆疊與來源行。2) 檢查 Init/Load 的初始化順序。3) 加上 null 檢查與替代值。4) 驗證 config 與資料存在。
  - 預防措施:
    - 嚴格防禦式程式；單元/整合測試；日誌與監控。
- 難度: 中級
- 學習階段: 核心
- 關聯概念: B-Q3, B-Q4, C-Q3

D-Q10: 升級後使用者登入或權限出問題怎麼辦？
- A簡: 檢查身分設定、Cookie/機密金鑰、連線字串與 API 差異；清 Cookie、同步機密與回歸權限群組設定。
- A詳: 
  - 問題症狀描述:
    - 登入失敗、無權存取、角色不生效。
  - 可能原因分析:
    - 身分/憑證設定變動、Cookie 簽章金鑰不同、資料庫權限結構變更。
  - 解決步驟:
    1) 比對 web.config 身分與金鑰。2) 清除 Cookie/快取。3) 檢查角色/權限映射與資料。4) 回歸登入流程測試。
  - 預防措施:
    - 機密同步策略；環境分離設定；權限資料回歸測試；升級窗口安排人工監看。
- 難度: 中級
- 學習階段: 進階
- 關聯概念: C-Q9, C-Q10, B-Q14

---

### 學習路徑索引
- 初學者：建議先學習哪 15 題
    - A-Q1: 什麼是 Community Server（CS）？
    - A-Q2: 什麼是 CS2007？
    - A-Q3: 為什麼要升級到 CS2007？
    - A-Q4: CS 1.x/2.x 與 CS2007 的樣版系統有何差異？
    - A-Q5: 什麼是 ASP.NET Master Page？
    - A-Q6: 什麼是 theme.master 與 theme.config？
    - A-Q7: 什麼是 User Control（.ascx）？與 DLL 外掛有何差異？
    - A-Q8: 什麼是 DB upgrade 與 File upgrade？
    - A-Q9: CS2007 中 BLOG 每頁是單一 .aspx 有何意義？
    - A-Q15: 升級後維持舊外觀的原理是什麼？
    - A-Q16: 「平台 ready」是指什麼？
    - B-Q2: CS2007 的樣版/主版頁面機制如何運作？
    - B-Q6: CS2007 的 BLOG 頁面組成與運作機制？
    - C-Q5: 如何把部落格文章頁改為 .aspx 並套用主版？
    - D-Q2: 主版/內容對應錯誤導致頁面爆炸怎麼處理？

- 中級者：建議學習哪 20 題
    - B-Q1: CS 1.x/2.x 的樣版系統如何運作？
    - B-Q3: ASP.NET 主版頁面的執行流程是什麼？
    - B-Q4: 動態載入 UserControl 的原理是什麼？
    - B-Q5: theme.config 在配置流程中扮演什麼角色？
    - B-Q7: DB 升級的技術流程與影響？
    - B-Q8: File 升級涉及哪些元件與風險管控？
    - B-Q9: .ascx + .cs 的編譯與部署機制？
    - B-Q10: API 變更為何會造成編譯或執行時錯誤？
    - B-Q11: 如何在新架構下維持舊外觀的技術機制？
    - B-Q14: 升級的版本控制與回滾機制要點？
    - C-Q1: 如何規劃並實作從 2.x 升級到 CS2007？
    - C-Q2: 如何把舊樣版轉成 theme.master + .aspx？
    - C-Q3: 如何撰寫並部署自訂 .ascx 控制項取代舊 DLL？
    - C-Q4: 如何設定 theme.config 指向自訂頁面與控制項？
    - C-Q6: 如何執行 DB 升級腳本與驗證結果？
    - C-Q7: 如何執行 File 升級而不覆蓋自訂檔案？
    - C-Q8: 升級後如何維持舊外觀設定？
    - C-Q9: 如何建立測試環境並驗證升級？
    - D-Q1: 升級後出現「Could not load type」怎麼辦？
    - D-Q6: 升級後效能下降的原因與解決？

- 高級者：建議關注哪 15 題
    - A-Q10: 為何舊版 API 在 CS2007 中可能不能用？
    - A-Q11: 什麼是相容性與破壞性變更（Breaking Change）？
    - A-Q12: 為什麼改成 .ascx + .cs 部署更方便？
    - A-Q13: 為什麼在 CS 1.0–2.x 改樣版較費工？
    - B-Q12: 自訂控制項從 DLL 轉為 .ascx 的架構考量？
    - B-Q13: CS 在不同版本中「視圖與邏輯分離」如何體現？
    - B-Q14: 升級的版本控制與回滾機制要點？
    - C-Q1: 如何規劃並實作從 2.x 升級到 CS2007？
    - C-Q3: 如何撰寫並部署自訂 .ascx 控制項取代舊 DLL？
    - C-Q10: 如何部署到正式環境並準備降版備援？
    - D-Q3: DB 升級腳本失敗或逾時怎麼辦？
    - D-Q4: 自訂控制項編譯錯誤（命名空間/型別找不到）？
    - D-Q6: 升級後效能下降的原因與解決？
    - D-Q8: 升級覆蓋自訂檔案後如何復原？
    - D-Q9: 升級後出現 NullReferenceException 如何診斷？