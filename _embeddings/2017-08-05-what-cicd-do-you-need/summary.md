# 架構師觀點：你需要什麼樣的 CI / CD？

## 摘要提示
- 工具迷思: 盲目追最新框架與工具易讓團隊失焦，忽略真正要解決的問題。  
- 學習心態: 真正的學習應從自我實作與實驗開始，而非等別人「教」你。  
- Daily Build 回顧: 作者 2003 年土炮的 Daily Build，是 CI 思維的原型與證明。  
- 最小可行流程: 版本控制、自動建置/測試、發行管理是導入 CI/CD 的三大核心。  
- 版控關鍵: 掌握 Git Flow，可用 master/develop 先落地，再視需求擴充支線。  
- CI 重點: 成功編譯、通過單元測試、集中管理 artifacts，先求穩再談進階。  
- CD 策略: 套件管理＋容器化可降低部署複雜度，允許半自動逐步到全自動。  
- 系統整併: 優先精簡現有 GitLab/TFS/Jenkins，降低學習與維運成本。  
- 資安視角: CI/CD 可避免開發者私下建置上線，降低惡意程式風險。  
- 漸進導入: 以「小步快跑」方式分階段上線流程，確保成員接受度與專案成功率。

## 全文重點
作者以多年導入流程的經驗，批判台灣（乃至全球）軟體圈普遍存在的「工具控」現象：許多團隊或工程師一味追逐 DevOps、CI/CD、SCRUM 等熱門名詞，卻未先釐清問題與真正需求。文章從面試觀察切入，指出求職者在乎公司是否用版控或 CI/CD，卻往往自己缺乏實戰；一旦真的開始推行流程，反而出現抗拒。  
作者先分享兩種常見心態──「等公司教我」與「我會很多框架」──提醒真正有價值的是解決問題的能力，而不是工具清單。接着回顧 2003 年自己以 VSS＋Virtual PC 土炮 Daily Build 的往事：即使只能排程、一次跑一小時、只有基本測試，仍大幅提升品質；由此證明「先有需求，再選工具」的重要性。  
面對當前想導入 CI/CD 卻一片空白的團隊，作者提出「最精簡 CI/CD」：  
1. 版本控制——精準追蹤程式碼演進。  
2. 自動建置與整合測試——隨改隨驗證。  
3. 發行管理——用自動或半自動方式部署至各環境。  

在工具選型上，強調善用既有系統以降低阻力，例如把 GitLab、TFS、Jenkins 等高度重疊服務整併至 GitLab。版控流程則以 Git Flow 為藍本，建議團隊起步只保留 master/develop 兩條永久分支，等熟悉後再加入 feature、release、hotfix。  
CI 部分以 GitLab CI 展示基礎三要素：成功編譯、單元測試通過、產出並管理 artifacts；單元測試不必一次補齊，可利用 TDD 與 bug reproduce 漸進累積。  
CD 則因牽涉環境相依性最深，鼓勵先用套件管理 (apt、npm、nuget) 或 Docker Registry 管理映像檔；若暫無法全自動，可保留簡單人工步驟而避免高風險重複操作。  
最後，作者以「安全」角度強調 CI/CD 的價值：若讓開發者在本機編譯直接上線，既難追蹤也易藏惡意程式；透過集中、可追溯的流程才能兼顧品質與資安。呼籲團隊跳脫工具迷思，以長遠目標與漸進策略，打造真正適合自己的 CI/CD。

## 段落重點
### 抱怨
作者先抒發對「沒有 DevOps 就落伍」的現象不滿。面試中，多數求職者關心公司是否有版控、CI/CD、SCRUM，但當被反問經驗或實際導入時常語塞；工作後要求遵守流程，反而出現反彈。這暴露出對流程本質缺乏理解，只將 buzzword 當噱頭的問題。

### 我是來學習的，你應該要教我才對啊!
作者認為「想學習」並非口號，而應體現在行動。例如他為熟悉 SVN/Git，將個人工作與部落格全面搬至 GitHub Pages，強迫自己練習 Git Flow、體驗「Blogging as Code」，證明主動實作方能真正吸收並反饋團隊。

### 我會 XXX + ZZZ 框架，還有 AAA + BBB 系統...
談到「工具控」，作者指出只會背清單無法創造價值；導入或替換系統成本高昂，除非現有系統爛到無法滿足需求，否則應優先「找對的人用對工具」而非頻繁更換。經驗與思考比「會多少工具」更能解決問題。

### 我想要什麼樣的 CI / CD ?
文章核心問題：不是先選工具，而是明確知道要解決什麼痛點。網路案例雖多，但對零基礎團隊往往像遙不可及的理想。關鍵在找出「第一小步」：界定需求，再逐步擴充，而非一次到位。

### 多年前 (2003) 土炮 Daily Build 流程的經驗
作者分享自己 2003 年以 VSS、Virtual PC、批次檔排程打造 Daily Build：每天半夜重灌映像、抓最新程式、編譯、部署到 IIS、再跑簡易測試。雖然拙劣、耗時且僅能排程，但已解決「隔日立即知道是否可編譯」的核心需求，體現 CI/CD 的精神。

### 最精簡的 CI / CD 流程
提出三大必備構面：1) 版本控制，像製造業物料追溯；2) 自動建置與整合測試，確保程式異動即時回饋；3) 發行管理，將 artifacts 部署到各環境並與分支規則對應。對於從零開始的團隊，應一次把這三環節建立到最低可行水準，再逐漸充實。

### 精簡既有的系統與工具組
若團隊已佈署 GitLab、TFS、Jenkins 等重疊工具，作者建議合併到單一平台 (如 GitLab)，減少學習曲線與維運負擔。「多個香爐多隻鬼」——先減法整理，再談加法升級。

### 版控的流程 - Git Flow
Git Flow 提供 features、develop、release、master、hotfix 五種分支策略；新人可能被流程嚇倒，故建議先固定使用 master/develop，其他分支待團隊熟練再逐步導入。刪去並非不做，而是階段性精簡以降低成本，同時保留未來擴充空間。

### 持續整合 - GitLab CI
導入 CI 的首要目標：成功編譯、通過單元測試、產出並集中管理 artifacts。單元測試可隨新功能或 bug 修復逐步增加，兼具範例、規格與回歸驗證。GitLab Pipeline 的視覺化綠勾勾、通知與 Dashboard 讓團隊即時掌握品質。

### 持續部署 - Package Management
CD 牽涉環境差異最複雜，可先採「半自動」思路：CI 產出的 artifacts 推送至 apt、npm、nuget 或 Docker Registry，再以簡單人工步驟部署。容器化能統一 web/site/service/jobs 為 image，以 registry 做版本與相依性管理，日後再朝全自動邁進。

### 結論：執行架構與方向
作者提倡以「小步快跑」方式導入 CI/CD：先畫出最小流程圖，明確哪些環節全自動、哪些需人工；再把 GitLab、Package Manager 等工具補上。此流程除提高效率，更能避免開發者本機直接上線造成的資安風險；透過集中、可追溯的機制，既保障產品品質，也為企業守住安全底線。最終呼籲團隊跳脫工具迷思，以需求為核心、循序漸進，打造真正適合自己的 CI/CD 生態。