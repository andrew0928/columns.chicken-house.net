# 架構師觀點: 你需要什麼樣的 CI / CD ?

# 問答集 (FAQ, frequently asked questions and answers)

## Q: 為什麼在導入 CI／CD 之前，作者強調「先理解問題，再決定工具」？
因為一旦把「選工具」放在第一順位，團隊往往就會被工具牽着鼻子走，最後只剩下追求潮流而忽略要解決的真正痛點。先弄清楚需求與流程，再來挑選或學習合適的技術，才能真正發揮工具的價值。

## Q: 一個從零開始的團隊，最先必須建立哪三項關鍵流程？
1. 版本控制 (Source Control)  
2. 自動建置與整合測試 (CI)  
3. 發行管理／部署 (Release Management 或 CD)  
只要這三件事都能落地，就已經奠定了往後擴充 CI／CD 的基礎。

## Q: 作者為何建議優先沿用既有系統，而不是再找新工具替換？
沿用現有工具可降低團隊重新學習的門檻、減少升級與替換成本，也能降低成員的反對聲浪。與其「找對工具來用」，作者更相信「找對的人來用工具」才是成功關鍵，因此他把 GitLab、TFS、Jenkins 等重疊功能整併為一套 GitLab 來維運。

## Q: 在 Git Flow 模式下，剛起步的團隊至少該維護哪些永久分支？
只要先把 master 與 develop 這兩條永久分支用好就夠了；其他像 feature、release、hotfix 分支可等團隊成熟後再逐步導入。

## Q: 對缺乏 CI 經驗的團隊來說，CI 初期只要先做到哪三件事？
1. 成功編譯（Success Build）  
2. 通過單元測試（Pass Unit Test）  
3. 管理建置產物（Manage Artifacts）  
先把這三件事自動化，就已能讓團隊第一時間掌握程式碼品質。

## Q: 若短期內無法做到全自動的 CD，作者建議怎麼辦？
可以先把部署流程簡化成「套件管理模式」：CI 完成後自動把產物推送到套件管理工具（如 npm、nuget、apt、Docker registry 等），接著用半自動或簡單的人工流程部署即可。未來再逐步把人工步驟自動化即可。

## Q: 單元測試除了驗證程式碼正確性，還有哪些附加價值？
1. 作為 Library 或 Module 的使用範例  
2. 回報 bug 時，可先寫測試重現問題（reproduce）  
3. 視為 API 的規格文件，用測試來保證契約一致

## Q: 導入 CI／CD 對資訊安全有何幫助？
CI／CD 產出的檔案都來自版控並經過自動化流程，可避免開發者在本機偷偷加入後門後直接部署到正式環境的風險；同時所有產物皆可追蹤，比事後調查更安全可靠。

## Q: 作者建議的「第一階段 CI／CD 架構」長什麼樣？
開發者 Push 代碼 → 版控系統 → CI 進行 Build／Test → 產物送進套件管理 (Package Manager) → 部署可以暫時手動，但必須只從套件管理撈取產物。如此即可同時兼顧效率、擴充性與安全性。

## Q: 作者如何看待「工具控」心態？
光會列舉 XXX、ZZZ 框架或 AAA、BBB 系統並不代表能力；真正重要的是是否能運用這些工具解決當前問題。工具學會只需要時間，但把工具用對地方則需要思考與經驗。