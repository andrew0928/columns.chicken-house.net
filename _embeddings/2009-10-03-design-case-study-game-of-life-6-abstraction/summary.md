# 【設計案例】生命遊戲 #6 ─ 抽像化 (Abstraction)

## 摘要提示
- 抽像化: 以「會開車」為例說明去除細節、保留共同概念的重要性。  
- 繼承機制: 透過 base class / interface 建立共用行為，讓程式能對未來變動保持彈性。  
- World/Life/Cell 架構: 先定義 Life 與 World 的互動，再由 Cell 等衍生類別實作細節。  
- 一般化與特殊化: 共通特質上移、特殊行為下放，形成清晰且可擴充的類別層次。  
- 感染規則範例: 新增病毒傳染、痊癒、死亡機率等邏輯，驗證抽像化設計的可延展性。  
- 動態聯結: 主程式僅認得 Life，執行期才將具體 Cell 裝載進 World，無須重編譯核心程式。  
- 變動需求: 案例示範如何在 USER 臨時追加規格時，仍能快速調整而不動到骨幹。  
- 過度設計警示: 盲目預留功能易造成成本浪費與維護困難，抽像化應「剛好即可」。  
- 後續目標: 下一篇將沿用同一框架，改模擬草、羊、虎的生態，驗證設計通用性。  

## 全文重點
作者延續「生命遊戲」系列，終於談到先前預告的「抽像化」。文章先用「考駕照」與「開新款車」的日常經驗，說明抽像化乃是抓住事物的共同概念，忽略與操作無關的細節。電腦軟體若缺乏抽像化，一旦格式或規格更新（如 Word 1.0 想開 Word 6.0 檔）就無法運作；反之若將共通概念上提並以繼承或介面封裝，則先前寫好的程式可無痛接納後來出現的新物件。

在生命遊戲裡，作者將「世界」World 與「生命」Life 之間的關係抽離：Life 描述所有生物共通屬性（所在世界、座標、顯示方式、生命流程），Cell 則繼承 Life 以實作特有邏輯。World 只透過 Life 抽像型別互動，因而能容納任意數量、任意種類的生命衍生類別而不用修改核心程式。這種由上而下的「一般化 / 特殊化」過程，形成清楚且可持續擴充的架構。

作者進一步用「病毒感染」的新增規則驗證設計：在原有四條生命遊戲規則之外，再加入感染機率、痊癒次數、致死率等條件。只需改寫 Cell 的生命流程函式 WholeLife，World 與 Life 皆無需動到，即能模擬傳染效果並於畫面顯示三種符號（◎感染、●存活、○死亡）。此示範凸顯動態聯結的好處：開發時不必知道未來的 Cell 細節，執行時卻能依照最新規則驅動。

文章最後提醒新手工程師不要過度預留未知需求，否則只會增加成本與複雜度；真正有效的抽像化，是以「可預見且共通」為準則，保留必要彈性即可。下一篇將維持同一 World/Life 架構，把模擬對象換成「草原生態系（草、羊、虎）」以再次驗證架構的通用性。

## 段落重點
### 1. 問題緣起與拖延
作者坦承原本預計在第 4 回討論抽像化，但因故延宕至第 6 回；前幾篇集中於具體實作 Cell，現在要擴充到多樣生物前，必須先完成抽像化工作。

### 2. 何謂抽像化──從開車比喻談起
透過「你會開車嗎？」的日常情境說明：我們對車子的認知只需掌握方向盤、油門、煞車等概念，而不在乎車款與顏色；抽像化就是去除細節保留本質。若電腦程式缺乏抽像化，舊版軟體便無法處理新版格式；駕照之所以終身有效，正因抽像化橋接了駕駛者與未來車輛間的不確定差異。

### 3. 抽像化在生命遊戲中的類別設計
介紹以 UML 圖示的 World/Life/Cell 結構：Life 負責描述所有生命共有屬性（世界、座標、顯示字元、生命流程），Cell 僅處理細胞特有的規則。World 僅與 Life 互動、不認識 Cell，確保未來任何新生命體只要繼承 Life 就能生存於既有世界。

### 4. 感染規則範例──驗證設計可延展性
新增「病毒感染」條件：正常細胞有 (1+受感染鄰居×5)% 的機率被感染；感染持續三回合後痊癒，且每回合有 10% 機率死亡。透過修改 Cell 的 WholeLife 方法以及顯示字元，即可展現感染擴散動畫，而 World、Life 程式碼毫無變動。

### 5. 動態聯結與未來可擴充性
主程式 GameHost 只在啟動時迴圈建立 Cell 實例並放入 World，執行期依賴多型與動態聯結呼叫生命流程。此設計允許日後加入全新生命類別（如草、羊、虎）而不須重編核心模組，真正落實「開放封閉原則」。

### 6. 過度預留需求的反思與下集預告
作者以新人常見的「1+1=2 也要先寫列印與四則運算」反例提醒：未知需求難以準確預測，過度設計只會浪費成本並增加複雜度。合理的抽像化是在保持彈性的同時避免不必要實作。下一篇將沿用相同架構，模擬草原上的草、羊、虎，以驗證設計的廣泛適用性。