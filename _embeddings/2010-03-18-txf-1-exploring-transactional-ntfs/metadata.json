{
  "title": "[TxF] #1. \u521D\u63A2 Transactional NTFS",
  "published": true,
  "categories": [
    "\u7CFB\u5217\u6587\u7AE0: \u4EA4\u6613\u5F0F (Transactional) NTFS"
  ],
  "tags": [
    ".NET",
    "C#",
    "MSDN",
    "SQL",
    "Transactional NTFS",
    "\u4F5C\u696D\u7CFB\u7D71"
  ],
  "tech-stacks": [
    "Transactional NTFS",
    "TxF",
    "Transactional Registry",
    "TxR",
    "Windows",
    "Windows Vista",
    "Windows Server 2008",
    "NTFS",
    "Kernel Transaction Manager (KTM)",
    "Win32 API",
    "C",
    "C\u002B\u002B",
    "C#",
    ".NET",
    "P/Invoke",
    "COM",
    "QueryInterface",
    "System.Transactions",
    "TransactionScope",
    "Distributed Transaction Coordinator",
    "DTC",
    "AlphaFS",
    "System.IO",
    "Database",
    "Windows Registry"
  ],
  "keywords": [
    "Transactional NTFS",
    "\u4EA4\u6613\u5F0F NTFS",
    "TxF",
    "TxR",
    "Windows Vista",
    "Windows 2008",
    "NTFS",
    "KTM",
    "Kernel Transaction Manager",
    "Win32 API",
    "P/Invoke",
    "C#",
    ".NET",
    "managed code",
    "\u5206\u6563\u5F0F\u4EA4\u6613",
    "DTC",
    "Distributed Transaction Coordinator",
    "System.Transactions",
    "TransactionScope",
    "COM",
    "QueryInterface",
    "AlphaFS",
    "System.IO",
    "CreateTransaction",
    "DeleteFileTransactedW",
    "CommitTransaction",
    "RollbackTransaction",
    "Registry",
    "\u8CC7\u6599\u5EAB",
    "DB",
    "\u6A94\u6848\u4EA4\u6613"
  ],
  "generator": "BlogIndex.SyncPost v0.3.0.0, gpt-5",
  "references": [
    "http://en.wikipedia.org/wiki/Distributed_Transaction_Coordinator",
    "http://alphafs.codeplex.com/",
    "http://msdn.microsoft.com/en-us/magazine/cc163388.aspx",
    "http://community.bartdesmet.net/blogs/bart/archive/2006/11/05/Windows-Vista-_2D00_-Introducing-TxF-in-C_2300_-_2800_part-1_2900_-_2D00_-Transacted-file-delete.aspx",
    "http://community.bartdesmet.net/blogs/bart/archive/2006/11/19/Windows-Vista-_2D00_-Introducing-TxF-in-C_2300_-_2800_part-2_2900_-_Using-System.Transactions-and-the-DTC.aspx",
    "http://community.bartdesmet.net/blogs/bart/archive/2007/02/21/windows-vista-introducing-txf-in-c-part-3-createfiletransacted-demo.aspx",
    "http://www.codeproject.com/KB/vista/KTM.aspx",
    "http://blogs.msdn.com/because_we_can/archive/2005/05/18/419809.aspx",
    "http://msdn.microsoft.com/en-us/library/ee240893(VS.85).aspx",
    "http://msdn.microsoft.com/en-us/library/aa365738(VS.85).aspx"
  ],
  "summary": "\u672C\u6587\u4ECB\u7D39 Transactional NTFS\uFF08TxF\uFF0C\u4EA4\u6613\u5F0F NTFS\uFF09\u7684\u6982\u5FF5\u8207\u61C9\u7528\u60C5\u5883\u3002TxF \u5728 Windows Vista/Server 2008 \u9996\u6B21\u63D0\u4F9B\uFF0C\u4E26\u975E\u5168\u65B0\u6A94\u6848\u7CFB\u7D71\uFF0C\u800C\u662F\u4E00\u7D44\u8207\u65E2\u6709\u6A94\u6848 API \u5E7E\u4E4E\u4E00\u5C0D\u4E00\u5C0D\u61C9\u3001\u53EF\u652F\u63F4\u4EA4\u6613\u8A9E\u610F\u7684 Win32 API\uFF1B\u540C\u6642\u63A8\u51FA\u7684\u9084\u6709\u8655\u7406\u767B\u9304\u6A5F\u78BC\u7684 Transactional Registry\uFF08TxR\uFF09\u3002\u900F\u904E TxF\uFF0C\u6A94\u6848 I/O \u53EF\u50CF\u8CC7\u6599\u5EAB\u64CD\u4F5C\u4E00\u6A23\u7D0D\u5165\u4EA4\u6613\u4E2D\uFF0C\u4EFB\u4F55\u6B65\u9A5F\u5931\u6557\u53EF\u56DE\u5FA9\u5230\u521D\u59CB\u72C0\u614B\u3002\u6587\u4E2D\u4EE5 C# \u7BC4\u4F8B\u793A\u610F\uFF0C\u900F\u904E P/Invoke \u547C\u53EB CreateTransaction\u3001DeleteFileTransactedW\u3001CommitTransaction\u3001RollbackTransaction \u7B49 API\uFF0C\u5728\u55AE\u4E00\u4EA4\u6613\u4E2D\u522A\u9664\u591A\u500B\u6A94\u6848\u4E26\u53EF\u5931\u6557\u56DE\u6EFE\u3002\u4F5C\u8005\u6307\u51FA\u76EE\u524D\u4ECD\u7121\u5B98\u65B9\u7684 .NET managed library\uFF0C\u5E38\u898B\u7528\u6CD5\u5305\u62EC\uFF1A\u4EE5 C/C\u002B\u002B \u76F4\u63A5\u547C\u53EB Win32\u3001\u5728 C# \u4EE5 P/Invoke\u3001\u6216\u63A1\u7528\u7B2C\u4E09\u65B9\u5C01\u88DD\u7684 .NET \u985E\u5225\u5EAB\u3002\u82E5\u9700\u5206\u6563\u5F0F\u4EA4\u6613\uFF0C\u53EF\u914D\u5408 Microsoft DTC\uFF0C\u5C07\u672C\u6A5F\u6A94\u6848 I/O \u8207\u8CC7\u6599\u5EAB\u5B58\u53D6\u7D0D\u5165\u540C\u4E00\u4EA4\u6613\u7BC4\u570D\uFF1B\u5728 .NET \u4E16\u754C\u4E2D\uFF0C\u5EFA\u8B70\u4F7F\u7528 System.Transactions \u7684 TransactionScope \u9032\u884C\u6574\u5408\u3002\u6587\u672B\u63A8\u85A6\u958B\u6E90\u5C08\u6848 AlphaFS\uFF0C\u76EE\u6A19\u53EF\u66FF\u4EE3 System.IO.* \u4E26\u63D0\u4F9B TxF \u652F\u63F4\uFF0C\u4F5C\u70BA\u958B\u767C\u8005\u5728 .NET \u74B0\u5883\u4E0B\u4F7F\u7528 TxF \u7684\u53EF\u884C\u65B9\u6848\u3002\u672C\u6587\u4F5C\u70BA\u7CFB\u5217\u958B\u7BC7\uFF0C\u9810\u544A\u5F8C\u7E8C\u5C07\u5206\u4EAB\u66F4\u6DF1\u5165\u7684\u7814\u7A76\u8207\u5BE6\u4F5C\u7D93\u9A57\u3002"
}