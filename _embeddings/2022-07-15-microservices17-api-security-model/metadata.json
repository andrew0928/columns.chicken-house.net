{
  "title": "\u5FAE\u670D\u52D9\u67B6\u69CB - API \u7684\u5B89\u5168\u7BA1\u63A7\u6A21\u578B",
  "published": false,
  "categories": [
    "\u7CFB\u5217\u6587\u7AE0: \u5FAE\u670D\u52D9\u67B6\u69CB"
  ],
  "tags": [
    "\u7CFB\u5217\u6587\u7AE0",
    "\u67B6\u69CB\u5E2B\u7684\u4FEE\u7DF4",
    "microservices"
  ],
  "tech-stacks": [
    "C#",
    "ASP.NET Core",
    "Middleware",
    "OAuth2",
    "JWT",
    "Azure",
    "Azure AD",
    "Azure API Management",
    "Azure Functions",
    "API Gateway",
    "Reverse Proxy",
    "Ocelot",
    "YARP",
    "Google Account",
    "Google Docs",
    "Google Drive",
    "Draw.io",
    "Client-Server",
    "PaaS",
    "PoC"
  ],
  "keywords": [
    "API",
    "\u5FAE\u670D\u52D9\u67B6\u69CB",
    "\u5B89\u5168\u6A5F\u5236",
    "\u6388\u6B0A",
    "API Key",
    "Token",
    "\u5167\u5916\u90E8\u7BA1\u63A7",
    "\u591A\u79DF\u6236",
    "\u7BA1\u7406\u6A21\u578B",
    "\u57FA\u790E\u5EFA\u8A2D",
    "\u8A2D\u8A08\u968E\u6BB5",
    "\u5546\u696D\u898F\u5247",
    "API Gateway",
    "Reverse Proxy",
    "OAuth2",
    "JWT",
    "Azure AD",
    "Azure API Management",
    "Azure Functions",
    "Ocelot",
    "YARP",
    "\u6703\u54E1\u670D\u52D9",
    "Core Service",
    "Domain",
    "\u72C0\u614B\u6A5F",
    "\u89D2\u8272\u8207\u6B0A\u9650",
    "Rate limit",
    "IP \u9650\u5236",
    "PoC"
  ],
  "generator": "BlogIndex.SyncPost v0.3.0.0, gpt-5",
  "references": [
    "/images/2022-07-15-microservices17-api-security-model/2022-07-31-19-27-53.png",
    "https://blog.techbridge.cc/2016/11/05/web-security-tutorial-introduction/"
  ],
  "summary": "\u524D\u9762\u5BEB\u4E86\u5169\u7BC7 API \u8A2D\u8A08\u7684\u6587\u7AE0\uFF0C\u6709\u5E36\u5230\u4E00\u9EDE\u9EDE\u6388\u6B0A\u7684\u7BA1\u63A7\u65B9\u6CD5\u7684\u8A2D\u8A08\uFF0C\u9019\u7BC7\u5C31\u597D\u597D\u7684\u4F86\u804A\u4E00\u804A\u5FAE\u670D\u52D9\u67B6\u69CB\u4E0B\uFF0C\u5927\u91CF\u5730\u4F7F\u7528 API \u6642\uFF0C\u4F60\u5230\u5E95\u8A72\u600E\u9EBC \u0022\u8A2D\u8A08\u0022 API \u7684\u5B89\u5168\u6A5F\u5236\u5427\u3002\u4E00\u822C\u800C\u8A00 API \u90FD\u662F\u9760 KEY \u6216\u662F TOKEN \u9019\u7A2E\u65B9\u5F0F\u4F86\u7BA1\u63A7\u7684\uFF0C\u4E00\u7D44 API\uFF0C\u7D66\u4E00\u500B\u670D\u52D9\u547C\u53EB\uFF0C\u5C31\u6838\u767C\u4E00\u628A KEY \u642D\u914D\u5C0D\u61C9\u7684\u6388\u6B0A\u8207\u9650\u5236\u5C31\u641E\u5B9A\u3002\u9019\u65B9\u6CD5\u5C0D\u5916\u958B\u653E API \u5F88\u5408\u9069\uFF0C\u800C\u4E14\u5404\u5927\u96F2\u670D\u52D9\u4E5F\u90FD\u6709\u5C0D\u61C9\u7684 PaaS \u53EF\u4EE5\u9078\u7528 (\u4F8B\u5982 Azure \u7684 API management)\u3002\u4E0D\u904E\u65E2\u7136\u8981\u804A\u5FAE\u670D\u52D9\u67B6\u69CB\uFF0C\u90A3\u4F60\u6709\u60F3\u904E\u5C0D\u5167\u7684\u7BA1\u63A7\u8A72\u600E\u9EBC\u505A\u55CE?\n\nAPI \u7684\u7BA1\u7406, \u5176\u5BE6\u6C92\u90A3\u9EBC\u5BB9\u6613\u3002\u8D8A\u5C01\u9589\u7684\u7CFB\u7D71\u5B89\u5168\u554F\u984C\u8D8A\u5BB9\u6613\u628A\u95DC\uFF0C\u4EE5\u5F80\u6211\u90A3\u500B\u5E74\u4EE3\u7684\u7CFB\u7D71 ( client server )\uFF0C\u5927\u6982\u7CFB\u7D71 console \u7684\u767B\u5165\uFF0C\u9084\u6709 file system \u7BA1\u597D\u5C31\u5DEE\u4E0D\u591A\u4E86\uFF0C\u73FE\u5728\u7CFB\u7D71\u5132\u5B58\u7684\u8CC7\u6599\u8D8A\u4F86\u8D8A\u591A\uFF0C\u7CFB\u7D71\u9593\u958B\u653E\u7684 API \u8D8A\u4F86\u8D8A\u591A\uFF0C\u65E2\u8981\u958B\u653E\u4E92\u901A\u6709\u5F48\u6027\uFF0C\u53C8\u8981\u540C\u6642\u517C\u9867\u5B89\u5168\u8D8A\u4F86\u8D8A\u56F0\u96E3\u4E86\u3002\u9019\u4E5F\u5E36\u51FA\u4E00\u500B\u554F\u984C\uFF0C\u5B89\u5168\u554F\u984C\u8D8A\u4F86\u8D8A\u4E0D\u80FD\u55AE\u7D14\u4EA4\u7D66 \u0022\u7BA1\u7406\u0022 \u7AEF\u4F86\u505A\u5C31\u597D\uFF0C\u9700\u8981\u7CFB\u7D71\u958B\u767C\u7684\u8A2D\u8A08\u968E\u6BB5\uFF0C\u5C31\u8DDF\u9700\u6C42\u898F\u683C\u4E00\u6A23\u5217\u5728\u7B2C\u4E00\u7DDA\u8003\u91CF\u624D\u884C\u3002\n\n\u9700\u6C42\u529F\u80FD\u90FD\u6703\u505A\u5404\u7A2E\u5206\u6790\uFF0C\u5B89\u5168\u6A5F\u5236\u4E5F\u662F\u3002\u6211\u5BEB\u4E86\u4E00\u7CFB\u5217\u7684\u5FAE\u670D\u52D9\u67B6\u69CB\u7684\u6587\u7AE0\uFF0C\u8A66\u60F3\u770B\u770B\u9019\u500B\u554F\u984C\u4F60\u662F\u4E0D\u662F\u90FD\u56DE\u7B54\u7684\u51FA\u4F86? \u4F60\u7684\u670D\u52D9\u958B\u653E\u7684 API\uFF0C\u6709\u54EA\u4E9B\u529F\u80FD? \u4F60\u8981\u7BA1\u63A7\u7684\u662F \u0022\u529F\u80FD\u0022? \u9084\u662F \u0022\u8CC7\u6599\u0022? \u9084\u662F \u0022\u6307\u4EE4\u0022? \u4F60\u8981\u7BA1\u63A7\u7684\u5C0D\u8C61\u662F\u5167\u90E8\u7684\u670D\u52D9 (\u6216\u662F\u5718\u968A)? \u9084\u662F\u5916\u90E8\u7684\u5408\u4F5C\u5EE0\u5546 (3rd party)? \u9084\u662F\u76F4\u63A5\u8A02\u8CFC\u4F60\u670D\u52D9\u7684\u5BA2\u6236? \u6216\u662F\u66F4\u8907\u96DC\u4E00\u9EDE\uFF0C\u662F\u4F60\u7684\u5BA2\u6236\u7684 IT \u5718\u968A / \u5BA2\u6236\u7684\u5408\u4F5C\u5EE0\u5546? \u6700\u5F8C\u6211\u518D\u8FFD\u52A0\u4E00\u500B\u7DAD\u5EA6\uFF0C\u7BA1\u7406\u9019\u4E9B\u6388\u6B0A\u7684 \u0022\u4EBA\u0022 \u662F\u8AB0? \u662F\u6BCF\u500B\u670D\u52D9\u81EA\u5DF1\u7BA1\u7406? \u9084\u662F\u516C\u53F8\u4E00\u8D77\u7BA1\u7406? \u662F\u958B\u767C\u5718\u968A (Developer) \u7BA1\u7406\uFF0C\u9084\u662F Product Manager (\u6216\u662F PO, Product Owner) \u7BA1\u7406? \u6216\u662F\u5BA2\u6236\u670D\u52D9\u4EBA\u54E1 ( Service Team ) \u4F86\u7BA1\u7406? \u6291\u6216\u662F\u5168\u90E8\u81EA\u52A9\uFF0C\u8B93\u5BA2\u6236\u81EA\u5DF1\u7BA1\u7406\u5C31\u597D?\n\n\u9019\u4E00\u9023\u4E32\u554F\u984C\u554F\u4E0B\u4F86\uFF0C\u4F60\u958B\u59CB\u9AD4\u6703\u6211\u8B1B\u7684\u5B89\u5168\u6A5F\u5236\u70BA\u4F55\u662F \u0022\u8A2D\u8A08\u0022 \u984C\u4E86\u55CE? \u5982\u679C\u4F60\u62B1\u6301\u7684 code \u5BEB\u597D\uFF0C\u5B89\u5168\u554F\u984C\u4EA4\u7D66 infrastructure \u7684\u4EBA\u4F86\u8CA0\u8CAC\u7684\u5FC3\u614B\u7684\u8A71\uFF0C\u90A3\u4F60\u7684\u5B89\u5168\u6A5F\u5236\u662F\u6C92\u8FA6\u6CD5\u8DDF\u4E0A\u9019\u500B\u5E74\u4EE3\u7684\u9700\u6C42\u7684 (\u5149\u662F\u4E0A\u8FF0\u7684\u7DAD\u5EA6\uFF0C\u57FA\u672C\u4E0A\u90FD\u4E0D\u662F infrastructure \u7684\u89D2\u5EA6\u80FD\u638C\u63E1\u7684)\u3002\u4F60\u975E\u5F97\u5728\u7CFB\u7D71\u8A2D\u8A08\u968E\u6BB5\u5C31\u7D0D\u5165\u8003\u91CF\u4E0D\u53EF\u3002\u5B89\u5168\u6A5F\u5236\u7684\u6A21\u578B \u0026 \u8A2D\u8A08\u5B9A\u7FA9\u597D\u4E4B\u5F8C\uFF0C\u63A5\u4E0B\u4F86\u624D\u662F\u5C0B\u627E\u9069\u5408\u7684\u5DE5\u5177\u6216\u662F\u670D\u52D9\u4F86\u5BE6\u505A\uFF0C\u9019\u6642\u624D\u6709\u4F60\u9700\u8981\u90A3\u4E9B\u57FA\u790E\u5EFA\u8A2D\u4F86\u652F\u6490 (\u4F8B\u5982\u4F60\u8981\u7528 Oauth2 \u4F86\u5BE6\u505A, \u6216\u662F\u81EA\u5DF1\u7528 JWT \u4F86\u8A2D\u8A08? \u6216\u662F\u4F60\u8981\u6574\u5408 AzureAD \u7B49\u7B49\u9019\u985E PaaS \u7684\u8A8D\u8B49\u7BA1\u7406\u6A5F\u5236)\uFF0C\u6216\u662F\u8981\u7528\u90A3\u4E9B\u6846\u67B6\u4F86\u958B\u767C\u7684\u6280\u8853\u68E7\u7684\u9078\u64C7\u3002\u9019\u7BC7\u6211\u5C31\u60F3\u4F86\u804A\u804A\u9019\u500B\u4E3B\u984C\uFF0C\u5404\u4F4D\u53EF\u4EE5\u56DE\u982D\u5BE9\u8996\u770B\u770B\u81EA\u5DF1\u7684\u7CFB\u7D71\uFF0C\u6F0F\u4E86\u90A3\u4E9B\u74B0\u7BC0\u3002"
}