# 升級到 BlogEngine.NET 1.4.5.0 – 其實比想像中簡單

# 問題／解決方案 (Problem/Solution)

## Problem: 將既有網站升級到 BlogEngine.NET 1.4.5.0 時擔心流程繁瑣、資料遺失

**Problem**:  
站長想把部落格升級到 BlogEngine.NET 1.4.5.0，但擔心升級過程會很複雜，導致文章、設定或附加元件（例如 Bot Checker）遺失，因此事前準備了 Visual Source Safe (VSS) 與 Volume Shadow copy Service (VSS) 兩層備份機制，打算大費周章地逐檔比對與回復。

**Root Cause**:  
1. 對新版相容性的未知：不了解 1.4.5.0 與舊版檔案結構差異，預期需要大量手動合併或衝突解決。  
2. 對資料安全的高度顧慮：害怕升級時覆蓋重要檔案，所以使用複雜備份機制。  
3. 誤以為升級流程必須「逐檔比對」：缺乏對官方部署說明的信心，導致「備份→合併→驗證」流程被過度放大。

**Solution**:  
1. 先以 VSS / Shadow Copy 完整備份舊站，確保可隨時回復。  
2. 檢閱 1.4.5.0 版 Release Notes，確認資料夾結構幾乎相同。  
3. 直接將新版程式目錄覆蓋到舊站 (簡易「目錄搬一搬」)。  
4. 完成後即刻執行基本驗收：  
   - 文章是否正常顯示  
   - 後台登入與發文是否正常  
   - 外掛 (Plug-in) 執行狀況  
5. 針對未隨之搬移的元件（Bot Checker）再個別補上或尋找替代方案。

此解法之所以能化繁為簡，是因為 BlogEngine.NET 的版本間相容性高；根本原因是「升級恐懼」而非技術難度。先有完整備份，再用最簡單方式覆蓋，即可快速驗證並回復，將風險降至最低。

**Cases 1**:  
背景：同類型 .NET 部落格站長準備從 1.3 升級到 1.4.5.0。  
作法：  
– 以 Zip 備份整站 → 解壓新版覆蓋 → 瀏覽測試。  
成效：  
– 升級時間由預估的半天縮短為 15 分鐘。  
– 文章與設定 100% 保存；僅有一支自訂外掛需重新編譯。  

**Cases 2**:  
背景：企業內部技術文件站 (BlogEngine.NET) 配合作業系統升級需同步更新版本。  
作法：  
– 透過 CI/CD Pipeline 先行備份 → 使用自動化腳本「清理站台 → 展開新版 → 匯回 App_Data」。  
成效：  
– 自動化率 90%，人為操作時間 < 5 分鐘。  
– 升級後錯誤率 0，本站流量無中斷。  

**Cases 3**:  
背景：個人站長曾因手動合併檔案導致設定丟失，這次改用「整包覆蓋」策略。  
作法：  
– 完整備份 → 整包覆蓋 → 逐步驗收 → 缺漏外掛再手動部署。  
成效：  
– 降低過往 3 小時的合併作業為 10 分鐘內完成，且再無設定遺失問題。