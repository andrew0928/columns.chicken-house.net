# 該如何學好「寫程式」#4──你的程式夠「可靠」嗎？

## 摘要提示
- 軟體工程師定位: 軟體工程師不僅把程式「寫對」，還必須整合資源、優化解決方案並維持品質。  
- 可靠性: 穩定、低 BUG、易讀且具防禦能力是良好程式的首要目標。  
- 系統知識: 熟悉 OS、API、記憶體管理等底層機制，才能寫出高品質程式。  
- 良好結構: 正確的類別設計與可維護架構帶來擴充與應變彈性。  
- 自主學習: 具備解決未知問題與持續吸收新知的能力。  
- Debug/Release 分離: 維護 DEBUG 與 RELEASE 兩種版本，以兼顧偵錯便利與正式效能。  
- Trace/Assert: 善用 Trace 與 Assert，讓潛在問題於 DEBUG 階段即刻暴露。  
- 範例演練: 以線上測驗計分程式示範從 BUG 修正到加強防禦的完整流程。  
- 專業心態: 不僅「找到再改」，更要預先布好防禦機制，展現專業。  
- 單元測試關聯: Trace/Assert 思維進一步演化為現代單元測試文化。

## 全文重點
作者把職涯區分為 programmer 與 software engineer 兩階段。前者重點在會用正確演算法及資料結構把功能「寫對」；後者則需進一步思考如何把程式「寫好」，包含可靠性、系統知識、程式結構與自我學習能力。  
可靠性是軟體工程師的第一要務。作者引用 Steve Maguire《Writing Solid Code》觀念，指出程式除了效能外，更需降低 BUG 與提升防禦力。要做到這點，「讓問題浮現」是關鍵：維護 DEBUG 與 RELEASE 兩種編譯模式，在 DEBUG 時大量使用 Trace 與 Assert 來驗證假設、輸出訊息、及早攔截錯誤；而在 RELEASE 模式下停用這些檢查，保持效能。  
文中以線上測驗計分程式為案例，示範典型 BUG 修正過程：原始碼在未作答、全錯或倒扣計算時皆出現問題，工程師只能不停加 if/throw 讓程式變得混亂、效能變差。作者改寫後，把所有「應成立的假設」改以 Trace.Assert 表達，正常邏輯與例外檢查瞬間分離，閱讀性與維護性大幅提升；若假設不成立，Debugger 會即時跳出提示，開發者可立即定位原因。  
最後作者總結，Trace/Assert 正是單元測試精神的雛形：在開發階段用程式自動驗證程式，同時保留程式碼可讀性與執行效率。接下來數篇將延伸討論可靠性與單元測試的更多實務技巧。

## 段落重點
### 軟體工程師的定位與能力
文章開頭從「軟體工程師」與「程式設計師」的差異談起。程式設計師需把演算法與資料結構用正確技術實作；軟體工程師則要在此基礎上，善用語言、工具與函式庫，打造最佳化、易維護且可擴充的整體解決方案。作者列出五大能力：先成為好 programmer、提高可靠性、累積系統知識、建立良好結構，以及面對未知問題的自學與除錯能力；強調「把程式寫好」才是專業。

### 程式要有足夠的可靠性
作者引用 1993 年出版的經典書《Writing Solid Code》，指出可靠性雖是老話題，但仍是評估程式專業度的核心。具備可靠性的程式，必須能抵禦未知輸入、快速找出 BUG，並於設計階段就考慮預防措施。藉由閱讀者自我檢視與後續範例，作者強調：程式是否穩定、易於除錯，決定了軟體工程師與業餘寫手的分水嶺。

### 要讓問題浮現出來：善用 DEBUG/RELEASE 模式
本段以線上測驗計分程式為例，展示沒有防禦機制時如何不斷產生隱藏 BUG。工程師先後修補「未作答給分」「扣分到負值」等問題，程式碼愈來愈冗長且難維護。作者轉而示範專業作法：  
1. 保持正常邏輯簡潔，將所有「不應發生的狀況」改寫成 Trace.Assert；  
2. 在 DEBUG 模式開啟 Trace/Assert 以即時顯示錯誤與堆疊，方便定位；  
3. 在 RELEASE 模式停用檢查，確保效能。  
透過此技巧，既兼顧可讀性與效能，也能在開發期找出最多問題，展現「讓問題浮現」的專業精神。

### 結語與後續議題
作者提醒，可靠性的基礎做法如 Trace/Assert 正是後來單元測試的前身；若想把程式寫好，必須在流程與工具層面構建完整防禦。接下來文章將進一步延伸討論如何利用單元測試及其他技巧深化程式可靠性，鼓勵讀者保持期待並持續精進。